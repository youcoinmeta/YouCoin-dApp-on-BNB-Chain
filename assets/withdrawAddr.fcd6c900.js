import{c as e,e as l,r as t,b as a,m as o,l as r,w as s,u as i}from"./index.e3573b62.js";import{F as n}from"./index.5d35fc1b.js";import{u as d}from"./v3.ffeeb1f6.js";import{g as c,d as u,f as v,aw as p,W as m,r as f,k as h,l as g,o as w,c as x,b,t as y,u as k,n as C,e as V,z as A,F as S,y as j,w as z,a as _,p as E,h as $,_ as B}from"./index.b9b8891c.js";import{x as U,t as I}from"./index.f6f59bf0.js";import{u as F}from"./useCopy.3cb7d98c.js";import{B as D}from"./contract.2e12ebec.js";import{V as W}from"./V3DialogText.78bd027f.js";import{c as N}from"./contract.33812521.js";const[T,q]=e("loading"),G=Array(12).fill(null).map(((e,l)=>c("i",{class:q("line",String(l+1))},null))),H=c("svg",{class:q("circular"),viewBox:"25 25 50 50"},[c("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]);const J=s(u({name:T,props:{size:a,type:o("circular"),color:String,vertical:Boolean,textSize:a,textColor:String},setup(e,{slots:a}){const o=v((()=>l({color:e.color},t(e.size)))),s=()=>{const l="spinner"===e.type?G:H;return c("span",{class:q("spinner",e.type),style:o.value},[a.icon?a.icon():l])},i=()=>{var l;if(a.default)return c("span",{class:q("text"),style:{fontSize:r(e.textSize),color:null!=(l=e.textColor)?l:e.color}},[a.default()])};return()=>{const{type:l,vertical:t}=e;return c("div",{class:q([l,{vertical:t}]),"aria-live":"polite","aria-busy":!0},[s(),i()])}}})),[K,L]=e("switch");const M=s(u({name:K,props:{size:a,loading:Boolean,disabled:Boolean,modelValue:i,activeColor:String,inactiveColor:String,activeValue:{type:i,default:!0},inactiveValue:{type:i,default:!1}},emits:["change","update:modelValue"],setup(e,{emit:l,slots:t}){const a=()=>e.modelValue===e.activeValue,o=()=>{if(!e.disabled&&!e.loading){const t=a()?e.inactiveValue:e.activeValue;l("update:modelValue",t),l("change",t)}},s=()=>{if(e.loading){const l=a()?e.activeColor:e.inactiveColor;return c(J,{class:L("loading"),color:l},null)}if(t.node)return t.node()};return U((()=>e.modelValue)),()=>{var l;const{size:i,loading:n,disabled:d,activeColor:u,inactiveColor:v}=e,p=a(),m={fontSize:r(i),backgroundColor:p?u:v};return c("div",{role:"switch",class:L({on:p,loading:n,disabled:d}),style:m,tabindex:d?void 0:0,"aria-checked":p,onClick:o},[c("div",{class:L("node")},[s()]),null==(l=t.background)?void 0:l.call(t)])}}})),O=e=>(E("data-v-8e9ee7c0"),e=e(),$(),e),P={class:"switch"},Q={flex:"","items-center":"",class:"text-14px"},R={"text-10px":"","text-black":""},X={key:0},Y=["onClick"],Z={class:"bg-#E0E0E0 text-#858585","px-2":"","rounded-2":"",flex:"","items-center":""},ee=O((()=>b("span",{"text-black":"",style:{"margin-top":"10px"}},"%",-1))),le={key:0,"mb-4":""},te={key:1},ae={class:"switch-item-rate-wrap"},oe=O((()=>b("p",{style:{color:"#000"}},"%",-1))),re=["onClick"],se={key:0,"mb-4":""},ie=B(u({__name:"withdrawAddr",props:{type:null,color:null,bgColor:null,subColor:null,textColor:null,textActive:null},emits:["click","change"],setup(e,{emit:l}){const t=e;p((l=>({bf09f4e0:e.bgColor,"975d5956":e.color,de38443e:e.textActive})));const{setWithdrawAddrInfos:a}=N(),o=d(),r=new m,{copy:s}=F(),{utils:i}=r,u=f(!1),E=f(!1),$=f([{addr:"",rate:""}]),B=v((()=>o.withdrawAddrs.length));h(B,(e=>{e>0&&(E.value=!0,l("change"))})),g((()=>{E.value=o.withdrawAddrs.length>0}));const U=v((()=>{const e=$.value,l=e.length;if(0===l)return;let t=0;for(let o=0;o<l;o++){const{addr:l,rate:r}=e[o];if(""===l.value||""===r)return!0;try{const e=i.toChecksumAddress(l);if(!i.checkAddressChecksum(e))return!0}catch(a){return!0}t+=Number(r)}return 100!==t})),T=v((()=>!(0===o.withdrawAddrs.length&&!E.value)&&(!(0!==o.withdrawAddrs.length||!E.value)||!(o.withdrawAddrs.length>0&&E.value)&&(!!U.value||U.value))));async function q(e){if(o.withdrawAddrs.length>0)try{u.value=!0;await a([]);await o.getSystemInfo(),u.value=!1,E.value=!1}catch(l){u.value=!1,E.value=!e}else E.value=e}async function G(){if(U.value)return;const e=$.value,l=e.length;if(0===l)return;const t=[];for(let a=0;a<l;a++){const{addr:l,rate:o}=e[a],r=new D(o).times(new D(1e16)).toString(10);t.push([l,r])}await a(t),o.getSystemInfo()}h(T,(e=>{l("change",e)}),{immediate:!0});const H=e=>{const l=e>0?1:0;return{v2:["icon-v3-51","icon-v3-52"],v1:["icon-v3-53","icon-v3-54"],v3:["icon-v3-23","icon-v3-21"]}[t.type][l]},J=e=>parseFloat(e)>100?"100":e;return(l,t)=>{const a=M,r=n;return w(),x(S,null,[b("div",P,[c(a,{size:"12px",modelValue:E.value,loading:u.value,"active-color":e.color,"inactive-color":"#dcdee0","onUpdate:modelValue":q},null,8,["modelValue","loading","active-color"]),b("div",Q,[b("span",R,y(l.$t("v3.title51")),1),0===k(o).withdrawAddrs.length&&E.value?(w(),x("span",{key:0,class:C(["bg-#E6D8A6 h-26px",{"active-bind":!k(U)}]),style:V({"background-color":e.subColor,color:e.textColor}),"px-4":"","rounded-2":"",flex:"","items-center":"",onClick:G},y(l.$t("v3.title69")),7)):A("",!0)])]),k(o).withdrawAddrs.length>0?(w(),x("div",X,[(w(!0),x(S,null,j(k(o).withdrawAddrs,((e,l)=>{return w(),x("div",{class:"",flex:"",key:e.addr,"mb-2":"","rounded-full":"","justify-end":""},[b("div",{class:"bg-#E0E0E0 text-#858585 h-34px text-12px w-80%","mr-2":"","rounded-2":"",flex:"","pl-2":"","items-center":"","overflow-hidden":"",onClick:l=>k(s)(e.addr)},y((t=e.addr,t.slice(0,15)+"..."+t.slice(-15))),9,Y),b("div",Z,y(k(I)(e.ratio)),1),ee]);var t})),128)),k(o).withdrawAddrs.length>0?(w(),x("div",le,[c(W,null,{default:z((()=>[_(y(l.$t("v3.title71")),1)])),_:1}),c(W,null,{default:z((()=>[_(y(l.$t("v3.title72")),1)])),_:1})])):A("",!0)])):A("",!0),0===k(o).withdrawAddrs.length&&E.value?(w(),x("div",te,[(w(!0),x(S,null,j($.value,((e,t)=>(w(),x("div",{class:"switch-item",key:t},[c(r,{modelValue:e.addr,"onUpdate:modelValue":l=>e.addr=l,placeholder:l.$t("v3.title52"),label:"",class:"switch-item-addr"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),b("div",ae,[c(r,{modelValue:e.rate,"onUpdate:modelValue":l=>e.rate=l,placeholder:"0",type:"number",label:"",formatter:J,class:"switch-item-rate"},null,8,["modelValue","onUpdate:modelValue"]),oe]),b("i",{class:C(["switch-icon",H(t)]),onClick:e=>function(e){$.value.length>=5||(0===e?$.value.push({addr:"",rate:""}):$.value.splice(e,1))}(t)},null,10,re)])))),128)),0===k(o).withdrawAddrs.length?(w(),x("div",se,[c(W,null,{default:z((()=>[_(y(l.$t("v3.title70")),1)])),_:1}),c(W,null,{default:z((()=>[_(y(l.$t("v3.title53")),1)])),_:1})])):A("",!0)])):A("",!0)],64)}}}),[["__scopeId","data-v-8e9ee7c0"]]);export{ie as _};
