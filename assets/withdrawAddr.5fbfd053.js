import{c as e,e as t,y as a,n as l,m as o,d as r,w as s,u as i}from"./index.ad41e49a.js";import{F as n}from"./index.d204da08.js";import{u as d}from"./v3.7dcfe168.js";import{g as c,d as u,f as v,av as p,W as m,r as f,k as h,l as g,o as w,c as x,b as y,t as b,u as k,n as C,e as V,x as A,F as S,s as j,w as _,a as z,_ as E}from"./index.e2fded89.js";import{d as $,v as B}from"./index.6cffc3cc.js";import{u as U}from"./useCopy.7a5c821e.js";import{B as I}from"./contract.36b5a38e.js";import{V as F}from"./V3DialogText.8b28e841.js";import{d as D}from"./contract.a184dad5.js";const[W,N]=e("loading"),T=Array(12).fill(null).map((e,t)=>c("i",{class:N("line",String(t+1))},null)),q=c("svg",{class:N("circular"),viewBox:"25 25 50 50"},[c("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]);const G=s(u({name:W,props:{size:l,type:o("circular"),color:String,vertical:Boolean,textSize:l,textColor:String},setup(e,{slots:l}){const o=v(()=>t({color:e.color},a(e.size))),s=()=>{const t="spinner"===e.type?T:q;return c("span",{class:N("spinner",e.type),style:o.value},[l.icon?l.icon():t])},i=()=>{var t;if(l.default)return c("span",{class:N("text"),style:{fontSize:r(e.textSize),color:null!=(t=e.textColor)?t:e.color}},[l.default()])};return()=>{const{type:t,vertical:a}=e;return c("div",{class:N([t,{vertical:a}]),"aria-live":"polite","aria-busy":!0},[s(),i()])}}})),[H,J]=e("switch");const K=s(u({name:H,props:{size:l,loading:Boolean,disabled:Boolean,modelValue:i,activeColor:String,inactiveColor:String,activeValue:{type:i,default:!0},inactiveValue:{type:i,default:!1}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const l=()=>e.modelValue===e.activeValue,o=()=>{if(!e.disabled&&!e.loading){const a=l()?e.inactiveValue:e.activeValue;t("update:modelValue",a),t("change",a)}},s=()=>{if(e.loading){const t=l()?e.activeColor:e.inactiveColor;return c(G,{class:J("loading"),color:t},null)}if(a.node)return a.node()};return $(()=>e.modelValue),()=>{var t;const{size:i,loading:n,disabled:d,activeColor:u,inactiveColor:v}=e,p=l(),m={fontSize:r(i),backgroundColor:p?u:v};return c("div",{role:"switch",class:J({on:p,loading:n,disabled:d}),style:m,tabindex:d?void 0:0,"aria-checked":p,onClick:o},[c("div",{class:J("node")},[s()]),null==(t=a.background)?void 0:t.call(a)])}}})),L={class:"switch"},M={flex:"","items-center":"",class:"text-14px"},O={"text-10px":"","text-black":""},P={key:0},Q=["onClick"],R={class:"bg-#E0E0E0 text-#858585","px-2":"","rounded-2":"",flex:"","items-center":""},X={key:0,"mb-4":""},Y={key:1},Z={class:"switch-item-rate-wrap"},ee=["onClick"],te={key:0,"mb-4":""},ae=E(u({__name:"withdrawAddr",props:{type:{},color:{},bgColor:{},subColor:{},textColor:{},textActive:{}},emits:["click","change"],setup(e,{emit:t}){p(e=>({bf09f4e0:e.bgColor,v975d5956:e.color,de38443e:e.textActive}));const a=e,{setWithdrawAddrInfos:l}=D(),o=d(),r=new m,{copy:s}=U(),{utils:i}=r,u=t,E=f(!1),$=f(!1),W=f([{addr:"",rate:""}]),N=v(()=>o.withdrawAddrs.length);h(N,e=>{e>0&&($.value=!0,u("change"))}),g(()=>{$.value=o.withdrawAddrs.length>0});const T=v(()=>{const e=W.value,t=e.length;if(0===t)return;let a=0;for(let o=0;o<t;o++){const{addr:t,rate:r}=e[o];if(""===t.value||""===r)return!0;try{const e=i.toChecksumAddress(t);if(!i.checkAddressChecksum(e))return!0}catch(l){return!0}a+=Number(r)}return 100!==a}),q=v(()=>!(0===o.withdrawAddrs.length&&!$.value)&&(!(0!==o.withdrawAddrs.length||!$.value)||!(o.withdrawAddrs.length>0&&$.value)&&(!!T.value||T.value)));async function G(e){if(o.withdrawAddrs.length>0)try{E.value=!0;await l([]);await o.getSystemInfo(),E.value=!1,$.value=!1}catch(t){E.value=!1,$.value=!e}else $.value=e}async function H(){if(T.value)return;const e=W.value,t=e.length;if(0===t)return;const a=[];for(let l=0;l<t;l++){const{addr:t,rate:o}=e[l],r=new I(o).times(new I(1e16)).toString(10);a.push([t,r])}await l(a),o.getSystemInfo()}h(q,e=>{u("change",e)},{immediate:!0});const J=e=>{const t=e>0?1:0;return{v2:["icon-v3-51","icon-v3-52"],v1:["icon-v3-53","icon-v3-54"],v3:["icon-v3-23","icon-v3-21"]}[a.type][t]},ae=e=>parseFloat(e)>100?"100":e;return(t,a)=>{const l=K,r=n;return w(),x(S,null,[y("div",L,[c(l,{size:"12px",modelValue:$.value,loading:E.value,"active-color":e.color,"inactive-color":"#dcdee0","onUpdate:modelValue":G},null,8,["modelValue","loading","active-color"]),y("div",M,[y("span",O,b(t.$t("v3.title51")),1),0===k(o).withdrawAddrs.length&&$.value?(w(),x("span",{key:0,class:C(["bg-#E6D8A6 h-26px",{"active-bind":!k(T)}]),style:V({"background-color":e.subColor,color:e.textColor}),"px-4":"","rounded-2":"",flex:"","items-center":"",onClick:H},b(t.$t("v3.title69")),7)):A("",!0)])]),k(o).withdrawAddrs.length>0?(w(),x("div",P,[(w(!0),x(S,null,j(k(o).withdrawAddrs,(e,t)=>{return w(),x("div",{class:"",flex:"",key:e.addr,"mb-2":"","rounded-full":"","justify-end":""},[y("div",{class:"bg-#E0E0E0 text-#858585 h-34px text-12px w-80%","mr-2":"","rounded-2":"",flex:"","pl-2":"","items-center":"","overflow-hidden":"",onClick:t=>k(s)(e.addr)},b((l=e.addr,l.slice(0,15)+"..."+l.slice(-15))),9,Q),y("div",R,b(k(B)(e.ratio)),1),a[0]||(a[0]=y("span",{"text-black":"",style:{"margin-top":"10px"}},"%",-1))]);var l}),128)),k(o).withdrawAddrs.length>0?(w(),x("div",X,[c(F,null,{default:_(()=>[z(b(t.$t("v3.title71")),1)]),_:1}),c(F,null,{default:_(()=>[z(b(t.$t("v3.title72")),1)]),_:1})])):A("",!0)])):A("",!0),0===k(o).withdrawAddrs.length&&$.value?(w(),x("div",Y,[(w(!0),x(S,null,j(W.value,(e,l)=>(w(),x("div",{class:"switch-item",key:l},[c(r,{modelValue:e.addr,"onUpdate:modelValue":t=>e.addr=t,placeholder:t.$t("v3.title52"),label:"",class:"switch-item-addr"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),y("div",Z,[c(r,{modelValue:e.rate,"onUpdate:modelValue":t=>e.rate=t,placeholder:"0",type:"number",label:"",formatter:ae,class:"switch-item-rate"},null,8,["modelValue","onUpdate:modelValue"]),a[1]||(a[1]=y("p",{style:{color:"#000"}},"%",-1))]),y("i",{class:C(["switch-icon",J(l)]),onClick:e=>function(e){W.value.length>=5||(0===e?W.value.push({addr:"",rate:""}):W.value.splice(e,1))}(l)},null,10,ee)]))),128)),0===k(o).withdrawAddrs.length?(w(),x("div",te,[c(F,null,{default:_(()=>[z(b(t.$t("v3.title70")),1)]),_:1}),c(F,null,{default:_(()=>[z(b(t.$t("v3.title53")),1)]),_:1})])):A("",!0)])):A("",!0)],64)}}}),[["__scopeId","data-v-8e9ee7c0"]]);export{ae as _};
