import{I as e}from"./index.77de6298.js";import{P as a}from"./index.903be1c9.js";import{d as s,f as n,o as t,c as l,b as c,t as o,_ as r,W as i,r as d,g as u,u as f,F as v,l as p,h as m,w}from"./index.2cf58b4a.js";import{F as b}from"./index.10da9584.js";import{c as x}from"./index.d2c68f4f.js";import{B as T,C as _,E as h,_ as $}from"./contract.8624e4ef.js";import{O as g,_ as k}from"./OldUconSwapNewUcon.bd45c654.js";const A={class:"token"},C={class:"token-info"},j={class:"title"},B={class:"text"},F={class:"address"},I=r(s({__name:"TokenInfo",props:{address:{},title:{}},setup(e){const a=e,s=n(()=>a.address.slice(0,10)+"..."+a.address.slice(-10));return(a,n)=>(t(),l("div",A,[n[1]||(n[1]=c("i",{class:"icon icon-UCON"},null,-1)),c("div",C,[c("p",j,o(e.title),1),c("p",B,o(a.$t("Transfer.TokenName")),1),c("div",F,[c("span",null,o(s.value),1),n[0]||(n[0]=c("i",{class:"icon icon-explore"},null,-1))])])]))}}),[["__scopeId","data-v-8da5c642"]]),D={class:"input"},E={class:"input-left"},O={class:"balance"},y=r(s({__name:"Input",props:{balance:{}},emits:["change","max"],setup(e,{emit:a}){const s=new i,{utils:n}=s,r=e,p=a,m=d("");function w(e){if(""===e)return void p("change","");let a=n.toWei(e);1!==T(a).comparedTo(T(r.balance))?p("change",e):m.value=n.fromWei(r.balance)}function _(){m.value=n.fromWei(r.balance)}return(a,s)=>{const n=b;return t(),l(v,null,[c("div",D,[c("div",{class:"max",onClick:_},o(a.$t("Max")),1),c("div",E,[u(n,{"model-value":m.value,"onUpdate:modelValue":[s[0]||(s[0]=e=>m.value=e),w],"input-align":"right"},null,8,["model-value"])])]),c("div",O,o(a.$t("Transfer.Balance"))+": "+o(f(x)(e.balance)),1)],64)}}}),[["__scopeId","data-v-64738194"]]),U={class:"text"},W={class:"text"},N={class:"text"};const M=r({},[["render",function(e,a){return t(),l(v,null,[c("p",U,o(e.$t("Transfer.Text1")),1),c("p",W,o(e.$t("Transfer.Text2")),1),c("p",N,o(e.$t("Transfer.Text3")),1)],64)}],["__scopeId","data-v-151d74ce"]]),P={class:"title"},S={class:"text"},V={class:"content"},q={class:"input"},z={class:"balance"},G=r(s({__name:"Transfer",setup(s){const n=new i,{utils:l}=n,r=h||$,v=new _(g||k,"0x9d45fb381BB4Ae75Da4D3231Cd99b50E9F95Ae45"),b=d("0x96f75b57ba0cf514f932d24e076b6cb52e8fe583"),T=d("0x1F88E9956c8f8F64c8D5fEF5eD8A818E2237112c"),A=d("0x9d45fb381BB4Ae75Da4D3231Cd99b50E9F95Ae45"),C=new _(r,b.value),j=new _(r,T.value),B=d("0"),F=d(""),D=d(""),E=d(""),O=d(!0);function U(e){E.value=e}async function W(){const e=window.ethereum.selectedAddress||window.ethereum.address,a=await C.call("allowance",[e,A.value]);B.value=a}async function N(){if("0"!==B.value){if(""===E.value)return;const e=l.toWei(E.value);v.execute("burn",[e])}else await C.execute("approve",[A.value,"10000000000000000000000000000"]),W()}return p(async()=>{W(),async function(){const e=window.ethereum.selectedAddress||window.ethereum.address;F.value=await C.call("balanceOf",[e]),D.value=await j.call("balanceOf",[e])}()}),(s,n)=>{const l=e,r=a;return t(),m(r,{show:O.value,"onUpdate:show":n[0]||(n[0]=e=>O.value=e),position:"bottom",round:"",style:{padding:"0px"}},{default:w(()=>[c("h4",P,[c("span",S,o(s.$t("Transfer.Title")),1),u(l,{name:"close"})]),c("div",V,[u(I,{address:b.value,title:s.$t("Transfer.TokenOld")},null,8,["address","title"]),u(y,{balance:F.value,onChange:U},null,8,["balance"]),n[1]||(n[1]=c("i",{class:"down icon icon-downcirclegreen"},null,-1)),u(I,{address:T.value,title:s.$t("Transfer.TokenNew")},null,8,["address","title"]),c("div",q,o(E.value),1),c("div",z,o(s.$t("Transfer.Balance"))+": "+o(f(x)(D.value)),1),u(M),c("div",{class:"confirm",onClick:N},o("0"!==B.value?s.$t("Confirm"):s.$t("Approve")),1)])]),_:1},8,["show"])}}}),[["__scopeId","data-v-ee3ac878"]]);export{G as default};
