import{u as e,E as t,U as a,T as l,S as n,a as s,_ as i}from"./v3.02e4380e.js";import{c,e as o,x as d,b as u,m as r,l as v,w as p,u as f,I as m}from"./index.2e1dce46.js";import{j as x,P as _}from"./index.14678468.js";import{b,d as A,c as C,r as w,o as E,g as T,w as y,e as P,S as D,t as k,h as I,R as h,_ as B,a as S,x as F,i as g,F as V,s as $,u as U,y as R,j as O,k as N,p as j,f as L,W as M,q as W,v as z}from"./index.b89f3217.js";import{o as H}from"./plugin-vue_export-helper.7c22eb3e.js";import{S as K}from"./index.be822a88.js";import{F as q}from"./index.1571983c.js";import{T as G,_ as Y}from"./TokenItem.f2378e75.js";import{Q,B as J,O as X,L as Z,c as ee,I as te}from"./index.6fade032.js";import{u as ae}from"./useUbsV3.9e00356f.js";import{u as le}from"./useCopy.6adfac00.js";import{u as ne,b as se}from"./contract.a810471f.js";import{u as ie}from"./v2.aa454314.js";import"./el-popper.e6c6f3c3.js";import"./index.d62a8fb0.js";import"./index.b1efbf90.js";const[ce,oe]=c("loading"),de=Array(12).fill(null).map(((e,t)=>b("i",{class:oe("line",String(t+1))},null))),ue=b("svg",{class:oe("circular"),viewBox:"25 25 50 50"},[b("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]);const re=p(A({name:ce,props:{size:u,type:r("circular"),color:String,vertical:Boolean,textSize:u,textColor:String},setup(e,{slots:t}){const a=C((()=>o({color:e.color},d(e.size)))),l=()=>{const l="spinner"===e.type?de:ue;return b("span",{class:oe("spinner",e.type),style:a.value},[t.icon?t.icon():l])},n=()=>{var a;if(t.default)return b("span",{class:oe("text"),style:{fontSize:v(e.textSize),color:null!=(a=e.textColor)?a:e.color}},[t.default()])};return()=>{const{type:t,vertical:a}=e;return b("div",{class:oe([t,{vertical:a}]),"aria-live":"polite","aria-busy":!0},[l(),n()])}}})),[ve,pe]=c("switch");const fe=p(A({name:ve,props:{size:u,loading:Boolean,disabled:Boolean,modelValue:f,activeColor:String,inactiveColor:String,activeValue:{type:f,default:!0},inactiveValue:{type:f,default:!1}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:a}){const l=()=>e.modelValue===e.activeValue,n=()=>{if(!e.disabled&&!e.loading){const a=l()?e.inactiveValue:e.activeValue;t("update:modelValue",a),t("change",a)}},s=()=>{if(e.loading){const t=l()?e.activeColor:e.inactiveColor;return b(re,{class:pe("loading"),color:t},null)}if(a.node)return a.node()};return x((()=>e.modelValue)),()=>{var t;const{size:i,loading:c,disabled:o,activeColor:d,inactiveColor:u}=e,r=l(),p={fontSize:v(i),backgroundColor:r?d:u};return b("div",{role:"switch",class:pe({on:r,loading:c,disabled:o}),style:p,tabindex:o?void 0:0,"aria-checked":r,onClick:n},[b("div",{class:pe("node")},[s()]),null==(t=a.background)?void 0:t.call(a)])}}})),me={class:"title-v2"},xe={class:"title-v2-text"},_e=B(A({__name:"V3Popup",props:{show:{type:Boolean,default:!1},height:{default:"60vh"},title:{default:"title"},zindex:{default:"1100"},overlay:{type:Boolean,default:!0},border:{default:""},isClose:{type:Boolean,default:!0}},emits:["close"],setup(e,{emit:t}){const a=e,l=w(null),n=w(null);function s(){n.value?.scroll({top:0,behavior:"smooth"})}return H(l,(e=>{if(a.show){e.target.className.indexOf("van-overlay")>-1&&a.isClose&&t("close")}})),(a,i)=>{const c=m,o=_;return E(),T(o,{ref_key:"target",ref:l,show:e.show,position:"bottom",round:"","overlay-class":"popup",overlay:e.overlay,style:D({padding:"0px",height:e.height}),"z-index":e.zindex,"close-icon-position":"bottom-left","close-on-click-overlay":!1,teleport:"body",onClose:s},{default:y((()=>[P("div",{class:"popup",style:D({"z-index":e.zindex+1})},[P("h4",me,[P("span",xe,k(e.title),1),b(c,{name:"cross",class:"close",color:"#000",onClick:i[0]||(i[0]=I((e=>t("close")),["self","prevent"]))})]),P("div",{class:"content",ref_key:"el",ref:n},[h(a.$slots,"default",{},void 0,!0)],512)],4)])),_:3},8,["show","overlay","style","z-index"])}}}),[["__scopeId","data-v-c7185dcf"]]),be={class:"number"},Ae=B(A({__name:"Number",props:{index:null},setup:e=>(t,a)=>(E(),S("div",be,k(e.index),1))}),[["__scopeId","data-v-8779846d"]]),Ce=B(A({__name:"DialogBtn",props:{disabled:{type:Boolean},width:null},emits:["click"],setup(e,{emit:t}){const a=e;function l(){a.disabled||t("click")}return(t,a)=>(E(),S("span",{class:F(["v1-btn",{"v1-btn-active":!e.disabled}]),style:D({width:e.width}),onClick:l},[h(t.$slots,"default",{},void 0,!0)],6))}}),[["__scopeId","data-v-9fbbe906"]]),we={class:"text"};const Ee=B({},[["render",function(e,t){return E(),S("div",we,[h(e.$slots,"default",{},void 0,!0),h(e.$slots,"text",{},void 0,!0)])}],["__scopeId","data-v-1a66756e"]]),Te={class:"popup-content"},ye={class:"popup-title","mb-2":""},Pe={class:"popup-title1"},De={class:"flex-1 text-12px","text-right":"","mr-2":"","text-black":"","pr-1":""},ke={class:"popup-item","mb-1":""},Ie={flex:""},he={"flex-1":"",class:"bal text-11px text-#767676","mr-2":"","text-right":""},Be={class:"w-85px",flex:"","items-center":"",style:{width:"60px"}},Se=["onClick"],Fe=["onClick"],ge=["onClick"],Ve=A({__name:"StakeSelectTokenDialog",props:{active:{type:Boolean},type:null,list:null,isChange:{type:Boolean}},emits:["add","delete","changeType","changeShow"],setup(t,{emit:a}){const l=t,n=e(),s=w(!1),i=w(null);function c(e){const{approve:t,bal:a}=e;if("0"===t)return"bg-#FFCD1C";new J(t).comparedTo(new J(a));return"bg-#FBF6DD"}function o(e){if(l.list.length>=5)return!1;if(l.type>0&&!d(e.name))return!0;const{approve:t,name:a}=e;return"0"!==t?!d(a):void 0}function d(e){return l.list.findIndex((t=>t.name===e))>-1}function u(e){if(l.type>0)return!1;const{bal:t,approve:a}=e;if("0"===a)return!0;return!(-1!==new J(a).comparedTo(new J(t)))||void 0}function r(){s.value=!0,l.isChange||a("changeType",l.type)}function v(){s.value=!1}return g(s,(e=>{a("changeShow",e)})),(e,l)=>{const p=m,f=_;return E(),S(V,null,[P("div",{class:F(["select-box text-#E5A205 text-12px w-86px",{"active-type":t.active}]),"mr-2":"",flex:"","items-center":"","justify-center":"",onClick:r},k(e.$t("v3.title36")),3),b(f,{ref_key:"selectToken",ref:i,show:s.value,"onUpdate:show":l[1]||(l[1]=e=>s.value=e),style:{padding:"0px",width:"90vw"},"close-on-click-overlay":!0,"overlay-class":"select-over","z-index":"2001",teleport:"body",onClose:v},{default:y((()=>[P("div",Te,[P("div",ye,[P("span",Pe,k(e.$t("v3.title36")),1),P("span",De,k(e.$t("Stake.Balance")),1),b(p,{class:"w-62px",color:"#000",name:"cross",size:"16",onClick:l[0]||(l[0]=e=>s.value=!1)})]),(E(!0),S(V,null,$(U(n).selectTokenList,(t=>(E(),S("div",ke,[P("div",Ie,[(E(),T(G,{style:{flex:"1"},name:t.name,key:t.addr,isArrow:t.isArrow,"is-pos":t.isPos,expansionFactor:t.expansionFactor,type:"stake"},null,8,["name","isArrow","is-pos","expansionFactor"]))]),P("span",he,k(U(Q)(t.bal,t.decimal,6)),1),P("div",Be,[u(t)?(E(),S("div",{key:0,class:F(["token-approve",c(t)]),onClick:e=>{return a=t.addr,void n.setApprove(a);var a},"mr-2":""},k(e.$t("v3.title49")),11,Se)):R("",!0),d(t.name)?(E(),S("i",{key:1,class:"icon1 icon-v3-17 w-14px h-14px",onClick:e=>function(e){a("delete",e.tokenIdx)}(t)},null,8,Fe)):R("",!0),o(t)?(E(),S("i",{key:2,class:"icon icon-v3-2",onClick:e=>function(e){a("add",e)}(t)},null,8,ge)):R("",!0)])])))),256))])])),_:1},8,["show"])],64)}}}),$e=B(Ve,[["__scopeId","data-v-7d0b3422"]]),Ue=e=>(j("data-v-d5d3076b"),e=e(),L(),e),Re={class:"container-stake","text-12px":""},Oe={class:"flex container-stake",style:{margin:"16px 0"}},Ne={"mr-4":"","text-14px":""},je={class:"flex","justify-end":"","flex-1":""},Le={class:"select-box text-#E5A205 text-14px w-100px",flex:"","items-center":"","justify-center":""},Me={key:0},We={key:0,class:"flex","mb-4":""},ze={class:"token-approve"},He={class:"text-12px"},Ke={class:"",flex:"","flex-1":"","justify-end":""},qe={"ml-2":""},Ge={key:1,class:"warning"},Ye=Ue((()=>P("i",{class:"icon icon-v3-3"},null,-1))),Qe={class:"flex"},Je={"mr-2":"","text-14px":""},Xe=Ue((()=>P("span",{"mr-2":"","ml--2":""},"%",-1))),Ze=["onClick"],et=["onClick"],tt={class:"item","flex-1":"","text-black":"",flex:"","items-center":""},at={class:"flex-1",border:""},lt={class:"text-#767676 text-12px"},nt=["onClick"],st=["onClick"],it={class:"flex"},ct={"text-14px":""},ot=["onClick"],dt={class:"token-approve"},ut={class:"item","flex-1":"","text-black":"",flex:"","items-center":""},rt={class:"flex-1",border:""},vt={key:0,class:"text-#767676 text-12px"},pt=["onClick"],ft=["onClick"],mt={key:4,class:"warning"},xt=Ue((()=>P("i",{class:"icon icon-v3-3"},null,-1))),_t={class:"flex",style:{margin:"20px 0 20px"}},bt={"text-14px":""},At={class:"custom-button"},Ct={class:"flex slide"},wt={class:"flex slide-item"},Et={class:"info-item"},Tt={class:"label"},yt={class:"info-item-box"},Pt={class:"info-item-box"},Dt={class:"info-item"},kt={class:"label"},It={class:"info-item-box"},ht={class:"info-item-box"},Bt={key:5,class:"warning","mt-10px":""},St=Ue((()=>P("i",{class:"icon icon-v3-3"},null,-1))),Ft={"flex-1":""},gt=B(A({__name:"StakeDialog",setup(s){const{VITE_APP_USDT:i,VITE_APP_USDC:c}={VITE_BSCSCAN:"https://bscscan.com",VITE_DAO_ADMIN_BYTES:"0x35867f9e6c4fc47417f2f795eba6eb7f71dd6647351ab9ec723bbce399915b0a",VITE_WASM:"https://resource.githnet.com/2025-04-03/main.wasm.ob",VITE_API:"https://resource.githnet.com/api",VITE_NORMAL:"1",VITE_APP_UBS_CODE_SERVICE:"0x8337A3f373B55Ae0e2b0f3040E57Ff1Aa602F4F4",VITE_APP_CONFIG_CONTRACT:"0x0cd8CC5527dceF8eE95480fbaf03Dc847B794C62",VITE_APP_UCON_CONTRACT:"0x1F88E9956c8f8F64c8D5fEF5eD8A818E2237112c",VITE_APP_USDT:"0x55d398326f99059fF775485246999027B3197955",VITE_APP_USDC:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",VITE_APP_SERO:"0x1702EC380e924B0E12d5C2e838B6b91A1fB3A052",VITE_APP_WETH:"0x2170ed0880ac9a755fd29b2688956bd959f933f8",VITE_APP_OLD_UCON_CONTRACT:"0x96f75b57ba0cf514f932d24e076b6cb52e8fe583",VITE_APP_DOT:"0x7083609fCE4d1d8Dc0C979AAb8c869Ea2C873402",VITE_APP_WBNB:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",VITE_APP_BTC:"0x7130d2a12b9bcbfae4f2634d864a1ee1ce3ead9c",VITE_APP_OLD_NEW_UCON_CONTRACT:"0x9d45fb381BB4Ae75Da4D3231Cd99b50E9F95Ae45",VITE_APP_MEDAL:"0x0c66cE39C670fE37d66d855c32c17485D568683a",VITE_APP_UBS_ACCOUNT_CONTRACT:"0xad36b8c89f341010fdd98a67b0b8bb738faa7289",VITE_APP_PRICE:"0x5aD19a8F5c41c60c156EA0b918FcAbf0aF9D2Dc6",VITE_APP_MARKET_FOUNDER:"0xAd792EDF5c99dACD920DD1950adD3F6e57eb0e82",VITE_MarketSEROFounder:"0x736D833387E50aA06F42c7361352758Ab8A9749a",VITE_APP_UBS_STAKE_NFT_CONTRACT:"0xc7167485010e818e361fc88dc32985cd1678271c",VITE_APP_UBS_SHARE_POOL_CONTRACT:"0x89Ab9eF80f6Fcc36784a4fD5D3d7C6a9CcFdb4e1",VITE_APP_DAO_REWARD:"0x62934e7e5c61d95C792aBDA39c9a20dBCC59eeE9",VITE_APP_DAO:"0x84EF0D09F9Ba4239976CC68cD6e549b5c8729dc1",VITE_APP_UCON_SWAP:"0x0704Ca7F73749F23A57997df53c02a9caA7Fed9B",VITE_APP_UBS_V1_CONTRACT:"0xA949696cfDf479d224DF4f95F0C3C2bD7230ccbf",VITE_APP_REINVEST_WRAPPER:"0xE80eBEbEE3Ab6256FF8866eA66604Fb8D14da9a2",VITE_APP_UBS_V2_CONTRACT:"0x3341391e8750ca8Db57F69570AfAf0319c6b93C3",VITE_APP_UBS_V3_CONTRACT:"0xF882368B672290f174D57C1c0A1ac4Fc21525C87",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0},o=new t(i),d=new t(c),u=e(),{stake:r}=ae(),v=w(!1),p=w(-1),f=w(0),m=w("2"),x=w(""),_=w(""),A=w(""),T=w(""),D=w([]),I=C((()=>1===p.value?"USDT":"USDC")),h=C((()=>{if(""===x.value||p.value<1)return!1;const e=new J(x.value).times(new J(10).exponentiatedBy(a)),t=new J(T.value||"0");return 1===e.comparedTo(t)})),B=C((()=>{if(0===D.value.length)return!1;if(p.value>0)return!1;for(let e=0;e<D.value.length;e++){const{val:t,approve:a}=D.value[e];if("0"!==t&&""!==t){if(1===new J(t).times(new J(1e18)).comparedTo(new J(a)))return!0}}return!1})),g=C((()=>{if(""===u.accountID)return!0;if(0===p.value){if(0===D.value.length)return!0;for(let e=0;e<D.value.length;e++){const{val:t,bal:a,approve:l}=D.value[e];if("0"===t||""===t)return!0;if("0"!==t&&""!==t){if(1===new J(t).times(new J(10).exponentiatedBy(18)).comparedTo(new J(l)))return!0}}return!1}if(1===p.value||2===p.value){if(h.value)return!0;if(""===x.value||"0"===x.value)return!0;return"100"!==D.value.reduce(((e,t)=>e.plus(t.rate||"0")),new J(0)).toString(10)}return!0})),j=C((()=>{const e=D.value;if(p.value>0)return new J(x.value||"0").times(1e6).toString(10);return e.reduce(((e,t)=>{if(t.val){const a=new J(t.val||"0").times(new J(10).exponentiatedBy(t.decimal)).toString(10),l=Z(a,t.price,t.decimal);return e.plus(new J(l))}return e.plus(0)}),new J(0)).toString(10)}));C((()=>new J(j.value).plus(new J(u.userTotalStake)).toString(10)));const L=C((()=>{const e=D.value;e.length;const t=new J(1e18);f.value;const a=new J(2).times(t),l=new J(5).times(t).minus(a),n=t.div(2),s=t.times(2).minus(n),i=t.times(t).dividedBy(new J(M.value)).minus(a);if(p.value>0){const e=i.times(t).dividedBy(l),a=s.times(e).dividedBy(t).plus(n).times(t).dividedBy(t),c=new J(x.value||"0").times(t);return new J(a).times(c).dividedBy(1e18).dividedBy(1e18).times(1e6).toString(10)}return e.reduce(((e,a)=>{if(a.val){const{val:c,price:o,expansionFactor:d}=a,u=i.times(t).dividedBy(l),r=s.times(u).dividedBy(t).plus(n).times(d).dividedBy(t),v=new J(c).times(t);return e.plus(new J(r).times(v).dividedBy(1e18).times(o).dividedBy(1e18))}return e.plus(0)}),new J(0)).toString(10)}));C((()=>{const e=D.value;e.length;const t=150*f.value/100+50;if(p.value>0)return new J(x.value||"0").times(1e6).times(new J(t||"1")).div(100).toString(10);return e.reduce(((e,t)=>{if(t.val){const a=new J(t.val).times(new J(10).exponentiatedBy(t.decimal)).toString(10),l=Z(a,t.price,t.decimal);return e.plus(new J(l).times(new J(1).div(m.value).plus(1)).times(new J(t.expansionFactor)).times(new J(1e6)).dividedBy(new J(1e18)).dividedBy(new J(1e18)))}return e.plus(0)}),new J(0)).toString(10)}));const M=C((()=>new J(1).dividedBy(m.value).times(new J(1e18)).decimalPlaces(0).toString(10))),W=C((()=>{const{principalUSD:e,principalFactor:t}=u.accountInfo,a=new J(e||"0").times(new J(t||"0")).decimalPlaces(2).dividedBy(1e18),l=new J(j.value||"0").times(M.value||"0").decimalPlaces(2).dividedBy(1e18),n=a.plus(l),s=new J(u.userTotalStake||"0").plus(new J(j.value||"0"));if("0"===s.toString(10))return"0";return new J(1).div(n.div(s)).minus(1).decimalPlaces(2).toString(10)})),z=C((()=>new J(j.value).times(M.value).div(new J(1e18)).decimalPlaces(2).toString(10))),H=C((()=>new J(u.userTotalStake).plus(new J(j.value)).toString(10)));function Y(e){const t=D.value.findIndex((t=>t.tokenIdx===e.tokenIdx));t>-1&&(D.value.splice(t,1),ue())}async function Q(e){const t=await u.setApprove(e.addr);e.approve=t}const ee=e=>/^-?\d+(\.\d{0,2})?$/.test(e)?e:e.slice(0,4);function te(e){if("2.00"===e&&(m.value=2),"5.00"===e&&(m.value=5),parseFloat(e)<=2)return m.value="2",void(f.value=0);if(e>5)return m.value="5",void(f.value=100);let t=e;const a=(t-2)/3*100;f.value=a,m.value=t}function le(e){const t=3*f.value/100+2,a=t;return m.value=a,`${t.toFixed(2)}`}async function ne(){v.value=!0}async function se(e){if(p.value=e,xe.value=!0,e!==p.value&&(D.value=[]),e>0){if(D.value=[],1===e){const e=await o.call("balanceOf",[u.account]);_.value=e}if(2===e){const e=await d.call("balanceOf",[u.account]);A.value=e}xe.value=!1;const{VITE_APP_USDT:a,VITE_APP_USDC:l}={VITE_BSCSCAN:"https://bscscan.com",VITE_DAO_ADMIN_BYTES:"0x35867f9e6c4fc47417f2f795eba6eb7f71dd6647351ab9ec723bbce399915b0a",VITE_WASM:"https://resource.githnet.com/2025-04-03/main.wasm.ob",VITE_API:"https://resource.githnet.com/api",VITE_NORMAL:"1",VITE_APP_UBS_CODE_SERVICE:"0x8337A3f373B55Ae0e2b0f3040E57Ff1Aa602F4F4",VITE_APP_CONFIG_CONTRACT:"0x0cd8CC5527dceF8eE95480fbaf03Dc847B794C62",VITE_APP_UCON_CONTRACT:"0x1F88E9956c8f8F64c8D5fEF5eD8A818E2237112c",VITE_APP_USDT:"0x55d398326f99059fF775485246999027B3197955",VITE_APP_USDC:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",VITE_APP_SERO:"0x1702EC380e924B0E12d5C2e838B6b91A1fB3A052",VITE_APP_WETH:"0x2170ed0880ac9a755fd29b2688956bd959f933f8",VITE_APP_OLD_UCON_CONTRACT:"0x96f75b57ba0cf514f932d24e076b6cb52e8fe583",VITE_APP_DOT:"0x7083609fCE4d1d8Dc0C979AAb8c869Ea2C873402",VITE_APP_WBNB:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",VITE_APP_BTC:"0x7130d2a12b9bcbfae4f2634d864a1ee1ce3ead9c",VITE_APP_OLD_NEW_UCON_CONTRACT:"0x9d45fb381BB4Ae75Da4D3231Cd99b50E9F95Ae45",VITE_APP_MEDAL:"0x0c66cE39C670fE37d66d855c32c17485D568683a",VITE_APP_UBS_ACCOUNT_CONTRACT:"0xad36b8c89f341010fdd98a67b0b8bb738faa7289",VITE_APP_PRICE:"0x5aD19a8F5c41c60c156EA0b918FcAbf0aF9D2Dc6",VITE_APP_MARKET_FOUNDER:"0xAd792EDF5c99dACD920DD1950adD3F6e57eb0e82",VITE_MarketSEROFounder:"0x736D833387E50aA06F42c7361352758Ab8A9749a",VITE_APP_UBS_STAKE_NFT_CONTRACT:"0xc7167485010e818e361fc88dc32985cd1678271c",VITE_APP_UBS_SHARE_POOL_CONTRACT:"0x89Ab9eF80f6Fcc36784a4fD5D3d7C6a9CcFdb4e1",VITE_APP_DAO_REWARD:"0x62934e7e5c61d95C792aBDA39c9a20dBCC59eeE9",VITE_APP_DAO:"0x84EF0D09F9Ba4239976CC68cD6e549b5c8729dc1",VITE_APP_UCON_SWAP:"0x0704Ca7F73749F23A57997df53c02a9caA7Fed9B",VITE_APP_UBS_V1_CONTRACT:"0xA949696cfDf479d224DF4f95F0C3C2bD7230ccbf",VITE_APP_REINVEST_WRAPPER:"0xE80eBEbEE3Ab6256FF8866eA66604Fb8D14da9a2",VITE_APP_UBS_V2_CONTRACT:"0x3341391e8750ca8Db57F69570AfAf0319c6b93C3",VITE_APP_UBS_V3_CONTRACT:"0xF882368B672290f174D57C1c0A1ac4Fc21525C87",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0},n=1===e?a:l;new t(n);const{bal:s,approve:i}=await u.getBalApprove(n);T.value=i,D.value.length}}function ie(e){const{tokenIdx:t}=e,a=D.value.findIndex((e=>e.tokenIdx===t));D.value.length>=5||a>-1||(D.value.push({...e,val:"",rate:"0"}),ue())}function ce(e){const t=D.value.findIndex((t=>t.tokenIdx===e));D.value.splice(t,1),ue()}function oe(e){const t=1===p.value?_.value:A.value;1===new J(e).times(new J(10).exponentiatedBy(a)).comparedTo(new J(t))&&de()}function de(){const e=1===p.value?_.value:A.value;if(p.value>0){const t=new J(e).dividedBy(new J(10).exponentiatedBy(a)).decimalPlaces(6).toString(10);x.value=t}}function ue(){if(p.value>0){const e=D.value.length;for(let t=0;t<D.value.length;t++)1===e&&(D.value[t].rate="100"),2===e&&(D.value[t].rate="50"),3===e&&(D.value[t].rate=0===t?"34":"33"),4===e&&(D.value[t].rate="25"),5===e&&(D.value[t].rate="20")}}function re(){v.value=!1,p.value=-1,x.value="",D.value=[]}function ve(e){e.isCoin=!e.isCoin}async function pe(){if(!g.value){const e=D.value,t=[],l=["0x0000000000000000000000000000000000000000",i,c];for(let i=0;i<e.length;i++){const{val:s,tokenIdx:c,addr:o,price:d,rate:u,bal:r,isMax:v,decimal:f}=e[i];if(0===p.value){const e=v?new J(r).toString(10):new J(s).times(new J(10).exponentiatedBy(f)).toString(10),a=new J(e).times(new J(100-n)).dividedBy(100).decimalPlaces(0).toString(10);t.push([c,e,l[p.value],a])}else{const e=new J(x.value).times(new J(u)).dividedBy(100).times(new J(10).exponentiatedBy(a)).decimalPlaces(0).toString(10),s=new J(e).times(new J(100-n)).dividedBy(100).dividedBy(d).decimalPlaces(0).toString(10);t.push([c,e,l[p.value],s])}}const s=await u.getInputDate();await r(M.value,t,s),D.value=[],p.value=-1,re(),x.value="",await u.getSystemInfo()}}function fe(e){const{val:t,approve:a}=e;return"0"===a||1===new J(t).times(new J(1e18)).comparedTo(new J(a))}function me(e,t){return new J(x.value||"0").times(new J(1e6)).times(e).dividedBy(100).dividedBy(t).decimalPlaces(6).toString(10)}const xe=w(!1);function be(e){xe.value=e}return O((async()=>{})),(e,n)=>{const s=q,i=K,c=_e;return E(),S(V,null,[b(Ce,{disabled:!1,onClick:ne},{default:y((()=>[P("span",null,k(e.$t("btn.stake")),1)])),_:1}),b(c,{show:v.value,title:e.$t("v3.title34"),height:p.value>-1?"80vh":"26vh","z-index":2e3,isClose:!xe.value,onClose:re},{default:y((()=>[P("div",Re,[P("div",Oe,[b(Ae,{index:1}),P("span",Ne,k(e.$t("v3.title35")),1),P("div",je,[b($e,{active:0===p.value,type:0,list:D.value,onAdd:ie,"is-change":!1,onDelete:ce,onChangeType:se,onChangeShow:be},null,8,["active","list"]),P("div",Le,[P("span",{"mr-2":"",onClick:n[0]||(n[0]=e=>se(1)),class:F({"active-type":1===p.value})},"USDT",2),P("span",{onClick:n[1]||(n[1]=e=>se(2)),class:F({"active-type":2===p.value})},"USDC",2)])])]),p.value>-1?(E(),S("div",Me,[0!==p.value?(E(),S("div",We,[P("div",{class:"token-approve-wrap",onClick:n[2]||(n[2]=e=>de())},[P("div",ze,k(e.$t("v3.title38")),1)]),b(s,{placeholder:e.$t("v3.title39"),label:"",modelValue:x.value,"onUpdate:modelValue":[n[3]||(n[3]=e=>x.value=e),oe],class:"token-item-input",style:{width:"80px"}},null,8,["placeholder","modelValue"]),P("span",He,k(U(I)),1),P("div",Ke,[P("span",null,k(e.$t("v3.title84")),1),P("div",qe,k(U(X)(("USDT"===U(I)?_.value:A.value)||"0",U(a),1)),1),U(h)?(E(),S("div",{key:0,class:"token-approve",onClick:n[4]||(n[4]=e=>async function(){const{VITE_APP_USDT:e,VITE_APP_USDC:a}={VITE_BSCSCAN:"https://bscscan.com",VITE_DAO_ADMIN_BYTES:"0x35867f9e6c4fc47417f2f795eba6eb7f71dd6647351ab9ec723bbce399915b0a",VITE_WASM:"https://resource.githnet.com/2025-04-03/main.wasm.ob",VITE_API:"https://resource.githnet.com/api",VITE_NORMAL:"1",VITE_APP_UBS_CODE_SERVICE:"0x8337A3f373B55Ae0e2b0f3040E57Ff1Aa602F4F4",VITE_APP_CONFIG_CONTRACT:"0x0cd8CC5527dceF8eE95480fbaf03Dc847B794C62",VITE_APP_UCON_CONTRACT:"0x1F88E9956c8f8F64c8D5fEF5eD8A818E2237112c",VITE_APP_USDT:"0x55d398326f99059fF775485246999027B3197955",VITE_APP_USDC:"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d",VITE_APP_SERO:"0x1702EC380e924B0E12d5C2e838B6b91A1fB3A052",VITE_APP_WETH:"0x2170ed0880ac9a755fd29b2688956bd959f933f8",VITE_APP_OLD_UCON_CONTRACT:"0x96f75b57ba0cf514f932d24e076b6cb52e8fe583",VITE_APP_DOT:"0x7083609fCE4d1d8Dc0C979AAb8c869Ea2C873402",VITE_APP_WBNB:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",VITE_APP_BTC:"0x7130d2a12b9bcbfae4f2634d864a1ee1ce3ead9c",VITE_APP_OLD_NEW_UCON_CONTRACT:"0x9d45fb381BB4Ae75Da4D3231Cd99b50E9F95Ae45",VITE_APP_MEDAL:"0x0c66cE39C670fE37d66d855c32c17485D568683a",VITE_APP_UBS_ACCOUNT_CONTRACT:"0xad36b8c89f341010fdd98a67b0b8bb738faa7289",VITE_APP_PRICE:"0x5aD19a8F5c41c60c156EA0b918FcAbf0aF9D2Dc6",VITE_APP_MARKET_FOUNDER:"0xAd792EDF5c99dACD920DD1950adD3F6e57eb0e82",VITE_MarketSEROFounder:"0x736D833387E50aA06F42c7361352758Ab8A9749a",VITE_APP_UBS_STAKE_NFT_CONTRACT:"0xc7167485010e818e361fc88dc32985cd1678271c",VITE_APP_UBS_SHARE_POOL_CONTRACT:"0x89Ab9eF80f6Fcc36784a4fD5D3d7C6a9CcFdb4e1",VITE_APP_DAO_REWARD:"0x62934e7e5c61d95C792aBDA39c9a20dBCC59eeE9",VITE_APP_DAO:"0x84EF0D09F9Ba4239976CC68cD6e549b5c8729dc1",VITE_APP_UCON_SWAP:"0x0704Ca7F73749F23A57997df53c02a9caA7Fed9B",VITE_APP_UBS_V1_CONTRACT:"0xA949696cfDf479d224DF4f95F0C3C2bD7230ccbf",VITE_APP_REINVEST_WRAPPER:"0xE80eBEbEE3Ab6256FF8866eA66604Fb8D14da9a2",VITE_APP_UBS_V2_CONTRACT:"0x3341391e8750ca8Db57F69570AfAf0319c6b93C3",VITE_APP_UBS_V3_CONTRACT:"0xF882368B672290f174D57C1c0A1ac4Fc21525C87",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0},n=1===p.value?e:a,s=new t(n),i=new J("10e24").toString(10);try{await s.execute("approve",["0xF882368B672290f174D57C1c0A1ac4Fc21525C87",l]),T.value=i}catch(c){}}()),style:{background:"#f93636",color:"#fff"},"ml-1":""},k(e.$t("v3.title49")),1)):R("",!0)])])):R("",!0),U(h)?(E(),S("div",Ge,[Ye,P("span",null,k(e.$t("v3.title40")),1)])):R("",!0),p.value>0?(E(),S(V,{key:2},[P("div",Qe,[b(Ae,{index:2}),P("span",Je,k(e.$t("v3.title68",{name:U(I)})),1),b($e,{active:!0,type:1,list:D.value,isChange:!0,onAdd:ie,onDelete:ce,onChangeType:se,onChangeShow:be},null,8,["list"])]),(E(!0),S(V,null,$(D.value,(t=>{return E(),S("div",{class:"token-item text-11px","my-2":"",key:t.addr},[b(s,{placeholder:e.$t("v3.title39"),label:"",modelValue:t.rate,"onUpdate:modelValue":e=>t.rate=e,type:"digit",max:100,class:"token-item-input w-66px","mr-0":"",style:{width:"40px"}},null,8,["placeholder","modelValue","onUpdate:modelValue"]),Xe,P("div",{class:"bg-#E5E5E5 w-76px h-28px text-#767676",flex:"","items-center":"","justify-center":"","rounded-2":"",onClick:e=>ve(t),"overflow-hidden":""},k(t.isCoin?U(X)(me(t.rate,t.price),1,6):U(X)((a=t.rate,new J(x.value||"0").times(a).dividedBy(100).decimalPlaces(2).toString(10)),1))+" "+k(t.isCoin?"":U(I)),9,Ze),P("i",{"mr-1":"",class:"icon-v3-27 icon w-16px h-16px","ml-2":"","rounded-12":"",onClick:e=>ve(t)},null,8,et),P("div",tt,[P("div",at,[b(G,{name:t.name,val:t.val||"0","is-arrow":t.isArrow,expansionFactor:t.expansionFactor,type:"stake",icon:!1},null,8,["name","val","is-arrow","expansionFactor"])]),P("p",lt," @"+k(U(X)(t.price,6))+" USD ",1),P("i",{"ml-2":"",class:"icon icon-v3-17",onClick:e=>Y(t)},null,8,nt),fe(t)&&p.value<1?(E(),S("div",{key:0,class:"token-approve",onClick:e=>Q(t)},k(e.$t("v3.title49")),9,st)):R("",!0)])]);var a})),128))],64)):(E(),S(V,{key:3},[P("div",it,[b(Ae,{index:2}),P("span",ct,k(e.$t("v3.title37",{value:U(X)(U(j),6)})),1)]),(E(!0),S(V,null,$(D.value,(t=>(E(),S("div",{class:"token-item","my-2":"",key:t.addr},[P("div",{class:"token-approve-wrap",onClick:e=>function(e){if("0"===e.bal)e.val="";else{e.isMax=!0;const t=new J(e.bal).dividedBy(new J(10).exponentiatedBy(e.decimal)).decimalPlaces(6).toString(10);e.val=t}}(t)},[P("div",dt,k(e.$t("v3.title38")),1)],8,ot),b(s,{placeholder:e.$t("v3.title39"),label:"",modelValue:t.val,"onUpdate:modelValue":[e=>t.val=e,e=>function(e){const{val:t,decimal:a,bal:l,approve:n}=e;if(1===new J(t).times(new J(10).exponentiatedBy(a)).comparedTo(new J(l))){const t=new J(e.bal).dividedBy(new J(10).exponentiatedBy(e.decimal)).decimalPlaces(8).toString(10);e.val=t,e.isMax=!0}else e.isMax=!1}(t)],type:"number",max:100,class:"token-item-input"},null,8,["placeholder","modelValue","onUpdate:modelValue"]),P("div",ut,[P("div",rt,[b(G,{name:t.name,val:t.val||"0","is-arrow":t.isArrow,expansionFactor:t.expansionFactor,icon:!1,isArrow:t.isArrow,"is-pos":t.isPos},null,8,["name","val","is-arrow","expansionFactor","isArrow","is-pos"])]),fe(t)?R("",!0):(E(),S("p",vt," $"+k(U(X)(U(Z)(new U(J)(t.val||"0").times(new U(J)(10).exponentiatedBy(t.decimal)).toString(10),t.price,t.decimal),6,0)),1)),fe(t)?(E(),S("div",{key:1,class:"token-approve",onClick:e=>Q(t),style:{background:"#f93636",color:"#fff"},"mx-1":""},k(e.$t("v3.title49")),9,pt)):R("",!0),P("i",{class:"icon icon-v3-17","ml-2":"",onClick:e=>Y(t)},null,8,ft)])])))),128))],64)),U(B)?(E(),S("div",mt,[xt,P("span",null,k(e.$t("v3.title40")),1)])):R("",!0),P("div",_t,[b(Ae,{index:3}),P("span",bt,k(e.$t("v3.title41")),1),b(s,{label:"",min:2,max:5,"model-value":m.value,"onUpdate:model-value":n[5]||(n[5]=e=>m.value=e),class:"input-rate",formatter:ee,"onUpdate:modelValue":te},null,8,["model-value"]),N(" x ")]),b(i,{modelValue:f.value,"onUpdate:modelValue":[n[6]||(n[6]=e=>f.value=e),le],"bar-height":"4px","active-color":"#FFCD1C"},{button:y((()=>[P("div",At,k(),1)])),_:1},8,["modelValue"]),P("div",Ct,[(E(),S(V,null,$(4,(e=>P("div",wt,k(e+1+"x"),1))),64))]),P("div",Et,[P("span",Tt,k(e.$t("v3.title42")),1),P("div",yt,k(e.$t("v3.title43"))+" $"+k(U(X)(U(j),6)),1),P("div",Pt,k(e.$t("v3.title44"))+" "+k(m.value)+"x ",1)]),P("div",Dt,[P("span",kt,k(e.$t("v3.title45"))+k(),1),P("div",It,k(e.$t("v3.title46"))+" "+k(U(X)(U(L),6)),1),P("div",ht,k(e.$t("v3.title47"))+" $"+k(U(X)(U(z),6)),1)]),b(Ee,null,{default:y((()=>[N(k(e.$t("v3.title48",{value1:U(W),value2:U(X)(U(H),6)})),1)])),_:1}),""===U(u).accountID?(E(),S("div",Bt,[St,P("span",Ft,k(e.$t("v3.title86")),1)])):R("",!0),P("div",{class:F(["confirm m-auto",{disable:U(g)}]),style:{"margin-top":"32px"},onClick:pe},k(e.$t("Confirm")),3)])):R("",!0)])])),_:1},8,["show","title","height","isClose"])],64)}}}),[["__scopeId","data-v-d5d3076b"]]),Vt=e=>(j("data-v-4171cfd3"),e=e(),L(),e),$t={class:"info fee"},Ut={class:"info-item"},Rt=Vt((()=>P("i",{class:"info-icon icon-v3-16"},null,-1))),Ot={class:"text"},Nt={class:"info-item"},jt=Vt((()=>P("i",{class:"info-icon icon-fire"},null,-1))),Lt={class:"text"},Mt=B(A({__name:"Fee",props:{fee:null},setup(e){const t=e,a=ne(),l=C((()=>new J(t.fee).times(new J("1e18")).idiv(a.basePrice).idiv(J("1000000")).toString(10)));return(e,t)=>(E(),S("div",$t,[P("div",Ut,[Rt,P("span",Ot,k(e.$t("Harvest.TransactionFee",{value:U(ee)(U(l))})),1)]),P("div",Nt,[jt,P("span",Lt,k(e.$t("Harvest.TransactionFees")),1)])]))}}),[["__scopeId","data-v-4171cfd3"]]),Wt={key:1},zt=B(A({__name:"ConfrimBtn",props:{width:null,disabled:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const a=e;function l(){a.disabled||t("click")}return(t,a)=>(E(),S("div",{class:F(["confirm-btn",{"v1-btn-active":!e.disabled}]),style:D({width:e.width||"142px"}),onClick:l},[t.$slots.default?h(t.$slots,"default",{key:0},void 0,!0):(E(),S("span",Wt,k(t.$t("Confirm")),1))],6))}}),[["__scopeId","data-v-246b5e7e"]]),Ht=e=>(j("data-v-d2bfe37a"),e=e(),L(),e),Kt={class:"content-title text-black text-16px"},qt={class:"info1"},Gt={class:"number"},Yt={key:0,class:"token-item","text-14px":""},Qt=Ht((()=>P("i",{class:"icon-token icon-usdt"},null,-1))),Jt={class:"number"},Xt={class:"usd mt-4"},Zt={class:"switch"},ea={flex:"","items-center":"",class:"text-14px"},ta={"text-10px":""},aa={key:0},la=["onClick"],na={class:"bg-#E0E0E0 text-#858585","px-2":"","rounded-2":"",flex:"","items-center":""},sa=Ht((()=>P("span",{"text-black":"",style:{"margin-top":"10px"}},"%",-1))),ia={key:0,"mb-4":""},ca={key:1},oa={class:"switch-item-rate-wrap"},da=Ht((()=>P("p",{style:{color:"#000"}},"%",-1))),ua=["onClick"],ra={key:0,"mb-4":""},va=B(A({__name:"HarvestDialog",emits:["click"],setup(t,{emit:a}){const{setWithdrawAddrInfos:l}=se(),n=e(),s=new M,{copy:i}=le(),{utils:c}=s,{withdraw:o}=ae(),d=w(!1),u=w(!1),r=w(!0),v=w([{addr:"",rate:""}]),p=C((()=>n.withdrawAddrs.length));g(p,(e=>{e>0&&(r.value=!0)})),O((()=>{r.value=n.withdrawAddrs.length>0}));const f=C((()=>{const e=v.value,t=e.length;if(0===t)return;let a=0;for(let n=0;n<t;n++){const{addr:t,rate:s}=e[n];if(""===t.value)return!0;try{const e=c.toChecksumAddress(t);if(!c.checkAddressChecksum(e))return!0}catch(l){return!0}a+=Number(s)}return 100!==a})),m=C((()=>"0"===n.totalAvaiReward||!(0===n.withdrawAddrs.length&&!r.value)&&(!(0!==n.withdrawAddrs.length||!r.value)||!(n.withdrawAddrs.length>0&&r.value)&&(!!f.value||f.value))));function x(){d.value=!0}function _(){d.value=!1}async function A(e){if(n.withdrawAddrs.length>0)try{u.value=!0;await l([]);await n.getSystemInfo(),u.value=!1,r.value=!1}catch(t){u.value=!1,r.value=!e}else r.value=e}async function T(){if(f.value)return;const e=v.value,t=e.length;if(0===t)return;const a=[];for(let l=0;l<t;l++){const{addr:t,rate:n}=e[l],s=new J(n).times(new J(1e16)).toString(10);a.push([t,s])}await l(a),n.getSystemInfo()}async function D(){if(m.value)return;const e=await n.getInputDate();"cancel"!==await o(e,n.systemInfo.withdrawFee)&&(n.getSystemInfo(),d.value=!1)}return(e,t)=>{const a=fe,l=q,s=_e;return E(),S(V,null,[b(Ce,{disabled:"0"===U(n).totalAvaiReward,onClick:x},{default:y((()=>[P("span",null,k(e.$t("btn.withdraw")),1)])),_:1},8,["disabled"]),b(s,{show:d.value,onClose:_,title:e.$t("V2Harvest.Title"),height:"70vh"},{default:y((()=>[P("h4",Kt,[P("span",null,k(e.$t("v3.title50")),1)]),P("div",qt,[(E(!0),S(V,null,$(U(n).avaiRewardList,(e=>(E(),S("div",{class:"token-item text-14px",key:e.addr},[P("i",{class:F(["icon-token","icon-"+e.name.toLocaleLowerCase()])},null,2),P("p",Gt,k(U(Q)(e.avaiReward,e.decimal))+" "+k(e.name.toLocaleUpperCase()),1)])))),128)),U(n).accountInfo.avaiBullReward&&"0"!==U(n).accountInfo.avaiBullReward?(E(),S("div",Yt,[Qt,P("p",Jt,k(U(Q)(U(n).accountInfo.avaiBullReward,18))+" USDT ",1)])):R("",!0),P("div",Xt," ~$ "+k(U(X)(U(n).totalAvaiReward,6,2)),1)]),P("div",Zt,[b(a,{size:"12px",modelValue:r.value,loading:u.value,"active-color":"#ffcd1c","inactive-color":"#dcdee0","onUpdate:modelValue":A},null,8,["modelValue","loading"]),P("div",ea,[P("span",ta,k(e.$t("v3.title51")),1),0===U(n).withdrawAddrs.length&&r.value?(E(),S("span",{key:0,class:F(["bg-#E6D8A6 h-26px text-#828282",{"active-bind":!U(f)}]),"px-4":"","rounded-2":"",flex:"","items-center":"",onClick:T},k(e.$t("v3.title69")),3)):R("",!0)])]),U(n).withdrawAddrs.length>0?(E(),S("div",aa,[(E(!0),S(V,null,$(U(n).withdrawAddrs,((e,t)=>{return E(),S("div",{class:"",flex:"",key:e.addr,"mb-2":"","rounded-full":"","justify-end":""},[P("div",{class:"bg-#E0E0E0 text-#858585 h-34px text-12px w-80%","mr-2":"","rounded-2":"",flex:"","pl-2":"","items-center":"","overflow-hidden":"",onClick:t=>U(i)(e.addr)},k((a=e.addr,a.slice(0,15)+"..."+a.slice(-15))),9,la),P("div",na,k(U(te)(e.ratio)),1),sa]);var a})),128)),U(n).withdrawAddrs.length>0?(E(),S("div",ia,[b(Ee,null,{default:y((()=>[N(k(e.$t("v3.title71")),1)])),_:1}),b(Ee,null,{default:y((()=>[N(k(e.$t("v3.title72")),1)])),_:1})])):R("",!0)])):R("",!0),0===U(n).withdrawAddrs.length&&r.value?(E(),S("div",ca,[(E(!0),S(V,null,$(v.value,((t,a)=>(E(),S("div",{class:"switch-item",key:a},[b(l,{modelValue:t.addr,"onUpdate:modelValue":e=>t.addr=e,placeholder:e.$t("v3.title52"),label:"",class:"switch-item-addr"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),P("div",oa,[b(l,{modelValue:t.rate,"onUpdate:modelValue":e=>t.rate=e,placeholder:"0",type:"number",label:"",class:"switch-item-rate"},null,8,["modelValue","onUpdate:modelValue"]),da]),P("i",{class:F(["switch-icon",0===a?"icon-v3-23":"icon-v3-21"]),onClick:e=>function(e){v.value.length>=5||(0===e?v.value.push({addr:"",rate:""}):v.value.splice(e,1))}(a)},null,10,ua)])))),128)),0===U(n).withdrawAddrs.length?(E(),S("div",ra,[b(Ee,null,{default:y((()=>[N(k(e.$t("v3.title70")),1)])),_:1}),b(Ee,null,{default:y((()=>[N(k(e.$t("v3.title53")),1)])),_:1})])):R("",!0)])):R("",!0),b(Mt,{fee:U(n).systemInfo.withdrawFee},null,8,["fee"]),b(zt,{width:"162px",disabled:U(m),onClick:D},null,8,["disabled"])])),_:1},8,["show","title"])],64)}}}),[["__scopeId","data-v-d2bfe37a"]]),pa={class:"name"},fa=B(A({__name:"IconToken",props:{name:null,val:null,icon:{type:Boolean},type:null},setup:e=>(w([{name:"title1",path:""},{name:"title2",path:""},{name:"title3",path:""}]),(t,a)=>(E(),S("div",{class:F(["token-item",e.type])},[e.icon?(E(),S("i",{key:0,class:F(["icon","icon-"+e.name.toLowerCase()])},null,2)):R("",!0),P("span",pa,k(e.name||"UCON"),1)],2)))}),[["__scopeId","data-v-9632c420"]]),ma=["onClick"],xa=["disabled"],_a=["onClick"],ba={class:""},Aa={class:"title1"},Ca={class:"item-wrap"},wa={class:"text","flex-1":""},Ea={class:"text w-125px"},Ta={class:"text-#EA0000"},ya={class:"text-#EA0000"},Pa={class:"text-#EA0000"},Da={class:"text-#EA0000","font-400":""},ka=(e=>(j("data-v-18dbf461"),e=e(),L(),e))((()=>P("div",{style:{"margin-top":"20px"}},null,-1))),Ia=B(A({__name:"UnlockDialog",setup(t){const{unstake:a}=ae(),l=ie(),n=e(),i=w(!1),c=C((()=>{const{releaseUSD:e,principalUSD:t}=n.accountInfo;return 1===new J(e).times(new J(1).minus(.01)).comparedTo(new J(t))})),o=C((()=>{const{releaseUSD:e}=n.accountInfo;return new J(e).times(100-s).dividedBy(100).decimalPlaces(0).toString(10)})),d=C((()=>{const{releaseUSD:e}=n.accountInfo;return new J(e).times(.3).decimalPlaces(0).toString(10)})),u=C((()=>(n.accountInfo,new J(d.value).times(100-s).dividedBy(100).decimalPlaces(0).toString(10))));function r(){"0"!==n.accountInfo.releaseUSD&&(i.value=!0)}async function v(){const e=await n.getInputDate();"cancel"!==await a(e,c.value?o.value:"0",l.triggerFee)&&(n.getSystemInfo(),i.value=!1)}function p(){i.value=!1}return(e,t)=>{const a=m,l=Y,s=fa,f=_e;return E(),S(V,null,[U(c)?(E(),S("div",{key:1,flex:"","items-center":"","justify-center":"",class:"bg-#EA0000 w-76px h-30px","rounded-10px":"","text-white":"","text-14px":"",id:"btnunlock",disabled:!U(n).accountInfo.releaseUSD||"0"===U(n).accountInfo.releaseUSD},[P("span",{onClick:I(r,["self"])},k(e.$t("btn.withdraw")),9,_a),b(l,{borderColor:"transparent"},{text:y((()=>[P("p",null,k(e.$t("v3.title75",{value:U(X)(U(n).userTotalStake,6)})),1),P("p",null,k(e.$t("v3.title76")),1)])),default:y((()=>[b(a,{name:"question","ml-1":""})])),_:1})],8,xa)):(E(),T(Ce,{key:0,disabled:!U(n).accountInfo.releaseUSD||"0"===U(n).accountInfo.releaseUSD},{default:y((()=>[P("span",{onClick:I(r,["stop"])},k(e.$t("btn.unlock")),9,ma),b(l,{borderColor:"transparent"},{text:y((()=>[P("p",null,k(e.$t("v3.title75",{value:U(X)(U(n).userTotalStake,6)})),1),P("p",null,k(e.$t("v3.title76")),1)])),default:y((()=>[b(a,{name:"question","ml-1":""})])),_:1})])),_:1},8,["disabled"])),b(f,{show:i.value,onClose:p,height:"70vh",teleport:"body",title:U(c)?e.$t("v3.title57"):e.$t("v3.title571")},{default:y((()=>[P("div",ba,[P("h5",Aa,k(U(c)?e.$t("v3.title77"):e.$t("v3.title78")),1),P("div",Ca,[(E(!0),S(V,null,$(U(n).unlockUserList,(e=>(E(),S("div",{class:"item",key:e.addr},[b(s,{name:e.name,val:"123",icon:""},null,8,["name"]),P("span",wa,k(U(Q)(e.lockAmount,e.decimal)),1),P("span",Ea,k(U(X)(U(Z)(e.lockAmount,e.price,e.decimal),6))+" USDT",1)])))),128))]),U(c)?(E(),S(V,{key:0},[b(Ee,null,{default:y((()=>[N(k(e.$t("v3.title58",{value:U(X)(U(n).accountInfo.principalUSD,6,2)})),1)])),_:1}),b(Ee,null,{text:y((()=>[P("span",Ta,k(U(X)(U(n).accountInfo.releaseUSD,6,2))+" USDT ",1)])),default:y((()=>[N(k(e.$t("v3.title59"))+" ",1)])),_:1}),b(Ee,null,{default:y((()=>[N(k(e.$t("v3.title60",{value:U(X)(U(o),6,2)})),1)])),_:1})],64)):(E(),S(V,{key:1},[b(Ee,null,{default:y((()=>[N(k(e.$t("v3.title61",{value:U(X)(U(n).accountInfo.principalUSD||"0",6,2)}))+" ",1),P("span",ya,k(U(X)(U(n).accountInfo.principalUSD||"0",6,2))+" USDT ",1),N(k(e.$t("v3.title611",{value:U(X)(U(n).accountInfo.principalUSD||"0",6,2)})),1)])),_:1}),b(Ee,null,{text:y((()=>[P("span",Pa,"  "+k(U(X)(U(n).accountInfo.releaseUSD||"0",6))+" USDT ",1)])),default:y((()=>[N(k(e.$t("v3.title62"))+" ",1)])),_:1}),b(Ee,null,{text:y((()=>[P("span",Da,"  "+k(U(X)(U(d)||"0",6))+" USDT "+k(e.$t("v3.title64")),1)])),default:y((()=>[N(k(e.$t("v3.title63"))+" ",1)])),_:1}),b(Ee,null,{default:y((()=>[N(k(e.$t("v3.title65",{value:U(X)(U(u)||"0",6)})),1)])),_:1})],64)),b(Ee,null,{default:y((()=>[N(k(e.$t("v3.title85",{value:U(X)(U(u)||"0",6)})),1)])),_:1}),ka,b(Mt,{fee:U(n).systemInfo.unlockFee},null,8,["fee"]),b(zt,{width:"162px",disabled:!1,onClick:v})])])),_:1},8,["show","title"])],64)}}}),[["__scopeId","data-v-18dbf461"]]),ha=e=>(j("data-v-a02c3877"),e=e(),L(),e),Ba=["onClick"],Sa={class:"content"},Fa=ha((()=>P("i",{class:"icon-re icon-v3-8"},null,-1))),ga=ha((()=>P("div",{class:"",style:{"margin-bottom":"20px"}},null,-1))),Va=B(A({__name:"Refresh",setup(t){const{trigger:a}=ae(),l=e(),n=w(!1);function s(){"0"!==l.userTotalStake&&(n.value=!0)}async function i(){const e=await l.getInputDate();"cancel"!==await a(e,l.account,l.systemInfo.triggerFee)&&(await l.getSystemInfo(),n.value=!1)}function c(){n.value=!1}return(e,t)=>{const a=_e;return E(),S(V,null,[b(Ce,{disabled:"0"===U(l).userTotalStake,class:F({disable:!1})},{default:y((()=>[P("span",{onClick:I(s,["stop"])},k(e.$t("btn.refresh")),9,Ba)])),_:1},8,["disabled"]),b(a,{show:n.value,onClose:c,height:"70vh",teleport:"body",title:e.$t("V1.Refresh")},{default:y((()=>[P("div",Sa,[Fa,(E(),S(V,null,$(3,(t=>b(Ee,null,{default:y((()=>[N(k(e.$t("v3.title"+(t+53))),1)])),_:2},1024))),64)),ga,b(Mt,{fee:U(l).systemInfo.triggerFee},null,8,["fee"]),P("div",{class:"confirmv2 m-auto",onClick:i},k(e.$t("Confirm")),1)])])),_:1},8,["show","title"])],64)}}}),[["__scopeId","data-v-a02c3877"]]),$a={class:"title-v3"},Ua={class:"flex"},Ra={key:1},Oa=B(A({__name:"V3Title1",props:{icon:null,title:null,val:null},setup:e=>(t,a)=>(E(),S("div",$a,[P("div",Ua,[P("i",{class:F(["icon",e.icon])},null,2),t.$slots.default?h(t.$slots,"default",{key:0},void 0,!0):(E(),S("span",Ra,k(e.title),1))]),P("p",null,"$ "+k(e.val),1)]))}),[["__scopeId","data-v-be4d0460"]]),Na=e=>(j("data-v-1e39a547"),e=e(),L(),e),ja={class:"title"},La={class:"container-detail"},Ma={class:"item"},Wa={class:"label"},za={"mr-8":""},Ha={key:1},Ka={class:"item"},qa={class:"flex"},Ga={class:"label"},Ya={key:0,"ml-2":"",class:"icon icon-v3-31 w-15px h-15px",flex:""},Qa={class:"item"},Ja={class:"label"},Xa={class:"item"},Za={class:"label"},el={class:"d"},tl={class:"d"},al={class:"d"},ll={class:"d"},nl={class:"item"},sl={flex:"","items-center":""},il={class:"label"},cl={class:"d"},ol={class:"d"},dl={class:"d"},ul={key:0,class:"icon icon-v3-30 w-15px h-15px",flex:"","ml-2":""},rl={key:1,"ml-2":"",class:"icon icon-v3-31 w-15px h-15px",flex:""},vl={class:"item"},pl={class:"label"},fl={class:"d"},ml={class:"item"},xl={class:"label"},_l={class:"d"},bl={class:"item"},Al={class:"label"},Cl={"pl-4":"","mb-4":""},wl={flex:"","items-center":"","mb-1":"",class:"text-#83ABFF","justify-between":""},El={flex:""},Tl=Na((()=>P("span",{class:"border-line"},null,-1))),yl={class:"label"},Pl=Na((()=>P("span",{"mr-8":""},"UCON",-1))),Dl={flex:"","items-center":"","mb-1":"",class:"text-#83ABFF","justify-between":""},kl={flex:""},Il=Na((()=>P("span",{class:"border-line"},null,-1))),hl={class:"label"},Bl={"mr-8":""},Sl={key:1},Fl={flex:"","items-center":"","mb-1":"",class:"text-#83ABFF","justify-between":""},gl={flex:""},Vl=Na((()=>P("span",{class:"border-line"},null,-1))),$l={class:"label"},Ul={class:"d"},Rl={"mr-8":""},Ol={class:"flex","justify-between":""},Nl=Na((()=>P("span",{"mr-4":""},"USDT",-1))),jl={key:1},Ll={flex:"","items-center":"","mb-1":"",class:"text-#83ABFF","justify-between":""},Ml={flex:""},Wl=Na((()=>P("span",{class:"border-line"},null,-1))),zl={class:"label"},Hl={class:"d"},Kl={class:"d"},ql={class:"item"},Gl={class:"label"},Yl={class:"mb-6","pl-4":""},Ql={flex:"","items-center":"","mb-1":"",class:"text-#83ABFF","justify-between":""},Jl={flex:""},Xl=Na((()=>P("span",{class:"border-line"},null,-1))),Zl={class:"label"},en={class:"df"},tn={flex:"","items-center":"","mb-1":"",class:"text-#83ABFF","justify-between":""},an={flex:""},ln=Na((()=>P("span",{class:"border-line"},null,-1))),nn={class:"label"},sn={class:"df"},cn=B(A({__name:"V3Detail",setup(t){const a=e(),l=w(!0);function n(){l.value=!l.value}const s=C((()=>{const{totalUconMinnerReward:e,totalAffUconMinnerReward:t}=a.accountInfo;return new J(t||"0").plus(new J(e||"0")).toString(10)})),c=C((()=>{const{totalUconMinnerReward:e,totalAffUconMinnerReward:t}=a.accountInfo;return new J(t||"0").plus(new J(e||"0")).times(a.uconPrice).div(new J(1e18)).toString(10)})),o=C((()=>{const e=a.tokenList.filter((e=>"0"!==e.totalAffReward));return i.orderBy(e,(e=>new J(e.totalAffReward).toNumber()),["desc"])})),d=C((()=>a.tokenList.reduce(((e,t)=>{const a=Z(t.totalAffReward||"0",t.price,t.decimal);return e.plus(a)}),new J(0)).toString(10))),u=C((()=>a.tokenList.reduce(((e,t)=>e.plus(t.unlockRewardUSD||"0")),new J(0)).minus(new J(a.accountInfo.totalBreakUsdt||"0").div(1e12)).toString(10))),r=C((()=>{const e=a.tokenList.filter((e=>"0"!==e.unlockRewardUSD));return i.orderBy(e,(e=>new J(e.unlockRewardUSD).toNumber()),["desc"])})),v=C((()=>new J(c.value||"0").plus(new J(d.value||"0")).plus(new J(u.value||"0")).plus(new J(a.accountInfo.avaiBullReward||"0").dividedBy(1e12)).toString(10))),p=C((()=>a.accountInfo)),f=C((()=>{const e=p.value.latestMedalLevel||"0";return"0"===e?"N/A":"U"+e})),m=C((()=>{const e=p.value.issueMedalLevel||"0";return"0"===e?"N/A":"U"+e})),x=C((()=>{const e=parseInt(p.value.issueMedalLevel||"0"),t=parseInt(p.value.latestMedalLevel||"0");return e===t?"":e>t?"icon-v2-7":"icon-v2-6"}));return(e,t)=>{const i=Y;return E(),S(V,null,[P("div",{class:"text-14px w-200px",onClick:n,"m-auto":"","justify-center":""},[P("div",ja,[P("span",null,k(e.$t("v3.title33")),1),P("i",{class:F(["icon icon-v3-10",l.value?"icon-v3-10":"icon-v3-11"])},null,2)])]),W(P("div",La,[P("div",Ma,[b(i,null,{text:y((()=>[P("span",null,k(e.$t("v3.popup1")),1),P("p",null,k(e.$t("v3.popup20")),1)])),default:y((()=>[P("span",Wa,k(e.$t("v3.title13")),1)])),_:1}),U(a).stakeUserList.length>0?(E(),T(i,{key:0,borderColor:"#fff"},{text:y((()=>[P("div",null,[(E(!0),S(V,null,$(U(a).stakeUserList,(e=>{return E(),S("div",{class:"flex","justify-between":"",key:e.addr},[P("span",za,k(e.name),1),P("span",null," $"+k(U(X)(e.stakeAmountUSD,6))+" ("+k(U(Q)(e.stakeAmount,e.decimal,6))+" @"+k(U(X)((t=e.stakeAmount,a=e.stakeAmountUSD,l=e.decimal,new J(a).dividedBy(1e6).dividedBy(new J(t).dividedBy(new J(10).exponentiatedBy(l))).toString(10)),1))+" USD) ",1)]);var t,a,l})),128))])])),default:y((()=>[P("span",null,"$"+k(U(X)(U(a).userTotalStake,6)),1)])),_:1})):(E(),S("span",Ha,"$"+k(U(X)(U(a).userTotalStake,6)),1))]),P("div",Ka,[P("div",qa,[b(i,null,{text:y((()=>[P("span",null,k(e.$t("v3.popup2",{value:U(X)(U(a).userTotalStake,6)})),1)])),default:y((()=>[P("span",Ga,k(e.$t("v3.title14")),1)])),_:1}),U(a).isUnlockType?(E(),S("i",Ya)):R("",!0)]),P("span",null," $"+k(U(X)(U(a).accountInfo.releaseUSD||"0",6)),1)]),P("div",Qa,[P("span",Ja,k(e.$t("v3.title15")),1),P("span",null,k(U(a).principalFactor)+"x",1)]),P("div",Xa,[b(i,null,{text:y((()=>[P("div",null,[P("p",el,k(e.$t("v3.popup3")),1),P("p",tl,k(e.$t("v3.popup31")),1),P("p",al,k(e.$t("v3.popup4")),1),P("p",ll,k(e.$t("v3.popup5")),1)])])),default:y((()=>[P("span",Za,k(e.$t("v3.title16")),1)])),_:1}),P("span",null,k(U(X)(U(a).accountInfo.personHashRateUSD||"0",6)),1)]),P("div",nl,[P("div",sl,[b(i,null,{text:y((()=>[P("p",cl,k(e.$t("v3.popup6")),1),P("p",ol,k(e.$t("v3.popup61")),1),P("p",dl,k(e.$t("v3.popup7",{value:U(X)(U(a).systemInfo.tokenRewardParam.allowThreshold,6,0)})),1)])),default:y((()=>[P("span",il,k(e.$t("v3.title17")),1)])),_:1}),U(a).isShowPos?(E(),S("i",rl)):(E(),S("i",ul))]),P("span",null,k(U(X)(U(a).accountPow||"0",6)),1)]),P("div",vl,[b(i,null,{text:y((()=>[P("p",fl,k(e.$t("v3.popup8")),1)])),default:y((()=>[P("span",pl,k(e.$t("v3.title18")),1)])),_:1}),P("span",null,k(U(X)(U(a).accountInfo.directExtraHashRateUSD||"0",6))+"/"+k(U(a).accountInfo.affLevel)+"L ",1)]),P("div",ml,[b(i,null,{text:y((()=>[P("p",_l,k(e.$t("v3.popup9")),1)])),default:y((()=>[P("span",xl,k(e.$t("v3.title19")),1)])),_:1}),P("span",null,k(U(X)(U(a).accountInfo.totalExtraHashRate||"0",6)),1)]),P("div",bl,[P("span",Al,k(e.$t("v3.title20")),1),P("span",null," $"+k(U(X)(U(v),6,1)),1)]),P("div",Cl,[P("div",wl,[P("p",El,[Tl,b(i,{borderColor:"#83ABFF"},{text:y((()=>[P("div",null,[P("p",null,k(e.$t("v3.popup10")),1),P("p",null,k(e.$t("v3.popup11")),1)])])),default:y((()=>[P("span",yl,k(e.$t("v3.title21")),1)])),_:1})]),b(i,{borderColor:"#83ABFF"},{text:y((()=>[P("div",null,[Pl,N(" "+k(U(Q)(U(s)||"",18,6)),1)])])),default:y((()=>[P("span",null," $"+k(U(X)(U(c),6,1)),1)])),_:1})]),P("div",Dl,[P("p",kl,[Il,P("span",hl,k(e.$t("v3.title22")),1)]),U(o).length>0?(E(),T(i,{key:0,borderColor:"#83ABFF"},{text:y((()=>[P("div",null,[(E(!0),S(V,null,$(U(o),(e=>(E(),S("div",{class:"flex","justify-between":"",key:e.addr},[P("span",Bl,k(e.name),1),P("span",null,k(U(Q)(e.totalAffReward,e.decimal,6)),1)])))),128))])])),default:y((()=>[P("span",null," $"+k(U(X)(U(d),6,1)),1)])),_:1})):(E(),S("span",Sl," $"+k(U(X)(U(d),6,1)),1))]),P("div",Fl,[P("p",gl,[Vl,b(i,{borderColor:"#83ABFF"},{text:y((()=>[P("p",Ul,k(e.$t("v3.popup19")),1)])),default:y((()=>[P("span",$l,k(e.$t("v3.title23")),1)])),_:1})]),U(r).length>0?(E(),T(i,{key:0,borderColor:"#83ABFF"},{text:y((()=>[P("div",null,[(E(!0),S(V,null,$(U(r),(e=>(E(),S("div",{class:"flex","justify-between":"",key:e.addr},[P("span",Rl,k(e.name),1),P("span",null,k(U(Q)(e.unlockReward||"0",e.decimal,6)),1)])))),128)),P("div",Ol,[Nl,P("span",null," -"+k(U(X)(U(p).totalBreakUsdt||"0",18,6)),1)])])])),default:y((()=>[P("span",null," $"+k(U(X)(U(u)||"0",6,1)),1)])),_:1})):(E(),S("span",jl," $"+k(U(X)(U(u),6,1)),1))]),P("div",Ll,[P("p",Ml,[Wl,b(i,{borderColor:"#83ABFF"},{text:y((()=>[P("p",Hl,k(e.$t("v3.popup12")),1),P("p",Kl,k(e.$t("v3.popup13")),1)])),default:y((()=>[P("span",zl,k(e.$t("v3.title24")),1)])),_:1})]),P("span",null," $"+k(U(X)(U(a).accountInfo.avaiBullReward||"0",18)),1)])]),P("div",ql,[b(i,null,{text:y((()=>[P("p",null,k(e.$t("v3.popup14")),1),P("p",null,k(e.$t("v3.popup15")),1),P("p",null,k(e.$t("v3.popup16")),1)])),default:y((()=>[P("span",Gl,k(e.$t("v3.title25")),1)])),_:1})]),P("div",Yl,[P("div",Ql,[P("p",Jl,[Xl,P("span",Zl,k(e.$t("v3.title26")),1)]),P("p",en,k(U(f)),1)]),P("div",tn,[P("p",an,[ln,P("span",nn,k(e.$t("v3.title27")),1)]),P("p",sn,[P("i",{class:F(["icon",U(x)])},null,2),N(" "+k(U(m)),1)])])])],512),[[z,l.value]])],64)}}}),[["__scopeId","data-v-1e39a547"]]),on={class:"box"},dn={class:"flex item","mb-4":""},un={class:"label"},rn={class:"val"},vn={class:"flex item"},pn={class:"label"},fn={flex:"","items-center":"","text-white":""},mn={class:"bg-#FFCD1C w-30px","mx-1":"","px-2":"","rounded-1":"","text-black":"","font-700":"",flex:"","items-center":"","justify-center":""},xn={class:"bg-#FFCD1C w-30px","mx-1":"","px-2":"","rounded-1":"","text-black":"","font-700":"",flex:"","items-center":"","justify-center":""},_n={class:"bg-#FFCD1C w-30px","mx-1":"","px-2":"","rounded-1":"","text-black":"","font-700":"",flex:"","items-center":"","justify-center":""},bn={class:"container"},An={class:"item-wrap"},Cn={key:0,class:"item",flex:"","mb-1":""},wn={class:"flex justify-around mt-20px"},En=B(A({__name:"Index",setup(t){const a=e();return ae(),(e,t)=>(E(),S(V,null,[P("div",on,[P("div",dn,[P("span",un,k(e.$t("v3.title10")),1),P("p",rn,k(U(Q)(U(a).systemInfo.uconPerReleaseAmount))+" UCON ",1)]),P("div",vn,[P("span",pn,k(e.$t("v3.title11")),1),P("div",fn,[P("p",mn,k(U(a).current.cur.days),1),P("span",null,k(e.$t("Home.Day")),1),P("p",xn,k(U(a).current.cur.hours),1),P("span",null,k(e.$t("Home.Hour")),1),P("p",_n,k(U(a).current.cur.minutes),1),P("span",null,k(e.$t("Home.Min")),1)])])]),P("div",bn,[b(Oa,{title:e.$t("v3.title12"),val:U(X)(U(a).totalAvaiReward,6,2),icon:"icon-v3-1","mb-4":""},null,8,["title","val"]),P("div",An,[(E(!0),S(V,null,$(U(a).avaiRewardList,(e=>(E(),S("div",{key:e.addr,class:"item",flex:"","mb-1":""},[b(G,{name:e.name,icon:!0},null,8,["name"]),P("p",null,k(U(Q)(e.avaiReward,e.decimal,6)),1)])))),128)),U(a).accountInfo.avaiBullReward&&"0"!==U(a).accountInfo.avaiBullReward?(E(),S("div",Cn,[b(G,{name:"USDT",icon:!0}),P("p",null,k(U(X)(U(a).accountInfo.avaiBullReward,18)),1)])):R("",!0)]),P("div",wn,[b(gt),b(va),b(Ia),b(Va)]),b(cn)])],64))}}),[["__scopeId","data-v-a2beb9c9"]]);export{En as default};
