import{_ as e}from"./V3Popover.48f853c6.js";import{_ as a}from"./V3More.vue_vue_type_style_index_0_lang.d0f51151.js";import{p as s,q as t,i as l,c as n,b as o}from"./index.6cffc3cc.js";import{B as c,C as i,E as r,J as d}from"./contract.36b5a38e.js";import{o as u,E as p}from"./orderBy.92441f53.js";import{d as m,r as v,f,o as x,c as b,b as w,F as h,s as y,t as _,u as g,g as $,_ as C,z as P,l as k,k as A,m as B,w as D,n as H,a as U,x as R,j as F,y as S,h as I,T as O}from"./index.e2fded89.js";import"./el-popper.d78e6805.js";import{E as j}from"./el-popover.26f5f039.js";import{b as N,c as E,u as T,m as V,T as L,l as q,g as M}from"./contract.a184dad5.js";import{u as z}from"./useCopy.7a5c821e.js";import{E as J}from"./icon.b930d66d.js";import{I as Q}from"./index.ad41e49a.js";import{P as W}from"./index.86caadc6.js";import{F as G}from"./Fee.7e615f49.js";import{S as K,a as X}from"./index.c2c9699a.js";import{C as Y}from"./contractService.983ed089.js";import{P as Z,_ as ee}from"./PRICE_ABI.93206d30.js";import"./event.11267737.js";import"./typescript.bf83b9a7.js";const ae={class:"content"},se={class:"items"},te={class:"item-number"},le={class:"item-value"},ne=C(m({__name:"UconFund",props:{list:{}},setup(e){const l=e,n=v(4),o=v(!1),i=f(()=>u(l.list,e=>new c(e.usd).toNumber(),["desc"])),r=f(()=>o.value?i.value:i.value.slice(0,n.value)),d=()=>{o.value=!o.value};return(e,l)=>{const n=a;return x(),b("div",ae,[w("div",se,[(x(!0),b(h,null,y(g(r),e=>(x(),b("div",{class:"item",key:e.addr},[w("div",null,[w("p",te,_(g(s)(e.balance,e.decimal))+" "+_(e.name),1),w("p",le,"~$"+_(g(t)(e.usd,6,0)),1)])]))),128))]),$(n,{onChange:d})])}}}),[["__scopeId","data-v-6d9d131f"]]),oe={class:"content1"},ce={class:"title px-20px"},ie={style:{"margin-left":"4px"}},re={class:"title2 px-20px"},de={class:"border-title",style:{"max-width":"200px"}},ue={class:"info"},pe={class:"text"},me={class:"text"},ve={class:"addr"},fe={class:"title-text",style:{color:"#07162d","font-weight":"normal"}},xe={class:"title2 px-20px","mt-4":""},be={class:"border-title",style:{"max-width":"200px"}},we={class:"info"},he={class:"text"},ye={class:"text"},_e={class:"addr"},ge={class:"title-text",style:{color:"#07162d","font-weight":"normal"}},$e={class:"ownership-border mx-10px","mb-4":""},Ce={class:"title2","mt-4":""},Pe={class:"info"},ke={class:"text"},Ae={class:"text",style:{"margin-bottom":"0"}},Be={class:"text2"},De={class:"text2"},He={class:"text2",style:{"margin-bottom":"24px"}},Ue={class:"addr"},Re={class:"title-text",style:{color:"#07162d","font-weight":"normal"}},Fe={class:"items"},Se={class:"item"},Ie={class:"item-number"},Oe={class:"item-value"},je={class:"item"},Ne={class:"item-number"},Ee={class:"item-value"},Te={key:0,class:"ownership","items-center":"",flex:"","justify-end":"",border:"","border-white":""},Ve={style:{width:"320px"}},Le={"mr-4":""},qe={class:"countDown"},Me={class:"number"},ze={class:"day"},Je={class:"number"},Qe={class:"day"},We={class:"number"},Ge={class:"day"},Ke={key:0},Xe="0x2170ed0880ac9a755fd29b2688956bd959f933f8",Ye=C(m({__name:"UconReserve1",props:{type:{}},setup(a){z();const s=N(),o="0x7083609fCE4d1d8Dc0C979AAb8c869Ea2C873402",u="0x2170ed0880ac9a755fd29b2688956bd959f933f8",m="0x0704Ca7F73749F23A57997df53c02a9caA7Fed9B",y="0xAd792EDF5c99dACD920DD1950adD3F6e57eb0e82",C=new i(r,u),F=E(),S=T();new p(o);const I=17594208e5-(new Date).getTime(),O=l({time:I,onFinish:()=>{setTimeout(()=>{},6e4)}}),M=P({cur:O.current});O.start();const Q=v(""),W=v(""),G=v([]),K=v([]);k(async()=>{!async function(){const e="0x0704Ca7F73749F23A57997df53c02a9caA7Fed9B",a=L,t=a.length,l=[],n=[];for(let s=0;s<t;s++){const{name:t,addr:l}=a[s],o=new i(r,l),c=await o.callData("balanceOf",[e]);n.push(c)}const o=await V.multicall(n);for(let i=0;i<t;i++){const{name:e,addr:t}=a[i],n=o[i][0],{price:r,decimal:d}=await s.getPrice(t),u=new c(n).times(r).dividedBy(new c(10).exponentiatedBy(d)).toString(10);"UCON"!=e&&l.push({name:e,addr:t,balance:n,price:r,usd:u,decimal:d})}G.value=l}(),async function(){const e="0x736D833387E50aA06F42c7361352758Ab8A9749a",a=L,t=a.length,l=[],n=[];for(let s=0;s<t;s++){const{name:t,addr:l}=a[s],o=new i(r,l),c=await o.callData("balanceOf",[e]);n.push(c)}const o=await V.multicall(n);for(let i=0;i<t;i++){const{name:e,addr:t}=a[i],n=o[i][0],{price:r,decimal:d}=await s.getPrice(t),u=new c(n).times(r).dividedBy(new c(10).exponentiatedBy(d)).toString(10);"UCON"!=e&&"SERO"!=e&&l.push({name:e,addr:t,balance:n,price:r,usd:u,decimal:d})}K.value=l}(),W.value=await C.call("balanceOf",[y])});const X=f(()=>G.value.reduce((e,a)=>e.plus(a.usd),new c(0)).toString(10)),Y=f(()=>K.value.reduce((e,a)=>e.plus(a.usd),new c(0)).toString(10)),Z=f(()=>new c(X.value).plus(ee.value).plus(Y.value).decimalPlaces(0).toString(10)),ee=f(()=>{const{price:e}=s.getPriceByAddr(o);return new c(Q.value||"0").dividedBy(new c(10).exponentiatedBy(18)).times(e).decimalPlaces(0).toString(10)}),ae=f(()=>{const{price:e}=s.getPriceByAddr(u);return new c(S.ethFeedbackremain||"0").dividedBy(new c(10).exponentiatedBy(18)).times(e).decimalPlaces(0).toString(10)}),se=f(()=>new c(ee.value||"0").plus(new c(ae.value||0)).decimalPlaces(0).toString(10)),te=f(()=>F.account),le=f(()=>S.userInfo);f(()=>{}),A(te,e=>{!async function(){try{const e=await d.call("getAccountDetail",[te.value,0,Xe]);await d.call("getAccountRecord",[le.value.id,Xe]);if(!e)return void(Ye.value=!1);const{totalInvestUSD:a,totalWithdrawUSD:s,needRecord:t}=e;if(1===new c(s).comparedTo(new c(a)))return void(Ye.value=!1);Ye.value=!0,Ze.value=!t}catch(e){}}()}),A(le,e=>{ea.value="","0"!==e.id&&async function(){try{const e=await d.call("getAccountRecord",[le.value.id,Xe]);ea.value=e.idx}catch(e){}}()});const Ye=v(!1),Ze=v(!1),ea=v("");async function aa(){Ze.value||await d.execute("record",[Xe])}function sa(e){q(0===e?m:y)}return(s,l)=>{const o=B("QuestionFilled"),c=J,i=j,r=ne,d=e;return x(),b(h,null,[l[8]||(l[8]=w("div",{class:"header-icon icon icon-v3-42"},null,-1)),w("div",oe,[w("div",ce,[l[3]||(l[3]=w("i",{class:"icon icon-chubei"},null,-1)),w("span",null,_(s.$t("Reserve.text4")),1),w("span",ie,"~$"+_(g(t)(Z.value,6,0)),1)]),w("div",re,[l[4]||(l[4]=w("i",{class:"icon icon-ucon w-25px h-25px"},null,-1)),w("span",de,_(s.$t("Reserve.text5",{name:"UCON"})),1),$(i,{"popper-class":1===a.type?"popover-model":"popover-modelv2",placement:"top",width:"328px",trigger:"hover","propper-style":"{background: blue}"},{reference:D(()=>[$(c,{class:"icon question",color:"#16B364"},{default:D(()=>[$(o)]),_:1})]),default:D(()=>[w("div",ue,[w("div",pe,_(s.$t("Reserve.text7")),1),w("p",me,_(s.$t("Reserve.text8")),1),w("p",ve,[w("h4",fe,_(s.$t("Dao.text9")),1),w("span",{onClick:l[0]||(l[0]=e=>sa(0))},_(g(m).toLowerCase()),1)])])]),_:1},8,["popper-class"]),w("span",null,"~$"+_(g(t)(X.value,6,0)),1)]),$(r,{class:"px-20px",list:G.value},null,8,["list"]),w("div",xe,[l[5]||(l[5]=w("i",{class:"icon icon-sero w-25px h-25px","rounded-full":""},null,-1)),w("span",be,_(s.$t("Reserve.text5",{name:"SERO"})),1),$(i,{"popper-class":1===a.type?"popover-model":"popover-modelv2",placement:"top",width:"328px",trigger:"hover","propper-style":"{background: blue}"},{reference:D(()=>[$(c,{class:"icon question",color:"#16B364"},{default:D(()=>[$(o)]),_:1})]),default:D(()=>[w("div",we,[w("div",he,_(s.$t("Reserve.text19")),1),w("p",ye,_(s.$t("Reserve.text20")),1),w("p",_e,[w("h4",ge,_(s.$t("Dao.text9")),1),w("span",{onClick:l[1]||(l[1]=e=>sa(0))},_(g("0x736D833387E50aA06F42c7361352758Ab8A9749a").toLowerCase()),1)])])]),_:1},8,["popper-class"]),w("span",null,"~$"+_(g(t)(Y.value,6,0)),1)]),$(r,{class:"px-20px",list:K.value},null,8,["list"]),w("div",$e,[w("div",Ce,[l[6]||(l[6]=w("i",{class:"icon icon-eth w-25px h-25px"},null,-1)),w("span",null,_(s.$t("Reserve.text6")),1),$(i,{"popper-class":1===a.type?"popover-model":"popover-modelv2",placement:"top",width:"328px",trigger:"hover","propper-style":"{background: blue}"},{reference:D(()=>[$(c,{class:"icon question",color:"#16B364"},{default:D(()=>[$(o)]),_:1})]),default:D(()=>[w("div",Pe,[w("div",ke,_(s.$t("Reserve.text10")),1),w("p",Ae,_(s.$t("Reserve.text11")),1),w("p",Be,_(s.$t("Reserve.text12")),1),w("p",De,_(s.$t("Reserve.text13")),1),w("p",He,_(s.$t("Reserve.text14")),1),w("p",Ue,[w("h4",Re,_(s.$t("Dao.text9")),1),w("span",{onClick:l[2]||(l[2]=e=>sa(1))},_(g(y).toLowerCase()),1)])])]),_:1},8,["popper-class"]),w("span",null,"~$"+_(g(t)(se.value,6,0)),1)]),w("div",Fe,[w("div",Se,[w("div",null,[w("p",Ie,_(g(n)(g(S).ethFeedbackremain,2))+" ETH",1),w("p",Oe,"~$"+_(g(t)(ae.value,6,0)),1)])]),w("div",je,[w("div",null,[w("p",Ne,_(g(n)(Q.value,2))+" DOT",1),w("p",Ee,"~$"+_(g(t)(ee.value,6,0)),1)])])]),Ye.value?(x(),b("div",Te,[$(d,{borderColor:"transparent"},{text:D(()=>[w("div",Ve,[w("span",Le,_(s.$t("v3.uip36")),1)])]),default:D(()=>[l[7]||(l[7]=w("i",{class:"icon icon-v3-62"},null,-1))]),_:1}),w("div",qe,[w("span",Me,_(g(M).cur.days),1),w("span",ze,_(s.$t("Home.Day")),1),w("span",Je,_(g(M).cur.hours),1),w("span",Qe,_(s.$t("Home.Hour")),1),w("span",We,_(g(M).cur.minutes),1),w("span",Ge,_(s.$t("Home.Min")),1)]),w("span",{class:H(["ownership-btn",Ze.value?"":"ownership-active"]),onClick:aa},[U(_(s.$t("v3.uip36Btn"))+" ",1),"0"!=ea.value?(x(),b("span",Ke,"("+_(ea.value)+")",1)):R("",!0)],2)])):R("",!0)])]),l[9]||(l[9]=w("div",{class:"header-icon icon icon-v3-43"},null,-1))],64)}}}),[["__scopeId","data-v-fa44126d"]]),Ze={class:"tabs px-27px"},ea=["to","onClick"],aa=C(m({__name:"Tabs",setup(e){const a=F(),s=S(),t=v(""),l=v([{name:"UpoolV1",path:"V1"},{name:"UpoolV2",path:"V2"},{name:"UpoolV3",path:"V3"}]);return k(()=>{a.name&&(t.value=a.name.toString())}),(e,t)=>(x(),b("div",Ze,[(x(!0),b(h,null,y(g(l),t=>(x(),b("div",{class:H(["tabs-item",{"tabs-active":g(a).path.includes(t.path)}]),key:t.name,to:t.path,onClick:e=>{return a=t.name,void s.push({name:a});var a}},_(e.$t("Home."+t.name)),11,ea))),128))]))}}),[["__scopeId","data-v-7ff038e2"]]),sa={class:"text-item"},ta={class:"text-title"},la={class:"text-bonus"},na={class:"text-bonus-ucon"},oa={class:"text-item"},ca={class:"text-title"},ia={class:"text-bonus-ucon"},ra=C(m({__name:"BonusPool",setup(e){const a=T(),s=f(()=>{const{avaiUCON:e,assignedUCON:s}=a.sysPoolInfo;return a.basePrice?c(e).times(c(a.basePrice)).decimalPlaces(0).toString(10):"0"}),t=f(()=>{const{assignedUCON:e}=a.sysPoolInfo;return a.basePrice?c(e).times(c(a.basePrice)).decimalPlaces(0).toString(10):"0"});return f(()=>new c(a.sysPoolInfo.avaiUCON).plus(new c(a.sysPoolInfo.assignedUCON)).toString(10)),(e,l)=>(x(),b(h,null,[w("div",sa,[w("span",ta,_(e.$t("Home.BonusPot")),1),w("span",la," $ "+_(g(o)(s.value)),1),w("span",na,_(g(n)(g(a).sysPoolInfo.avaiUCON))+" UCON ",1)]),w("div",oa,[w("span",ca,_(e.$t("Home.BonusDistributed")),1),w("span",null,"$ "+_(g(o)(t.value)),1),w("span",ia,_(g(n)(g(a).sysPoolInfo.assignedUCON))+" UCON ",1)])],64))}}),[["__scopeId","data-v-f0f2184d"]]),da={class:"popup"},ua={class:"title"},pa={class:"content"},ma={class:"content-title"},va={class:"input flex"},fa={class:"input-info"},xa={class:"number"},ba={class:"usd"},wa=C(m({__name:"HarvestDialog",emits:["click"],setup(e,{emit:a}){const{withdraw:s}=M(),t=T(),l=v(!1),i=f(()=>t.basePrice?c(t.sharePoolAccount.ai.reward).times(c(t.basePrice)).decimalPlaces(0).toString(10):"0");function r(){"0"!==t.sharePoolAccount.ai.reward&&(l.value=!0)}async function d(){await s(),l.value=!1}return(e,a)=>{const s=Q,c=W;return x(),b(h,null,[w("div",{class:H(["bonus-detail-btn",{disable:"0"===g(t).sharePoolAccount.ai.reward}]),onClick:r},_(e.$t("Home.Harvest")),3),$(c,{show:l.value,"onUpdate:show":a[1]||(a[1]=e=>l.value=e),position:"bottom",round:"","overlay-class":"popup",style:{padding:"0px"},teleport:"body"},{default:D(()=>[w("div",da,[w("h4",ua,[w("span",null,_(e.$t("Harvest.Title")),1),$(s,{name:"cross",onClick:a[0]||(a[0]=e=>l.value=!1)})]),w("div",pa,[w("h4",ma,[w("span",null,_(e.$t("Harvest.HarvestCurrent")),1)]),w("div",va,[a[2]||(a[2]=w("i",{class:"icon icon-UCON"},null,-1)),w("div",fa,[w("p",xa,_(g(n)(g(t).sharePoolAccount.ai.reward))+" UCON ",1),w("p",ba,"~$ "+_(g(o)(i.value)),1)])]),$(G,{fee:g(t).systemInfo.withdrawFee},null,8,["fee"]),w("div",{class:"confirm",onClick:d},_(e.$t("Confirm")),1)])])]),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-0d4ed534"]]),ha={class:"bonus-detail"},ya={key:0,class:"bonus-detail-content"},_a={class:"flex"},ga={class:"bonus-detail-content-title2"},$a={class:"item"},Ca={class:"label"},Pa={class:"doller"},ka={class:"price"},Aa={class:"item"},Ba={class:"label"},Da={class:"doller"},Ha={class:"price"},Ua=C(m({__name:"BonusDetail",setup(e){const a=T(),s=v(!0),t=f(()=>a.basePrice?c(a.sharePoolAccount.ai.totalReward).times(c(a.basePrice)).decimalPlaces(0).toString(10):"0"),l=f(()=>a.basePrice?c(a.sharePoolAccount.ai.reward).times(c(a.basePrice)).decimalPlaces(0).toString(10):"0");k(()=>{a.account});const i=f(()=>{let e=[];return a.stakeList.forEach(a=>{let{level:s}=a;e.push(parseInt(s))}),e=e.sort(),e});return(e,c)=>{const r=Q;return x(),b("div",ha,[w("h4",{class:"bonus-detail-title",onClick:c[0]||(c[0]=e=>s.value=!s.value)},[U(_(e.$t("Home.BonusDetails"))+" ",1),s.value?(x(),I(r,{key:1,class:"icon",name:"arrow-up"})):(x(),I(r,{key:0,class:"icon",name:"arrow-down"}))]),$(O,null,{default:D(()=>[s.value?(x(),b("div",ya,[w("div",_a,[w("div",null,[w("h4",ga,[w("span",null,_(e.$t("Home.UMedalRankU3")),1),(x(!0),b(h,null,y(i.value,e=>(x(),b("i",{class:H(["icon","icon-u"+(e+1)])},null,2))),256))]),w("div",$a,[w("span",Ca,_(e.$t("Home.TotalBonusesHarvestd")),1),w("span",Pa,"$"+_(g(o)(t.value)),1),w("span",ka,_(g(n)(g(a).sharePoolAccount.ai.totalReward))+" UCON ",1)]),w("div",Aa,[w("span",Ba,_(e.$t("Home.RecentBonus")),1),w("span",Da,"$"+_(g(o)(l.value)),1),w("span",Ha,_(g(n)(g(a).sharePoolAccount.ai.reward))+" UCON ",1)])])]),$(wa)])):R("",!0)]),_:1})])}}}),[["__scopeId","data-v-175043f6"]]),Ra={class:"tokens"},Fa=["onClick"],Sa={class:"token-info"},Ia={class:"flex"},Oa={class:"name"},ja={class:"usd"},Na=C(m({__name:"TokenList",setup(e){const a=Z||ee,s=N();new Y(a,"0x5aD19a8F5c41c60c156EA0b918FcAbf0aF9D2Dc6");const t=function(e,a){const s=[];for(let t=0;t<e.length;t+=a)s.push(e.slice(t,t+a));return s}(L,2);return k(async()=>{for(let a=0;a<L.length;a++)try{const{price:e}=await s.getPrice(L[a].addr),t=new c(e).div(new c("1000000")).decimalPlaces(3).toString(10);L[a].price=t}catch(e){}}),(e,a)=>{const s=K,l=X;return x(),I(l,{vertical:"",touchable:!1,class:"swipe",autoplay:"5000","show-indicators":!1},{default:D(()=>[(x(!0),b(h,null,y(g(t),(e,a)=>(x(),I(s,{class:"red"},{default:D(()=>[w("div",Ra,[(x(!0),b(h,null,y(e,(e,a)=>(x(),b("div",{class:"token",onClick:a=>function(e){const a=`https://pancakeswap.finance/swap?outputCurrency=${e.addr}&inputCurrency=0x55d398326f99059fF775485246999027B3197955`;location.href=a}(e)},[w("i",{class:H(["icon","icon-"+e.name.toLocaleLowerCase()])},null,2),w("div",Sa,[w("p",Ia,[w("span",Oa,_(e.name),1)]),w("div",ja,"$"+_(e.price||"0"),1)])],8,Fa))),256))])]),_:2},1024))),256))]),_:1})}}}),[["__scopeId","data-v-e107a9a2"]]),Ea={class:"banner"},Ta={class:""},Va={class:"pl-20px"},La={class:"box"},qa={class:"name"},Ma={class:"pool"},za={class:"countDown"},Ja={class:"number"},Qa={class:"day"},Wa={class:"number"},Ga={class:"day"},Ka={class:"number"},Xa={class:"day"},Ya={class:"text"},Za={class:"px-24px"},es=C(m({__name:"Banner",setup(e){const a=T();return(e,s)=>{const t=Ye;return x(),b("div",Ea,[w("div",Ta,[w("div",Va,[s[0]||(s[0]=w("div",{class:"bg"},null,-1)),w("div",La,[w("h4",qa,_(e.$t("Home.Round",{value:Number(g(a).sysPoolInfo.rewardShareTimes)+1})),1),w("h4",Ma,_(e.$t("Home.BonusPool")),1),w("div",za,[w("span",Ja,_(g(a).current.cur.days),1),w("span",Qa,_(e.$t("Home.Day")),1),w("span",Wa,_(g(a).current.cur.hours),1),w("span",Ga,_(e.$t("Home.Hour")),1),w("span",Ka,_(g(a).current.cur.minutes),1),w("span",Xa,_(e.$t("Home.Min")),1)]),w("p",Ya,_(e.$t("Home.Until")),1)]),$(ra),$(Ua)]),$(t,{type:1}),w("div",Za,[$(Na)])]),$(aa)])}}}),[["__scopeId","data-v-b79273df"]]),as=m({__name:"Home",setup:e=>(e,a)=>{const s=B("RouterView");return x(),b(h,null,[$(es),$(s)],64)}});export{as as default};
