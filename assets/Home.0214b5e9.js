import{_ as e}from"./V3Popover.15543ef3.js";import{_ as a}from"./V3More.vue_vue_type_style_index_0_lang.e2dfb133.js";import{p as s,q as t,i as l,c as n,b as o}from"./index.a3dc26ea.js";import{B as c,C as i,E as r,w as d}from"./contract.ae7dc399.js";import{o as u,E as p}from"./orderBy.8e79d68f.js";import{d as m,r as v,f,o as x,c as b,b as w,F as h,y,t as _,u as g,g as $,_ as C,B as P,l as k,k as A,q as B,w as D,n as H,a as U,z as R,p as F,h as O,m as S,A as I,i as j,T as N}from"./index.242d413d.js";import"./el-popper.3c568df9.js";import{E}from"./el-popover.4e5fcee9.js";/* empty css                */import{b as T,c as V,u as L,m as q,T as M,l as z,g as Q}from"./contract.b7f51185.js";import{u as W}from"./useCopy.eb553893.js";import{E as G}from"./index.3aa3a09f.js";import{I as J}from"./index.2d8e1d32.js";import{P as K}from"./index.ac434ad5.js";import{F as X}from"./Fee.dbc82cfd.js";import{S as Y,a as Z}from"./index.898d13d1.js";import{C as ee}from"./contractService.215895a6.js";import{P as ae,_ as se}from"./PRICE_ABI.93206d30.js";import"./plugin-vue_export-helper.7faaabc4.js";import"./index.614840df.js";const te={class:"content"},le={class:"items"},ne={class:"item-number"},oe={class:"item-value"},ce=C(m({__name:"UconFund",props:{list:null},setup(e){const l=e,n=v(4),o=v(!1),i=f((()=>u(l.list,(e=>new c(e.usd).toNumber()),["desc"]))),r=f((()=>o.value?i.value:i.value.slice(0,n.value))),d=()=>{o.value=!o.value};return(e,l)=>{const n=a;return x(),b("div",te,[w("div",le,[(x(!0),b(h,null,y(g(r),(e=>(x(),b("div",{class:"item",key:e.addr},[w("div",null,[w("p",ne,_(g(s)(e.balance,e.decimal))+" "+_(e.name),1),w("p",oe,"~$"+_(g(t)(e.usd,6,0)),1)])])))),128))]),$(n,{onChange:d})])}}}),[["__scopeId","data-v-6d9d131f"]]),ie=e=>(F("data-v-7feeeba0"),e=e(),O(),e),re=ie((()=>w("div",{class:"header-icon icon icon-v3-42"},null,-1))),de={class:"content1"},ue={class:"title px-20px"},pe=ie((()=>w("i",{class:"icon icon-chubei"},null,-1))),me={style:{"margin-left":"4px"}},ve={class:"title2 px-20px"},fe=ie((()=>w("i",{class:"icon icon-ucon w-25px h-25px"},null,-1))),xe={class:"border-title",style:{"max-width":"200px"}},be={class:"info"},we={class:"text"},he={class:"text"},ye={class:"addr"},_e={class:"title-text",style:{color:"#07162d","font-weight":"normal"}},ge={class:"title2 px-20px","mt-4":""},$e=ie((()=>w("i",{class:"icon icon-sero w-25px h-25px","rounded-full":""},null,-1))),Ce={class:"border-title",style:{"max-width":"200px"}},Pe={class:"info"},ke={class:"text"},Ae={class:"text"},Be={class:"addr"},De={class:"title-text",style:{color:"#07162d","font-weight":"normal"}},He={class:"ownership-border mx-10px","mb-4":""},Ue={class:"title2","mt-4":""},Re=ie((()=>w("i",{class:"icon icon-eth w-25px h-25px"},null,-1))),Fe={class:"info"},Oe={class:"text"},Se={class:"text",style:{"margin-bottom":"0"}},Ie={class:"text2"},je={class:"text2"},Ne={class:"text2",style:{"margin-bottom":"24px"}},Ee={class:"addr"},Te={class:"title-text",style:{color:"#07162d","font-weight":"normal"}},Ve={class:"items"},Le={class:"item"},qe={class:"item-number"},Me={class:"item-value"},ze={class:"item"},Qe={class:"item-number"},We={class:"item-value"},Ge={key:0,class:"ownership","items-center":"",flex:"","justify-end":"",border:"","border-white":""},Je=ie((()=>w("i",{class:"icon icon-v3-62"},null,-1))),Ke={style:{width:"320px"}},Xe={"mr-4":""},Ye={class:"countDown"},Ze={class:"number"},ea={class:"day"},aa={class:"number"},sa={class:"day"},ta={class:"number"},la={class:"day"},na={key:0},oa=ie((()=>w("div",{class:"header-icon icon icon-v3-43"},null,-1))),ca=C(m({__name:"UconReserve1",props:{type:null},setup(a){W();const s=T(),o="0x7083609fCE4d1d8Dc0C979AAb8c869Ea2C873402",u="0x2170ed0880ac9a755fd29b2688956bd959f933f8",m="0x0704Ca7F73749F23A57997df53c02a9caA7Fed9B",y="0xAd792EDF5c99dACD920DD1950adD3F6e57eb0e82",C=new i(r,u),F=V(),O=L(),S=new p(o),I=17594208e5-(new Date).getTime(),j=l({time:I,onFinish:()=>{setTimeout((()=>{}),6e4)}}),N=P({cur:j.current});j.start();const Q=v(""),J=v(""),K=v([]),X=v([]);k((async()=>{!async function(){const e="0x0704Ca7F73749F23A57997df53c02a9caA7Fed9B",a=M,t=a.length,l=[],n=[];for(let s=0;s<t;s++){const{name:t,addr:l}=a[s],o=new i(r,l),c=await o.callData("balanceOf",[e]);n.push(c)}const o=await q.multicall(n);for(let i=0;i<t;i++){const{name:e,addr:t}=a[i],n=o[i][0],{price:r,decimal:d}=await s.getPrice(t),u=new c(n).times(r).dividedBy(new c(10).exponentiatedBy(d)).toString(10);"UCON"!=e&&l.push({name:e,addr:t,balance:n,price:r,usd:u,decimal:d})}K.value=l}(),async function(){const e="0x736D833387E50aA06F42c7361352758Ab8A9749a",a=M,t=a.length,l=[],n=[];for(let s=0;s<t;s++){const{name:t,addr:l}=a[s],o=new i(r,l),c=await o.callData("balanceOf",[e]);n.push(c)}const o=await q.multicall(n);for(let i=0;i<t;i++){const{name:e,addr:t}=a[i],n=o[i][0],{price:r,decimal:d}=await s.getPrice(t),u=new c(n).times(r).dividedBy(new c(10).exponentiatedBy(d)).toString(10);"UCON"!=e&&"SERO"!=e&&l.push({name:e,addr:t,balance:n,price:r,usd:u,decimal:d})}X.value=l}(),Q.value=await S.call("balanceOf",[y]),J.value=await C.call("balanceOf",[y])}));const Y=f((()=>K.value.reduce(((e,a)=>e.plus(a.usd)),new c(0)).toString(10))),Z=f((()=>X.value.reduce(((e,a)=>e.plus(a.usd)),new c(0)).toString(10))),ee=f((()=>new c(Y.value).plus(ae.value).plus(Z.value).decimalPlaces(0).toString(10))),ae=f((()=>{const{price:e}=s.getPriceByAddr(o);return new c(Q.value||"0").dividedBy(new c(10).exponentiatedBy(18)).times(e).decimalPlaces(0).toString(10)})),se=f((()=>{const{price:e}=s.getPriceByAddr(u);return new c(O.ethFeedbackremain||"0").dividedBy(new c(10).exponentiatedBy(18)).times(e).decimalPlaces(0).toString(10)})),te=f((()=>new c(ae.value||"0").plus(new c(se.value||0)).decimalPlaces(0).toString(10))),le=f((()=>F.account)),ne=f((()=>O.userInfo));f((()=>{})),A(le,(e=>{!async function(){try{const e=await d.call("getAccountDetail",[le.value,0,ia]);await d.call("getAccountRecord",[ne.value.id,ia]);if(!e)return void(oe.value=!1);const{totalInvestUSD:a,totalWithdrawUSD:s,needRecord:t}=e;if(1===new c(s).comparedTo(new c(a)))return void(oe.value=!1);oe.value=!0,ie.value=!t}catch(e){}}()})),A(ne,(e=>{ca.value="","0"!==e.id&&async function(){try{const e=await d.call("getAccountRecord",[ne.value.id,ia]);ca.value=e.idx}catch(e){}}()}));const oe=v(!1),ie=v(!1),ca=v(""),ia="0x2170ed0880ac9a755fd29b2688956bd959f933f8";async function ra(){ie.value||await d.execute("record",[ia])}function da(e){z(0===e?m:y)}return(s,l)=>{const o=B("QuestionFilled"),c=G,i=E,r=ce,d=e;return x(),b(h,null,[re,w("div",de,[w("div",ue,[pe,w("span",null,_(s.$t("Reserve.text4")),1),w("span",me,"~$"+_(g(t)(g(ee),6,0)),1)]),w("div",ve,[fe,w("span",xe,_(s.$t("Reserve.text5",{name:"UCON"})),1),$(i,{"popper-class":1===a.type?"popover-model":"popover-modelv2",placement:"top",width:"328px",trigger:"hover","propper-style":"{background: blue}"},{reference:D((()=>[$(c,{class:"icon question",color:"#16B364"},{default:D((()=>[$(o)])),_:1})])),default:D((()=>[w("div",be,[w("div",we,_(s.$t("Reserve.text7")),1),w("p",he,_(s.$t("Reserve.text8")),1),w("p",ye,[w("h4",_e,_(s.$t("Dao.text9")),1),w("span",{onClick:l[0]||(l[0]=e=>da(0))},_(g(m).toLowerCase()),1)])])])),_:1},8,["popper-class"]),w("span",null,"~$"+_(g(t)(g(Y),6,0)),1)]),$(r,{class:"px-20px",list:K.value},null,8,["list"]),w("div",ge,[$e,w("span",Ce,_(s.$t("Reserve.text5",{name:"SERO"})),1),$(i,{"popper-class":1===a.type?"popover-model":"popover-modelv2",placement:"top",width:"328px",trigger:"hover","propper-style":"{background: blue}"},{reference:D((()=>[$(c,{class:"icon question",color:"#16B364"},{default:D((()=>[$(o)])),_:1})])),default:D((()=>[w("div",Pe,[w("div",ke,_(s.$t("Reserve.text19")),1),w("p",Ae,_(s.$t("Reserve.text20")),1),w("p",Be,[w("h4",De,_(s.$t("Dao.text9")),1),w("span",{onClick:l[1]||(l[1]=e=>da(0))},_(g("0x736D833387E50aA06F42c7361352758Ab8A9749a").toLowerCase()),1)])])])),_:1},8,["popper-class"]),w("span",null,"~$"+_(g(t)(g(Z),6,0)),1)]),$(r,{class:"px-20px",list:X.value},null,8,["list"]),w("div",He,[w("div",Ue,[Re,w("span",null,_(s.$t("Reserve.text6")),1),$(i,{"popper-class":1===a.type?"popover-model":"popover-modelv2",placement:"top",width:"328px",trigger:"hover","propper-style":"{background: blue}"},{reference:D((()=>[$(c,{class:"icon question",color:"#16B364"},{default:D((()=>[$(o)])),_:1})])),default:D((()=>[w("div",Fe,[w("div",Oe,_(s.$t("Reserve.text10")),1),w("p",Se,_(s.$t("Reserve.text11")),1),w("p",Ie,_(s.$t("Reserve.text12")),1),w("p",je,_(s.$t("Reserve.text13")),1),w("p",Ne,_(s.$t("Reserve.text14")),1),w("p",Ee,[w("h4",Te,_(s.$t("Dao.text9")),1),w("span",{onClick:l[2]||(l[2]=e=>da(1))},_(g(y).toLowerCase()),1)])])])),_:1},8,["popper-class"]),w("span",null,"~$"+_(g(t)(g(te),6,0)),1)]),w("div",Ve,[w("div",Le,[w("div",null,[w("p",qe,_(g(n)(g(O).ethFeedbackremain,2))+" ETH",1),w("p",Me,"~$"+_(g(t)(g(se),6,0)),1)])]),w("div",ze,[w("div",null,[w("p",Qe,_(g(n)(Q.value,2))+" DOT",1),w("p",We,"~$"+_(g(t)(g(ae),6,0)),1)])])]),oe.value?(x(),b("div",Ge,[$(d,{borderColor:"transparent"},{text:D((()=>[w("div",Ke,[w("span",Xe,_(s.$t("v3.uip36")),1)])])),default:D((()=>[Je])),_:1}),w("div",Ye,[w("span",Ze,_(N.cur.days),1),w("span",ea,_(s.$t("Home.Day")),1),w("span",aa,_(N.cur.hours),1),w("span",sa,_(s.$t("Home.Hour")),1),w("span",ta,_(N.cur.minutes),1),w("span",la,_(s.$t("Home.Min")),1)]),w("span",{class:H(["ownership-btn",ie.value?"":"ownership-active"]),onClick:ra},[U(_(s.$t("v3.uip36Btn"))+" ",1),"0"!=ca.value?(x(),b("span",na,"("+_(ca.value)+")",1)):R("",!0)],2)])):R("",!0)])]),oa],64)}}}),[["__scopeId","data-v-7feeeba0"]]),ia={class:"tabs px-27px"},ra=["to","onClick"],da=C(m({__name:"Tabs",setup(e){const a=S(),s=I(),t=v(""),l=v([{name:"UpoolV1",path:"V1"},{name:"UpoolV2",path:"V2"},{name:"UpoolV3",path:"V3"}]);return k((()=>{a.name&&(t.value=a.name.toString())})),(e,t)=>(x(),b("div",ia,[(x(!0),b(h,null,y(l.value,(t=>(x(),b("div",{class:H(["tabs-item",{"tabs-active":g(a).path.includes(t.path)}]),key:t.name,to:t.path,onClick:e=>{return a=t.name,void s.push({name:a});var a}},_(e.$t("Home."+t.name)),11,ra)))),128))]))}}),[["__scopeId","data-v-7ff038e2"]]),ua={class:"text-item"},pa={class:"text-title"},ma={class:"text-bonus"},va={class:"text-bonus-ucon"},fa={class:"text-item"},xa={class:"text-title"},ba={class:"text-bonus-ucon"},wa=C(m({__name:"BonusPool",setup(e){const a=L(),s=f((()=>{const{avaiUCON:e,assignedUCON:s}=a.sysPoolInfo;return a.basePrice?c(e).times(c(a.basePrice)).decimalPlaces(0).toString(10):"0"})),t=f((()=>{const{assignedUCON:e}=a.sysPoolInfo;return a.basePrice?c(e).times(c(a.basePrice)).decimalPlaces(0).toString(10):"0"}));return f((()=>new c(a.sysPoolInfo.avaiUCON).plus(new c(a.sysPoolInfo.assignedUCON)).toString(10))),(e,l)=>(x(),b(h,null,[w("div",ua,[w("span",pa,_(e.$t("Home.BonusPot")),1),w("span",ma," $ "+_(g(o)(g(s))),1),w("span",va,_(g(n)(g(a).sysPoolInfo.avaiUCON))+" UCON ",1)]),w("div",fa,[w("span",xa,_(e.$t("Home.BonusDistributed")),1),w("span",null,"$ "+_(g(o)(g(t))),1),w("span",ba,_(g(n)(g(a).sysPoolInfo.assignedUCON))+" UCON ",1)])],64))}}),[["__scopeId","data-v-f0f2184d"]]),ha={class:"popup"},ya={class:"title"},_a={class:"content"},ga={class:"content-title"},$a={class:"input flex"},Ca=(e=>(F("data-v-0d4ed534"),e=e(),O(),e))((()=>w("i",{class:"icon icon-UCON"},null,-1))),Pa={class:"input-info"},ka={class:"number"},Aa={class:"usd"},Ba=C(m({__name:"HarvestDialog",emits:["click"],setup(e,{emit:a}){const{withdraw:s}=Q(),t=L(),l=v(!1),i=f((()=>t.basePrice?c(t.sharePoolAccount.ai.reward).times(c(t.basePrice)).decimalPlaces(0).toString(10):"0"));function r(){"0"!==t.sharePoolAccount.ai.reward&&(l.value=!0)}async function d(){await s(),l.value=!1}return(e,a)=>{const s=J,c=K;return x(),b(h,null,[w("div",{class:H(["bonus-detail-btn",{disable:"0"===g(t).sharePoolAccount.ai.reward}]),onClick:r},_(e.$t("Home.Harvest")),3),$(c,{show:l.value,"onUpdate:show":a[1]||(a[1]=e=>l.value=e),position:"bottom",round:"","overlay-class":"popup",style:{padding:"0px"},teleport:"body"},{default:D((()=>[w("div",ha,[w("h4",ya,[w("span",null,_(e.$t("Harvest.Title")),1),$(s,{name:"cross",onClick:a[0]||(a[0]=e=>l.value=!1)})]),w("div",_a,[w("h4",ga,[w("span",null,_(e.$t("Harvest.HarvestCurrent")),1)]),w("div",$a,[Ca,w("div",Pa,[w("p",ka,_(g(n)(g(t).sharePoolAccount.ai.reward))+" UCON ",1),w("p",Aa,"~$ "+_(g(o)(g(i))),1)])]),$(X,{fee:g(t).systemInfo.withdrawFee},null,8,["fee"]),w("div",{class:"confirm",onClick:d},_(e.$t("Confirm")),1)])])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-0d4ed534"]]),Da={class:"bonus-detail"},Ha={key:0,class:"bonus-detail-content"},Ua={class:"flex"},Ra={class:"bonus-detail-content-title2"},Fa={class:"item"},Oa={class:"label"},Sa={class:"doller"},Ia={class:"price"},ja={class:"item"},Na={class:"label"},Ea={class:"doller"},Ta={class:"price"},Va=C(m({__name:"BonusDetail",setup(e){const a=L(),s=v(!0),t=f((()=>a.basePrice?c(a.sharePoolAccount.ai.totalReward).times(c(a.basePrice)).decimalPlaces(0).toString(10):"0")),l=f((()=>a.basePrice?c(a.sharePoolAccount.ai.reward).times(c(a.basePrice)).decimalPlaces(0).toString(10):"0"));k((()=>{a.account}));const i=f((()=>{let e=[];return a.stakeList.forEach((a=>{let{level:s}=a;e.push(parseInt(s))})),e=e.sort(),e}));return(e,c)=>{const r=J;return x(),b("div",Da,[w("h4",{class:"bonus-detail-title",onClick:c[0]||(c[0]=e=>s.value=!s.value)},[U(_(e.$t("Home.BonusDetails"))+" ",1),s.value?(x(),j(r,{key:1,class:"icon",name:"arrow-up"})):(x(),j(r,{key:0,class:"icon",name:"arrow-down"}))]),$(N,null,{default:D((()=>[s.value?(x(),b("div",Ha,[w("div",Ua,[w("div",null,[w("h4",Ra,[w("span",null,_(e.$t("Home.UMedalRankU3")),1),(x(!0),b(h,null,y(g(i),(e=>(x(),b("i",{class:H(["icon","icon-u"+(e+1)])},null,2)))),256))]),w("div",Fa,[w("span",Oa,_(e.$t("Home.TotalBonusesHarvestd")),1),w("span",Sa,"$"+_(g(o)(g(t))),1),w("span",Ia,_(g(n)(g(a).sharePoolAccount.ai.totalReward))+" UCON ",1)]),w("div",ja,[w("span",Na,_(e.$t("Home.RecentBonus")),1),w("span",Ea,"$"+_(g(o)(g(l))),1),w("span",Ta,_(g(n)(g(a).sharePoolAccount.ai.reward))+" UCON ",1)])])]),$(Ba)])):R("",!0)])),_:1})])}}}),[["__scopeId","data-v-175043f6"]]),La={class:"tokens"},qa=["onClick"],Ma={class:"token-info"},za={class:"flex"},Qa={class:"name"},Wa={class:"usd"},Ga=C(m({__name:"TokenList",setup(e){const a=ae||se,s=T();new ee(a,"0x5aD19a8F5c41c60c156EA0b918FcAbf0aF9D2Dc6");const t=function(e,a){const s=[];for(let t=0;t<e.length;t+=a)s.push(e.slice(t,t+a));return s}(M,2);return k((async()=>{for(let a=0;a<M.length;a++)try{const{price:e}=await s.getPrice(M[a].addr),t=new c(e).div(new c("1000000")).decimalPlaces(3).toString(10);M[a].price=t}catch(e){}})),(e,a)=>{const s=Y,l=Z;return x(),j(l,{vertical:"",touchable:!1,class:"swipe",autoplay:"5000","show-indicators":!1},{default:D((()=>[(x(!0),b(h,null,y(g(t),((e,a)=>(x(),j(s,{class:"red"},{default:D((()=>[w("div",La,[(x(!0),b(h,null,y(e,((e,a)=>(x(),b("div",{class:"token",onClick:a=>function(e){const a=`https://pancakeswap.finance/swap?outputCurrency=${e.addr}&inputCurrency=0x55d398326f99059fF775485246999027B3197955`;location.href=a}(e)},[w("i",{class:H(["icon","icon-"+e.name.toLocaleLowerCase()])},null,2),w("div",Ma,[w("p",za,[w("span",Qa,_(e.name),1)]),w("div",Wa,"$"+_(e.price||"0"),1)])],8,qa)))),256))])])),_:2},1024)))),256))])),_:1})}}}),[["__scopeId","data-v-e107a9a2"]]),Ja={class:"banner"},Ka={class:""},Xa={class:"pl-20px"},Ya=(e=>(F("data-v-b79273df"),e=e(),O(),e))((()=>w("div",{class:"bg"},null,-1))),Za={class:"box"},es={class:"name"},as={class:"pool"},ss={class:"countDown"},ts={class:"number"},ls={class:"day"},ns={class:"number"},os={class:"day"},cs={class:"number"},is={class:"day"},rs={class:"text"},ds={class:"px-24px"},us=C(m({__name:"Banner",setup(e){const a=L();return(e,s)=>{const t=ca;return x(),b("div",Ja,[w("div",Ka,[w("div",Xa,[Ya,w("div",Za,[w("h4",es,_(e.$t("Home.Round",{value:Number(g(a).sysPoolInfo.rewardShareTimes)+1})),1),w("h4",as,_(e.$t("Home.BonusPool")),1),w("div",ss,[w("span",ts,_(g(a).current.cur.days),1),w("span",ls,_(e.$t("Home.Day")),1),w("span",ns,_(g(a).current.cur.hours),1),w("span",os,_(e.$t("Home.Hour")),1),w("span",cs,_(g(a).current.cur.minutes),1),w("span",is,_(e.$t("Home.Min")),1)]),w("p",rs,_(e.$t("Home.Until")),1)]),$(wa),$(Va)]),$(t,{type:1}),w("div",ds,[$(Ga)])]),$(da)])}}}),[["__scopeId","data-v-b79273df"]]),ps=m({__name:"Home",setup:e=>(e,a)=>{const s=B("RouterView");return x(),b(h,null,[$(us),$(s)],64)}});export{ps as default};
