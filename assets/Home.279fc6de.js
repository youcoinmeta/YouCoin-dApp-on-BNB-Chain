import{_ as e}from"./V3Popover.500f7c4b.js";import{_ as s}from"./V3More.vue_vue_type_style_index_0_lang.4344df77.js";import{p as a,q as t,i as n,c as l,b as o}from"./index.dbd7472d.js";import{B as c,C as i,E as r,w as d}from"./contract.f98d832e.js";import{o as u,E as p}from"./orderBy.95b26a5e.js";import{d as m,r as v,f,o as x,c as b,b as w,F as h,y,t as _,u as g,g as $,_ as C,B as P,l as k,k as B,q as A,w as D,n as H,z as U,p as R,h as F,m as O,A as S,a as j,i as I,T as N}from"./index.afc1812c.js";import"./el-popper.74d822c5.js";import{E}from"./el-popover.8bb66397.js";/* empty css                */import{b as T,c as V,u as L,m as q,T as M,l as z,g as Q}from"./contract.8e860f66.js";import{u as W}from"./useCopy.9187aa23.js";import{E as G}from"./index.cd537010.js";import{I as J}from"./index.961d12a4.js";import{P as K}from"./index.8ba6e42b.js";import{F as X}from"./Fee.4bef0b3a.js";import{S as Y,a as Z}from"./index.2365c71d.js";import{C as ee}from"./contractService.9b2abd0a.js";import{P as se,_ as ae}from"./PRICE_ABI.93206d30.js";import"./plugin-vue_export-helper.e781f763.js";import"./index.af9b65f0.js";const te={class:"content"},ne={class:"items"},le={class:"item-number"},oe={class:"item-value"},ce=C(m({__name:"UconFund",props:{list:null},setup(e){const n=e,l=v(4),o=v(!1),i=f((()=>u(n.list,(e=>new c(e.usd).toNumber()),["desc"]))),r=f((()=>o.value?i.value:i.value.slice(0,l.value))),d=()=>{o.value=!o.value};return(e,n)=>{const l=s;return x(),b("div",te,[w("div",ne,[(x(!0),b(h,null,y(g(r),(e=>(x(),b("div",{class:"item",key:e.addr},[w("div",null,[w("p",le,_(g(a)(e.balance,e.decimal))+" "+_(e.name),1),w("p",oe,"~$"+_(g(t)(e.usd,6,0)),1)])])))),128))]),$(l,{onChange:d})])}}}),[["__scopeId","data-v-6d9d131f"]]),ie=e=>(R("data-v-0673218b"),e=e(),F(),e),re=ie((()=>w("div",{class:"header-icon icon icon-v3-42"},null,-1))),de={class:"content1"},ue={class:"title px-20px"},pe=ie((()=>w("i",{class:"icon icon-chubei"},null,-1))),me={style:{"margin-left":"4px"}},ve={class:"title2 px-20px"},fe=ie((()=>w("i",{class:"icon icon-ucon w-25px h-25px"},null,-1))),xe={class:"border-title",style:{"max-width":"200px"}},be={class:"info"},we={class:"text"},he={class:"text"},ye={class:"addr"},_e={class:"title-text",style:{color:"#07162d","font-weight":"normal"}},ge={class:"title2 px-20px","mt-4":""},$e=ie((()=>w("i",{class:"icon icon-sero w-25px h-25px","rounded-full":""},null,-1))),Ce={class:"border-title",style:{"max-width":"200px"}},Pe={class:"info"},ke={class:"text"},Be={class:"text"},Ae={class:"addr"},De={class:"title-text",style:{color:"#07162d","font-weight":"normal"}},He={class:"ownership-border mx-10px","mb-4":""},Ue={class:"title2","mt-4":""},Re=ie((()=>w("i",{class:"icon icon-eth w-25px h-25px"},null,-1))),Fe={class:"info"},Oe={class:"text"},Se={class:"text",style:{"margin-bottom":"0"}},je={class:"text2"},Ie={class:"text2"},Ne={class:"text2",style:{"margin-bottom":"24px"}},Ee={class:"addr"},Te={class:"title-text",style:{color:"#07162d","font-weight":"normal"}},Ve={class:"items"},Le={class:"item"},qe={class:"item-number"},Me={class:"item-value"},ze={class:"item"},Qe={class:"item-number"},We={class:"item-value"},Ge={key:0,class:"ownership","items-center":"",flex:"","justify-end":"",border:"","border-white":""},Je=ie((()=>w("i",{class:"icon icon-v3-62"},null,-1))),Ke={style:{width:"320px"}},Xe={"mr-4":""},Ye={class:"countDown"},Ze={class:"number"},es={class:"day"},ss={class:"number"},as={class:"day"},ts={class:"number"},ns={class:"day"},ls=ie((()=>w("div",{class:"header-icon icon icon-v3-43"},null,-1))),os=C(m({__name:"UconReserve1",props:{type:null},setup(s){W();const a=T(),o="0x7083609fCE4d1d8Dc0C979AAb8c869Ea2C873402",u="0x2170ed0880ac9a755fd29b2688956bd959f933f8",m="0x0704Ca7F73749F23A57997df53c02a9caA7Fed9B",y="0xAd792EDF5c99dACD920DD1950adD3F6e57eb0e82",C=new i(r,u),R=V(),F=L(),O=new p(o),S=17594208e5-(new Date).getTime(),j=n({time:S,onFinish:()=>{setTimeout((()=>{}),6e4)}}),I=P({cur:j.current});j.start();const N=v(""),Q=v(""),J=v([]),K=v([]);k((async()=>{!async function(){const e="0x0704Ca7F73749F23A57997df53c02a9caA7Fed9B",s=M,t=s.length,n=[],l=[];for(let a=0;a<t;a++){const{name:t,addr:n}=s[a],o=new i(r,n),c=await o.callData("balanceOf",[e]);l.push(c)}const o=await q.multicall(l);for(let i=0;i<t;i++){const{name:e,addr:t}=s[i],l=o[i][0],{price:r,decimal:d}=await a.getPrice(t),u=new c(l).times(r).dividedBy(new c(10).exponentiatedBy(d)).toString(10);"UCON"!=e&&n.push({name:e,addr:t,balance:l,price:r,usd:u,decimal:d})}J.value=n}(),async function(){const e="0x736D833387E50aA06F42c7361352758Ab8A9749a",s=M,t=s.length,n=[],l=[];for(let a=0;a<t;a++){const{name:t,addr:n}=s[a],o=new i(r,n),c=await o.callData("balanceOf",[e]);l.push(c)}const o=await q.multicall(l);for(let i=0;i<t;i++){const{name:e,addr:t}=s[i],l=o[i][0],{price:r,decimal:d}=await a.getPrice(t),u=new c(l).times(r).dividedBy(new c(10).exponentiatedBy(d)).toString(10);"UCON"!=e&&"SERO"!=e&&n.push({name:e,addr:t,balance:l,price:r,usd:u,decimal:d})}K.value=n}(),N.value=await O.call("balanceOf",[y]),Q.value=await C.call("balanceOf",[y])}));const X=f((()=>J.value.reduce(((e,s)=>e.plus(s.usd)),new c(0)).toString(10))),Y=f((()=>K.value.reduce(((e,s)=>e.plus(s.usd)),new c(0)).toString(10))),Z=f((()=>new c(X.value).plus(ee.value).plus(Y.value).decimalPlaces(0).toString(10))),ee=f((()=>{const{price:e}=a.getPriceByAddr(o);return new c(N.value||"0").dividedBy(new c(10).exponentiatedBy(18)).times(e).decimalPlaces(0).toString(10)})),se=f((()=>{const{price:e}=a.getPriceByAddr(u);return new c(F.ethFeedbackremain||"0").dividedBy(new c(10).exponentiatedBy(18)).times(e).decimalPlaces(0).toString(10)})),ae=f((()=>R.account));B(ae,(e=>{!async function(){try{const e=await d.call("getAccountDetail",[ae.value,0,le]);if(!e)return void(te.value=!1);const{totalInvestUSD:s,totalWithdrawUSD:a,needRecord:t}=e;if(1===new c(a).comparedTo(new c(s)))return void(te.value=!1);te.value=!0,ne.value=!t}catch(e){}}()}));const te=v(!1),ne=v(!1),le="0x2170ed0880ac9a755fd29b2688956bd959f933f8";async function oe(){ne.value||await d.execute("record",[le])}function ie(e){z(0===e?m:y)}return(a,n)=>{const o=A("QuestionFilled"),c=G,i=E,r=ce,d=e;return x(),b(h,null,[re,w("div",de,[w("div",ue,[pe,w("span",null,_(a.$t("Reserve.text4")),1),w("span",me,"~$"+_(g(t)(g(Z),6,0)),1)]),w("div",ve,[fe,w("span",xe,_(a.$t("Reserve.text5",{name:"UCON"})),1),$(i,{"popper-class":1===s.type?"popover-model":"popover-modelv2",placement:"top",width:"328px",trigger:"hover","propper-style":"{background: blue}"},{reference:D((()=>[$(c,{class:"icon question",color:"#16B364"},{default:D((()=>[$(o)])),_:1})])),default:D((()=>[w("div",be,[w("div",we,_(a.$t("Reserve.text7")),1),w("p",he,_(a.$t("Reserve.text8")),1),w("p",ye,[w("h4",_e,_(a.$t("Dao.text9")),1),w("span",{onClick:n[0]||(n[0]=e=>ie(0))},_(g(m).toLowerCase()),1)])])])),_:1},8,["popper-class"]),w("span",null,"~$"+_(g(t)(g(X),6,0)),1)]),$(r,{class:"px-20px",list:J.value},null,8,["list"]),w("div",ge,[$e,w("span",Ce,_(a.$t("Reserve.text5",{name:"SERO"})),1),$(i,{"popper-class":1===s.type?"popover-model":"popover-modelv2",placement:"top",width:"328px",trigger:"hover","propper-style":"{background: blue}"},{reference:D((()=>[$(c,{class:"icon question",color:"#16B364"},{default:D((()=>[$(o)])),_:1})])),default:D((()=>[w("div",Pe,[w("div",ke,_(a.$t("Reserve.text19")),1),w("p",Be,_(a.$t("Reserve.text20")),1),w("p",Ae,[w("h4",De,_(a.$t("Dao.text9")),1),w("span",{onClick:n[1]||(n[1]=e=>ie(0))},_(g("0x736D833387E50aA06F42c7361352758Ab8A9749a").toLowerCase()),1)])])])),_:1},8,["popper-class"]),w("span",null,"~$"+_(g(t)(g(Y),6,0)),1)]),$(r,{class:"px-20px",list:K.value},null,8,["list"]),w("div",He,[w("div",Ue,[Re,w("span",null,_(a.$t("Reserve.text6")),1),$(i,{"popper-class":1===s.type?"popover-model":"popover-modelv2",placement:"top",width:"328px",trigger:"hover","propper-style":"{background: blue}"},{reference:D((()=>[$(c,{class:"icon question",color:"#16B364"},{default:D((()=>[$(o)])),_:1})])),default:D((()=>[w("div",Fe,[w("div",Oe,_(a.$t("Reserve.text10")),1),w("p",Se,_(a.$t("Reserve.text11")),1),w("p",je,_(a.$t("Reserve.text12")),1),w("p",Ie,_(a.$t("Reserve.text13")),1),w("p",Ne,_(a.$t("Reserve.text14")),1),w("p",Ee,[w("h4",Te,_(a.$t("Dao.text9")),1),w("span",{onClick:n[2]||(n[2]=e=>ie(1))},_(g(y).toLowerCase()),1)])])])),_:1},8,["popper-class"]),w("span",null,"~$"+_(g(t)(g(ee),6,0)),1)]),w("div",Ve,[w("div",Le,[w("div",null,[w("p",qe,_(g(l)(g(F).ethFeedbackremain,2))+" ETH",1),w("p",Me,"~$"+_(g(t)(g(se),6,0)),1)])]),w("div",ze,[w("div",null,[w("p",Qe,_(g(l)(N.value,2))+" DOT",1),w("p",We,"~$"+_(g(t)(g(ee),6,0)),1)])])]),te.value?(x(),b("div",Ge,[$(d,{borderColor:"transparent"},{text:D((()=>[w("div",Ke,[w("span",Xe,_(a.$t("v3.uip36")),1)])])),default:D((()=>[Je])),_:1}),w("div",Ye,[w("span",Ze,_(I.cur.days),1),w("span",es,_(a.$t("Home.Day")),1),w("span",ss,_(I.cur.hours),1),w("span",as,_(a.$t("Home.Hour")),1),w("span",ts,_(I.cur.minutes),1),w("span",ns,_(a.$t("Home.Min")),1)]),w("span",{class:H(["ownership-btn",ne.value?"":"ownership-active"]),onClick:oe},_(a.$t("v3.uip36Btn")),3)])):U("",!0)])]),ls],64)}}}),[["__scopeId","data-v-0673218b"]]),cs={class:"tabs px-27px"},is=["to","onClick"],rs=C(m({__name:"Tabs",setup(e){const s=O(),a=S(),t=v(""),n=v([{name:"UpoolV1",path:"V1"},{name:"UpoolV2",path:"V2"},{name:"UpoolV3",path:"V3"}]);return k((()=>{s.name&&(t.value=s.name.toString())})),(e,t)=>(x(),b("div",cs,[(x(!0),b(h,null,y(n.value,(t=>(x(),b("div",{class:H(["tabs-item",{"tabs-active":g(s).path.includes(t.path)}]),key:t.name,to:t.path,onClick:e=>{return s=t.name,void a.push({name:s});var s}},_(e.$t("Home."+t.name)),11,is)))),128))]))}}),[["__scopeId","data-v-7ff038e2"]]),ds={class:"text-item"},us={class:"text-title"},ps={class:"text-bonus"},ms={class:"text-bonus-ucon"},vs={class:"text-item"},fs={class:"text-title"},xs={class:"text-bonus-ucon"},bs=C(m({__name:"BonusPool",setup(e){const s=L(),a=f((()=>{const{avaiUCON:e,assignedUCON:a}=s.sysPoolInfo;return s.basePrice?c(e).times(c(s.basePrice)).decimalPlaces(0).toString(10):"0"})),t=f((()=>{const{assignedUCON:e}=s.sysPoolInfo;return s.basePrice?c(e).times(c(s.basePrice)).decimalPlaces(0).toString(10):"0"}));return f((()=>new c(s.sysPoolInfo.avaiUCON).plus(new c(s.sysPoolInfo.assignedUCON)).toString(10))),(e,n)=>(x(),b(h,null,[w("div",ds,[w("span",us,_(e.$t("Home.BonusPot")),1),w("span",ps," $ "+_(g(o)(g(a))),1),w("span",ms,_(g(l)(g(s).sysPoolInfo.avaiUCON))+" UCON ",1)]),w("div",vs,[w("span",fs,_(e.$t("Home.BonusDistributed")),1),w("span",null,"$ "+_(g(o)(g(t))),1),w("span",xs,_(g(l)(g(s).sysPoolInfo.assignedUCON))+" UCON ",1)])],64))}}),[["__scopeId","data-v-f0f2184d"]]),ws={class:"popup"},hs={class:"title"},ys={class:"content"},_s={class:"content-title"},gs={class:"input flex"},$s=(e=>(R("data-v-0d4ed534"),e=e(),F(),e))((()=>w("i",{class:"icon icon-UCON"},null,-1))),Cs={class:"input-info"},Ps={class:"number"},ks={class:"usd"},Bs=C(m({__name:"HarvestDialog",emits:["click"],setup(e,{emit:s}){const{withdraw:a}=Q(),t=L(),n=v(!1),i=f((()=>t.basePrice?c(t.sharePoolAccount.ai.reward).times(c(t.basePrice)).decimalPlaces(0).toString(10):"0"));function r(){"0"!==t.sharePoolAccount.ai.reward&&(n.value=!0)}async function d(){await a(),n.value=!1}return(e,s)=>{const a=J,c=K;return x(),b(h,null,[w("div",{class:H(["bonus-detail-btn",{disable:"0"===g(t).sharePoolAccount.ai.reward}]),onClick:r},_(e.$t("Home.Harvest")),3),$(c,{show:n.value,"onUpdate:show":s[1]||(s[1]=e=>n.value=e),position:"bottom",round:"","overlay-class":"popup",style:{padding:"0px"},teleport:"body"},{default:D((()=>[w("div",ws,[w("h4",hs,[w("span",null,_(e.$t("Harvest.Title")),1),$(a,{name:"cross",onClick:s[0]||(s[0]=e=>n.value=!1)})]),w("div",ys,[w("h4",_s,[w("span",null,_(e.$t("Harvest.HarvestCurrent")),1)]),w("div",gs,[$s,w("div",Cs,[w("p",Ps,_(g(l)(g(t).sharePoolAccount.ai.reward))+" UCON ",1),w("p",ks,"~$ "+_(g(o)(g(i))),1)])]),$(X,{fee:g(t).systemInfo.withdrawFee},null,8,["fee"]),w("div",{class:"confirm",onClick:d},_(e.$t("Confirm")),1)])])])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-0d4ed534"]]),As={class:"bonus-detail"},Ds={key:0,class:"bonus-detail-content"},Hs={class:"flex"},Us={class:"bonus-detail-content-title2"},Rs={class:"item"},Fs={class:"label"},Os={class:"doller"},Ss={class:"price"},js={class:"item"},Is={class:"label"},Ns={class:"doller"},Es={class:"price"},Ts=C(m({__name:"BonusDetail",setup(e){const s=L(),a=v(!0),t=f((()=>s.basePrice?c(s.sharePoolAccount.ai.totalReward).times(c(s.basePrice)).decimalPlaces(0).toString(10):"0")),n=f((()=>s.basePrice?c(s.sharePoolAccount.ai.reward).times(c(s.basePrice)).decimalPlaces(0).toString(10):"0"));k((()=>{s.account}));const i=f((()=>{let e=[];return s.stakeList.forEach((s=>{let{level:a}=s;e.push(parseInt(a))})),e=e.sort(),e}));return(e,c)=>{const r=J;return x(),b("div",As,[w("h4",{class:"bonus-detail-title",onClick:c[0]||(c[0]=e=>a.value=!a.value)},[j(_(e.$t("Home.BonusDetails"))+" ",1),a.value?(x(),I(r,{key:1,class:"icon",name:"arrow-up"})):(x(),I(r,{key:0,class:"icon",name:"arrow-down"}))]),$(N,null,{default:D((()=>[a.value?(x(),b("div",Ds,[w("div",Hs,[w("div",null,[w("h4",Us,[w("span",null,_(e.$t("Home.UMedalRankU3")),1),(x(!0),b(h,null,y(g(i),(e=>(x(),b("i",{class:H(["icon","icon-u"+(e+1)])},null,2)))),256))]),w("div",Rs,[w("span",Fs,_(e.$t("Home.TotalBonusesHarvestd")),1),w("span",Os,"$"+_(g(o)(g(t))),1),w("span",Ss,_(g(l)(g(s).sharePoolAccount.ai.totalReward))+" UCON ",1)]),w("div",js,[w("span",Is,_(e.$t("Home.RecentBonus")),1),w("span",Ns,"$"+_(g(o)(g(n))),1),w("span",Es,_(g(l)(g(s).sharePoolAccount.ai.reward))+" UCON ",1)])])]),$(Bs)])):U("",!0)])),_:1})])}}}),[["__scopeId","data-v-175043f6"]]),Vs={class:"tokens"},Ls=["onClick"],qs={class:"token-info"},Ms={class:"flex"},zs={class:"name"},Qs={class:"usd"},Ws=C(m({__name:"TokenList",setup(e){const s=se||ae,a=T();new ee(s,"0x5aD19a8F5c41c60c156EA0b918FcAbf0aF9D2Dc6");const t=function(e,s){const a=[];for(let t=0;t<e.length;t+=s)a.push(e.slice(t,t+s));return a}(M,2);return k((async()=>{for(let s=0;s<M.length;s++)try{const{price:e}=await a.getPrice(M[s].addr),t=new c(e).div(new c("1000000")).decimalPlaces(3).toString(10);M[s].price=t}catch(e){}})),(e,s)=>{const a=Y,n=Z;return x(),I(n,{vertical:"",touchable:!1,class:"swipe",autoplay:"5000","show-indicators":!1},{default:D((()=>[(x(!0),b(h,null,y(g(t),((e,s)=>(x(),I(a,{class:"red"},{default:D((()=>[w("div",Vs,[(x(!0),b(h,null,y(e,((e,s)=>(x(),b("div",{class:"token",onClick:s=>function(e){const s=`https://pancakeswap.finance/swap?outputCurrency=${e.addr}&inputCurrency=0x55d398326f99059fF775485246999027B3197955`;location.href=s}(e)},[w("i",{class:H(["icon","icon-"+e.name.toLocaleLowerCase()])},null,2),w("div",qs,[w("p",Ms,[w("span",zs,_(e.name),1)]),w("div",Qs,"$"+_(e.price||"0"),1)])],8,Ls)))),256))])])),_:2},1024)))),256))])),_:1})}}}),[["__scopeId","data-v-e107a9a2"]]),Gs={class:"banner"},Js={class:""},Ks={class:"pl-20px"},Xs=(e=>(R("data-v-b79273df"),e=e(),F(),e))((()=>w("div",{class:"bg"},null,-1))),Ys={class:"box"},Zs={class:"name"},ea={class:"pool"},sa={class:"countDown"},aa={class:"number"},ta={class:"day"},na={class:"number"},la={class:"day"},oa={class:"number"},ca={class:"day"},ia={class:"text"},ra={class:"px-24px"},da=C(m({__name:"Banner",setup(e){const s=L();return(e,a)=>{const t=os;return x(),b("div",Gs,[w("div",Js,[w("div",Ks,[Xs,w("div",Ys,[w("h4",Zs,_(e.$t("Home.Round",{value:Number(g(s).sysPoolInfo.rewardShareTimes)+1})),1),w("h4",ea,_(e.$t("Home.BonusPool")),1),w("div",sa,[w("span",aa,_(g(s).current.cur.days),1),w("span",ta,_(e.$t("Home.Day")),1),w("span",na,_(g(s).current.cur.hours),1),w("span",la,_(e.$t("Home.Hour")),1),w("span",oa,_(g(s).current.cur.minutes),1),w("span",ca,_(e.$t("Home.Min")),1)]),w("p",ia,_(e.$t("Home.Until")),1)]),$(bs),$(Ts)]),$(t,{type:1}),w("div",ra,[$(Ws)])]),$(rs)])}}}),[["__scopeId","data-v-b79273df"]]),ua=m({__name:"Home",setup:e=>(e,s)=>{const a=A("RouterView");return x(),b(h,null,[$(da),$(a)],64)}});export{ua as default};
