import{B as e,C as a,_ as n}from"./index.8e6de02e.js";import{W as c,r as s,c as o,h as t}from"./index.f862c6d0.js";import{u as l}from"./system.35b56b1e.js";const u=n,r=new c,{utils:f}=r;function i(n){const c=s(null),r=s("0"),i=s(""),d=l(),v=o((()=>d.account)),p=o((()=>!(1===new e(r.value).comparedTo(new e(f.toWei("1"))))));async function w(e){e=e||window.ethereum.selectedAddress||window.ethereum.address;const a=await c.value.call("balanceOf",[e]);return i.value=a,a}async function m(e){if(n&&e)try{const a=await c.value.call("allowance",[e,"0xA949696cfDf479d224DF4f95F0C3C2bD7230ccbf"]);r.value=a}catch(a){console.log(a)}}return t(v,(async e=>{e&&(m(e),w(e))})),async function(){n&&(c.value=new a(u,n),w(v.value),m(v.value))}(),{isEnable:p,balance:i,approved:r,getBalance:w,getApproved:m,approve:async function(){await c.value.execute("approve",["0xA949696cfDf479d224DF4f95F0C3C2bD7230ccbf","10000000000000000000000000"]),m(v.value)}}}export{i as u};
