import{_ as e}from"./V3More.vue_vue_type_style_index_0_lang.e55d1d38.js";import{p as a,q as s,i as t,b as n,c as l}from"./index.5403ce05.js";import{B as o,C as c,E as i,J as r}from"./contract.1e3e3035.js";import{o as d,E as u}from"./orderBy.8ca49678.js";import{d as p,r as m,f as v,o as f,c as b,b as x,F as w,s as h,t as y,u as _,g,_ as P,z as C,l as $,k as A,m as B,w as U,j as k,y as D,n as S,a as H,h as I,x as F,T as O}from"./index.0c2b9d6b.js";import"./el-popper.a8a6b2b9.js";import{E as R}from"./el-popover.b69ed70a.js";import{b as j,c as N,u as E,m as T,T as V,l as L,g as q}from"./contract.1adf2fa6.js";import{u as M}from"./useCopy.d2b7bfbd.js";import{E as z}from"./icon.29d2cd17.js";import{I as J}from"./index.1a2a6857.js";import{P as Q}from"./index.546d84c6.js";import{F as W}from"./Fee.86c24158.js";import{S as G,a as K}from"./index.1f7f0add.js";import{C as X}from"./contractService.54c70d3b.js";import{P as Y,_ as Z}from"./PRICE_ABI.93206d30.js";import"./event.365c2d6b.js";import"./typescript.bf83b9a7.js";const ee={class:"content"},ae={class:"items"},se={class:"item-number"},te={class:"item-value"},ne=P(p({__name:"UconFund",props:{list:{}},setup(t){const n=t,l=m(4),c=m(!1),i=v(()=>d(n.list,e=>new o(e.usd).toNumber(),["desc"])),r=v(()=>c.value?i.value:i.value.slice(0,l.value)),u=()=>{c.value=!c.value};return(t,n)=>{const l=e;return f(),b("div",ee,[x("div",ae,[(f(!0),b(w,null,h(_(r),e=>(f(),b("div",{class:"item",key:e.addr},[x("div",null,[x("p",se,y(_(a)(e.balance,e.decimal))+" "+y(e.name),1),x("p",te,"~$"+y(_(s)(e.usd,6,0)),1)])]))),128))]),g(l,{onChange:u})])}}}),[["__scopeId","data-v-6d9d131f"]]),le={class:"content1"},oe={class:"title px-20px"},ce={style:{"margin-left":"4px"}},ie={class:"title2 px-20px"},re={class:"border-title",style:{"max-width":"200px"}},de={class:"info"},ue={class:"text"},pe={class:"text"},me={class:"addr"},ve={class:"title-text",style:{color:"#07162d","font-weight":"normal"}},fe={class:"title2 px-20px","mt-4":""},be={class:"border-title",style:{"max-width":"200px"}},xe={class:"info"},we={class:"text"},he={class:"text"},ye={class:"addr"},_e={class:"title-text",style:{color:"#07162d","font-weight":"normal"}},ge="0x2170ed0880ac9a755fd29b2688956bd959f933f8",Pe=P(p({__name:"UconReserve1",props:{type:{}},setup(e){M();const a=j(),n="0x7083609fCE4d1d8Dc0C979AAb8c869Ea2C873402",l="0x2170ed0880ac9a755fd29b2688956bd959f933f8",d="0x0704Ca7F73749F23A57997df53c02a9caA7Fed9B",p="0xAd792EDF5c99dACD920DD1950adD3F6e57eb0e82",h=new c(i,l),P=N(),k=E();new u(n);const D=17594208e5-(new Date).getTime(),S=t({time:D,onFinish:()=>{setTimeout(()=>{},6e4)}});C({cur:S.current}),S.start();const H=m(""),I=m(""),F=m([]),O=m([]);$(async()=>{!async function(){const e="0x0704Ca7F73749F23A57997df53c02a9caA7Fed9B",s=V,t=s.length,n=[],l=[];for(let a=0;a<t;a++){const{name:t,addr:n}=s[a],o=new c(i,n),r=await o.callData("balanceOf",[e]);l.push(r)}const r=await T.multicall(l);for(let c=0;c<t;c++){const{name:e,addr:t}=s[c],l=r[c][0],{price:i,decimal:d}=await a.getPrice(t),u=new o(l).times(i).dividedBy(new o(10).exponentiatedBy(d)).toString(10);"UCON"!=e&&n.push({name:e,addr:t,balance:l,price:i,usd:u,decimal:d})}F.value=n}(),async function(){const e="0x736D833387E50aA06F42c7361352758Ab8A9749a",s=V,t=s.length,n=[],l=[];for(let a=0;a<t;a++){const{name:t,addr:n}=s[a],o=new c(i,n),r=await o.callData("balanceOf",[e]);l.push(r)}const r=await T.multicall(l);for(let c=0;c<t;c++){const{name:e,addr:t}=s[c],l=r[c][0],{price:i,decimal:d}=await a.getPrice(t),u=new o(l).times(i).dividedBy(new o(10).exponentiatedBy(d)).toString(10);"UCON"!=e&&"SERO"!=e&&n.push({name:e,addr:t,balance:l,price:i,usd:u,decimal:d})}O.value=n}(),I.value=await h.call("balanceOf",[p])});const q=v(()=>F.value.reduce((e,a)=>e.plus(a.usd),new o(0)).toString(10)),J=v(()=>O.value.reduce((e,a)=>e.plus(a.usd),new o(0)).toString(10)),Q=v(()=>new o(q.value).plus(W.value).plus(J.value).decimalPlaces(0).toString(10)),W=v(()=>{const{price:e}=a.getPriceByAddr(n);return new o(H.value||"0").dividedBy(new o(10).exponentiatedBy(18)).times(e).decimalPlaces(0).toString(10)}),G=v(()=>{const{price:e}=a.getPriceByAddr(l);return new o("0").dividedBy(new o(10).exponentiatedBy(18)).times(e).decimalPlaces(0).toString(10)});v(()=>new o(W.value||"0").plus(new o(G.value||0)).decimalPlaces(0).toString(10));const K=v(()=>P.account),X=v(()=>k.userInfo);v(()=>{}),A(K,e=>{!async function(){try{const e=await r.call("getAccountDetail",[K.value,0,ge]);await r.call("getAccountRecord",[X.value.id,ge]);if(!e)return void(Y.value=!1);const{totalInvestUSD:a,totalWithdrawUSD:s,needRecord:t}=e;if(1===new o(s).comparedTo(new o(a)))return void(Y.value=!1);Y.value=!0,Z.value=!t}catch(e){}}()}),A(X,e=>{ee.value="","0"!==e.id&&async function(){try{const e=await r.call("getAccountRecord",[X.value.id,ge]);ee.value=e.idx}catch(e){}}()});const Y=m(!1),Z=m(!1),ee=m("");function ae(e){L(0===e?d:p)}return(a,t)=>{const n=B("QuestionFilled"),l=z,o=R,c=ne;return f(),b(w,null,[t[6]||(t[6]=x("div",{class:"header-icon icon icon-v3-42"},null,-1)),x("div",le,[x("div",oe,[t[2]||(t[2]=x("i",{class:"icon icon-chubei"},null,-1)),x("span",null,y(a.$t("Reserve.text4")),1),x("span",ce,"~$"+y(_(s)(Q.value,6,0)),1)]),x("div",ie,[t[3]||(t[3]=x("i",{class:"icon icon-ucon w-25px h-25px"},null,-1)),x("span",re,y(a.$t("Reserve.text5",{name:"UCON"})),1),g(o,{"popper-class":1===e.type?"popover-model":"popover-modelv2",placement:"top",width:"328px",trigger:"hover","propper-style":"{background: blue}"},{reference:U(()=>[g(l,{class:"icon question",color:"#16B364"},{default:U(()=>[g(n)]),_:1})]),default:U(()=>[x("div",de,[x("div",ue,y(a.$t("Reserve.text7")),1),x("p",pe,y(a.$t("Reserve.text8")),1),x("p",me,[x("h4",ve,y(a.$t("Dao.text9")),1),x("span",{onClick:t[0]||(t[0]=e=>ae(0))},y(_(d).toLowerCase()),1)])])]),_:1},8,["popper-class"]),x("span",null,"~$"+y(_(s)(q.value,6,0)),1)]),g(c,{class:"px-20px",list:F.value},null,8,["list"]),x("div",fe,[t[4]||(t[4]=x("i",{class:"icon icon-sero w-25px h-25px","rounded-full":""},null,-1)),x("span",be,y(a.$t("Reserve.text5",{name:"SERO"})),1),g(o,{"popper-class":1===e.type?"popover-model":"popover-modelv2",placement:"top",width:"328px",trigger:"hover","propper-style":"{background: blue}"},{reference:U(()=>[g(l,{class:"icon question",color:"#16B364"},{default:U(()=>[g(n)]),_:1})]),default:U(()=>[x("div",xe,[x("div",we,y(a.$t("Reserve.text19")),1),x("p",he,y(a.$t("Reserve.text20")),1),x("p",ye,[x("h4",_e,y(a.$t("Dao.text9")),1),x("span",{onClick:t[1]||(t[1]=e=>ae(0))},y(_("0x736D833387E50aA06F42c7361352758Ab8A9749a").toLowerCase()),1)])])]),_:1},8,["popper-class"]),x("span",null,"~$"+y(_(s)(J.value,6,0)),1)]),g(c,{class:"px-20px",list:O.value},null,8,["list"]),t[5]||(t[5]=x("div",{"mb-4":""},null,-1))]),t[7]||(t[7]=x("div",{class:"header-icon icon icon-v3-43"},null,-1))],64)}}}),[["__scopeId","data-v-ace853cd"]]),Ce={class:"tabs px-27px"},$e=["to","onClick"],Ae=P(p({__name:"Tabs",setup(e){const a=k(),s=D(),t=m(""),n=m([{name:"UpoolV1",path:"V1"},{name:"UpoolV2",path:"V2"},{name:"UpoolV3",path:"V3"}]);return $(()=>{a.name&&(t.value=a.name.toString())}),(e,t)=>(f(),b("div",Ce,[(f(!0),b(w,null,h(_(n),t=>(f(),b("div",{class:S(["tabs-item",{"tabs-active":_(a).path.includes(t.path)}]),key:t.name,to:t.path,onClick:e=>{return a=t.name,void s.push({name:a});var a}},y(e.$t("Home."+t.name)),11,$e))),128))]))}}),[["__scopeId","data-v-7ff038e2"]]),Be={class:"text-item"},Ue={class:"text-title"},ke={class:"text-bonus"},De={class:"text-bonus-ucon"},Se={class:"text-item"},He={class:"text-title"},Ie={class:"text-bonus-ucon"},Fe=P(p({__name:"BonusPool",setup(e){const a=E(),s=v(()=>{const{avaiUCON:e,assignedUCON:s}=a.sysPoolInfo;return a.basePrice?o(e).times(o(a.basePrice)).decimalPlaces(0).toString(10):"0"}),t=v(()=>{const{assignedUCON:e}=a.sysPoolInfo;return a.basePrice?o(e).times(o(a.basePrice)).decimalPlaces(0).toString(10):"0"});return v(()=>new o(a.sysPoolInfo.avaiUCON).plus(new o(a.sysPoolInfo.assignedUCON)).toString(10)),(e,o)=>(f(),b(w,null,[x("div",Be,[x("span",Ue,y(e.$t("Home.BonusPot")),1),x("span",ke," $ "+y(_(n)(s.value)),1),x("span",De,y(_(l)(_(a).sysPoolInfo.avaiUCON))+" UCON ",1)]),x("div",Se,[x("span",He,y(e.$t("Home.BonusDistributed")),1),x("span",null,"$ "+y(_(n)(t.value)),1),x("span",Ie,y(_(l)(_(a).sysPoolInfo.assignedUCON))+" UCON ",1)])],64))}}),[["__scopeId","data-v-f0f2184d"]]),Oe={class:"popup"},Re={class:"title"},je={class:"content"},Ne={class:"content-title"},Ee={class:"input flex"},Te={class:"input-info"},Ve={class:"number"},Le={class:"usd"},qe=P(p({__name:"HarvestDialog",emits:["click"],setup(e,{emit:a}){const{withdraw:s}=q(),t=E(),c=m(!1),i=v(()=>t.basePrice?o(t.sharePoolAccount.ai.reward).times(o(t.basePrice)).decimalPlaces(0).toString(10):"0");function r(){"0"!==t.sharePoolAccount.ai.reward&&(c.value=!0)}async function d(){await s(),c.value=!1}return(e,a)=>{const s=J,o=Q;return f(),b(w,null,[x("div",{class:S(["bonus-detail-btn",{disable:"0"===_(t).sharePoolAccount.ai.reward}]),onClick:r},y(e.$t("Home.Harvest")),3),g(o,{show:c.value,"onUpdate:show":a[1]||(a[1]=e=>c.value=e),position:"bottom",round:"","overlay-class":"popup",style:{padding:"0px"},teleport:"body"},{default:U(()=>[x("div",Oe,[x("h4",Re,[x("span",null,y(e.$t("Harvest.Title")),1),g(s,{name:"cross",onClick:a[0]||(a[0]=e=>c.value=!1)})]),x("div",je,[x("h4",Ne,[x("span",null,y(e.$t("Harvest.HarvestCurrent")),1)]),x("div",Ee,[a[2]||(a[2]=x("i",{class:"icon icon-UCON"},null,-1)),x("div",Te,[x("p",Ve,y(_(l)(_(t).sharePoolAccount.ai.reward))+" UCON ",1),x("p",Le,"~$ "+y(_(n)(i.value)),1)])]),g(W,{fee:_(t).systemInfo.withdrawFee},null,8,["fee"]),x("div",{class:"confirm",onClick:d},y(e.$t("Confirm")),1)])])]),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-0d4ed534"]]),Me={class:"bonus-detail"},ze={key:0,class:"bonus-detail-content"},Je={class:"flex"},Qe={class:"bonus-detail-content-title2"},We={class:"item"},Ge={class:"label"},Ke={class:"doller"},Xe={class:"price"},Ye={class:"item"},Ze={class:"label"},ea={class:"doller"},aa={class:"price"},sa=P(p({__name:"BonusDetail",setup(e){const a=E(),s=m(!0),t=v(()=>a.basePrice?o(a.sharePoolAccount.ai.totalReward).times(o(a.basePrice)).decimalPlaces(0).toString(10):"0"),c=v(()=>a.basePrice?o(a.sharePoolAccount.ai.reward).times(o(a.basePrice)).decimalPlaces(0).toString(10):"0");$(()=>{a.account});const i=v(()=>{let e=[];return a.stakeList.forEach(a=>{let{level:s}=a;e.push(parseInt(s))}),e=e.sort(),e});return(e,o)=>{const r=J;return f(),b("div",Me,[x("h4",{class:"bonus-detail-title",onClick:o[0]||(o[0]=e=>s.value=!s.value)},[H(y(e.$t("Home.BonusDetails"))+" ",1),s.value?(f(),I(r,{key:1,class:"icon",name:"arrow-up"})):(f(),I(r,{key:0,class:"icon",name:"arrow-down"}))]),g(O,null,{default:U(()=>[s.value?(f(),b("div",ze,[x("div",Je,[x("div",null,[x("h4",Qe,[x("span",null,y(e.$t("Home.UMedalRankU3")),1),(f(!0),b(w,null,h(i.value,e=>(f(),b("i",{class:S(["icon","icon-u"+(e+1)])},null,2))),256))]),x("div",We,[x("span",Ge,y(e.$t("Home.TotalBonusesHarvestd")),1),x("span",Ke,"$"+y(_(n)(t.value)),1),x("span",Xe,y(_(l)(_(a).sharePoolAccount.ai.totalReward))+" UCON ",1)]),x("div",Ye,[x("span",Ze,y(e.$t("Home.RecentBonus")),1),x("span",ea,"$"+y(_(n)(c.value)),1),x("span",aa,y(_(l)(_(a).sharePoolAccount.ai.reward))+" UCON ",1)])])]),g(qe)])):F("",!0)]),_:1})])}}}),[["__scopeId","data-v-175043f6"]]),ta={class:"tokens"},na=["onClick"],la={class:"token-info"},oa={class:"flex"},ca={class:"name"},ia={class:"usd"},ra=P(p({__name:"TokenList",setup(e){const a=Y||Z,s=j();new X(a,"0x5aD19a8F5c41c60c156EA0b918FcAbf0aF9D2Dc6");const t=function(e,a){const s=[];for(let t=0;t<e.length;t+=a)s.push(e.slice(t,t+a));return s}(V,2);return $(async()=>{for(let a=0;a<V.length;a++)try{const{price:e}=await s.getPrice(V[a].addr),t=new o(e).div(new o("1000000")).decimalPlaces(3).toString(10);V[a].price=t}catch(e){}}),(e,a)=>{const s=G,n=K;return f(),I(n,{vertical:"",touchable:!1,class:"swipe",autoplay:"5000","show-indicators":!1},{default:U(()=>[(f(!0),b(w,null,h(_(t),(e,a)=>(f(),I(s,{class:"red"},{default:U(()=>[x("div",ta,[(f(!0),b(w,null,h(e,(e,a)=>(f(),b("div",{class:"token",onClick:a=>function(e){const a=`https://pancakeswap.finance/swap?outputCurrency=${e.addr}&inputCurrency=0x55d398326f99059fF775485246999027B3197955`;location.href=a}(e)},[x("i",{class:S(["icon","icon-"+e.name.toLocaleLowerCase()])},null,2),x("div",la,[x("p",oa,[x("span",ca,y(e.name),1)]),x("div",ia,"$"+y(e.price||"0"),1)])],8,na))),256))])]),_:2},1024))),256))]),_:1})}}}),[["__scopeId","data-v-e107a9a2"]]),da={class:"banner"},ua={class:""},pa={class:"pl-20px"},ma={class:"box"},va={class:"name"},fa={class:"pool"},ba={class:"countDown"},xa={class:"number"},wa={class:"day"},ha={class:"number"},ya={class:"day"},_a={class:"number"},ga={class:"day"},Pa={class:"text"},Ca={class:"px-24px"},$a=P(p({__name:"Banner",setup(e){const a=E();return(e,s)=>{const t=Pe;return f(),b("div",da,[x("div",ua,[x("div",pa,[s[0]||(s[0]=x("div",{class:"bg"},null,-1)),x("div",ma,[x("h4",va,y(e.$t("Home.Round",{value:Number(_(a).sysPoolInfo.rewardShareTimes)+1})),1),x("h4",fa,y(e.$t("Home.BonusPool")),1),x("div",ba,[x("span",xa,y(_(a).current.cur.days),1),x("span",wa,y(e.$t("Home.Day")),1),x("span",ha,y(_(a).current.cur.hours),1),x("span",ya,y(e.$t("Home.Hour")),1),x("span",_a,y(_(a).current.cur.minutes),1),x("span",ga,y(e.$t("Home.Min")),1)]),x("p",Pa,y(e.$t("Home.Until")),1)]),g(Fe),g(sa)]),g(t,{type:1}),x("div",Ca,[g(ra)])]),g(Ae)])}}}),[["__scopeId","data-v-b79273df"]]),Aa=p({__name:"Home",setup:e=>(e,a)=>{const s=B("RouterView");return f(),b(w,null,[g($a),g(s)],64)}});export{Aa as default};
