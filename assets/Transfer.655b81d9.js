import{I as e}from"./index.fddaed59.js";import{P as a}from"./index.1e048e1d.js";import{d as s,f as n,o as l,c as t,b as c,t as o,u as d,p as i,h as r,_ as u,W as f,r as v,g as p,F as m,l as b,i as w,w as x}from"./index.16dbb63b.js";import{F as T}from"./index.787338bc.js";import{c as _}from"./index.6d7a3683.js";import{B as h,C as $,E as g,_ as k}from"./contract.792d6314.js";import{O as A,_ as C}from"./OldUconSwapNewUcon.bd45c654.js";const j=e=>(i("data-v-8da5c642"),e=e(),r(),e),B={class:"token"},F=j((()=>c("i",{class:"icon icon-UCON"},null,-1))),I={class:"token-info"},D={class:"title"},E={class:"text"},O={class:"address"},U=j((()=>c("i",{class:"icon icon-explore"},null,-1))),y=u(s({__name:"TokenInfo",props:{address:null,title:null},setup(e){const a=e,s=n((()=>a.address.slice(0,10)+"..."+a.address.slice(-10)));return(a,n)=>(l(),t("div",B,[F,c("div",I,[c("p",D,o(e.title),1),c("p",E,o(a.$t("Transfer.TokenName")),1),c("div",O,[c("span",null,o(d(s)),1),U])])]))}}),[["__scopeId","data-v-8da5c642"]]),W={class:"input"},N={class:"input-left"},M={class:"balance"},P=u(s({__name:"Input",props:{balance:null},emits:["change","max"],setup(e,{emit:a}){const s=e,n=new f,{utils:i}=n,r=v("");function u(e){if(""===e)return void a("change","");let n=i.toWei(e);1!==h(n).comparedTo(h(s.balance))?a("change",e):r.value=i.fromWei(s.balance)}function b(){r.value=i.fromWei(s.balance)}return(a,s)=>{const n=T;return l(),t(m,null,[c("div",W,[c("div",{class:"max",onClick:b},o(a.$t("Max")),1),c("div",N,[p(n,{"model-value":r.value,"onUpdate:model-value":s[0]||(s[0]=e=>r.value=e),"onUpdate:modelValue":u,"input-align":"right"},null,8,["model-value"])])]),c("div",M,o(a.$t("Transfer.Balance"))+": "+o(d(_)(e.balance)),1)],64)}}}),[["__scopeId","data-v-64738194"]]),S={class:"text"},V={class:"text"},q={class:"text"};const z=u({},[["render",function(e,a){return l(),t(m,null,[c("p",S,o(e.$t("Transfer.Text1")),1),c("p",V,o(e.$t("Transfer.Text2")),1),c("p",q,o(e.$t("Transfer.Text3")),1)],64)}],["__scopeId","data-v-151d74ce"]]),G={class:"title"},H={class:"text"},J={class:"content"},K=(e=>(i("data-v-ee3ac878"),e=e(),r(),e))((()=>c("i",{class:"down icon icon-downcirclegreen"},null,-1))),L={class:"input"},Q={class:"balance"},R=u(s({__name:"Transfer",setup(s){const n=new f,{utils:t}=n,i=g||k,r=new $(A||C,"0x9d45fb381BB4Ae75Da4D3231Cd99b50E9F95Ae45"),u=v("0x96f75b57ba0cf514f932d24e076b6cb52e8fe583"),m=v("0x1F88E9956c8f8F64c8D5fEF5eD8A818E2237112c"),T=v("0x9d45fb381BB4Ae75Da4D3231Cd99b50E9F95Ae45"),h=new $(i,u.value),j=new $(i,m.value),B=v("0"),F=v(""),I=v(""),D=v(""),E=v(!0);function O(e){D.value=e}async function U(){const e=window.ethereum.selectedAddress||window.ethereum.address,a=await h.call("allowance",[e,T.value]);B.value=a}async function W(){if("0"!==B.value){if(""===D.value)return;const e=t.toWei(D.value);r.execute("burn",[e])}else await h.execute("approve",[T.value,"10000000000000000000000000000"]),U()}return b((async()=>{U(),async function(){const e=window.ethereum.selectedAddress||window.ethereum.address;F.value=await h.call("balanceOf",[e]),I.value=await j.call("balanceOf",[e])}()})),(s,n)=>{const t=e,i=a;return l(),w(i,{show:E.value,"onUpdate:show":n[0]||(n[0]=e=>E.value=e),position:"bottom",round:"",style:{padding:"0px"}},{default:x((()=>[c("h4",G,[c("span",H,o(s.$t("Transfer.Title")),1),p(t,{name:"close"})]),c("div",J,[p(y,{address:u.value,title:s.$t("Transfer.TokenOld")},null,8,["address","title"]),p(P,{balance:F.value,onChange:O},null,8,["balance"]),K,p(y,{address:m.value,title:s.$t("Transfer.TokenNew")},null,8,["address","title"]),c("div",L,o(D.value),1),c("div",Q,o(s.$t("Transfer.Balance"))+": "+o(d(_)(I.value)),1),p(z),c("div",{class:"confirm",onClick:W},o("0"!==B.value?s.$t("Confirm"):s.$t("Approve")),1)])])),_:1},8,["show"])}}}),[["__scopeId","data-v-ee3ac878"]]);export{R as default};
