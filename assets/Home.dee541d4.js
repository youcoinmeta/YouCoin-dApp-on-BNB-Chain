import{_ as e}from"./V3Popover.3dab1c48.js";import{_ as s}from"./V3More.vue_vue_type_style_index_0_lang.0e8af581.js";import{p as a,q as t,i as l,c as n,b as o}from"./index.98d45c53.js";import{B as c,C as i,E as r,J as u}from"./contract.e0ab860f.js";import{o as d,E as p}from"./orderBy.4fd71046.js";import{d as m,r as v,f,o as x,c as b,b as w,F as h,s as y,t as _,u as g,g as $,_ as C,z as P,l as k,k as A,m as B,w as D,n as H,a as U,x as R,j as S,y as I,h as O,T as j}from"./index.b07511b1.js";import"./el-popper.24f2f9cb.js";import{E as F}from"./el-popover.69a2e178.js";import{b as N,c as E,u as T,m as V,T as L,l as q,g as M}from"./contract.2524f19c.js";import{u as z}from"./useCopy.132031a6.js";import{E as J}from"./icon.4c92e160.js";import{I as Q}from"./index.9f199e60.js";import{P as W}from"./index.ae90ce81.js";import{F as G}from"./Fee.98348a85.js";import{S as K,a as X}from"./index.9a928fc0.js";import{C as Y}from"./contractService.e22282d9.js";import{P as Z,_ as ee}from"./PRICE_ABI.93206d30.js";import"./event.22232e8d.js";import"./typescript.bf83b9a7.js";const se={class:"content"},ae={class:"items"},te={class:"item-number"},le={class:"item-value"},ne=C(m({__name:"UconFund",props:{list:{}},setup(e){const l=e,n=v(4),o=v(!1),i=f(()=>d(l.list,e=>new c(e.usd).toNumber(),["desc"])),r=f(()=>o.value?i.value:i.value.slice(0,n.value)),u=()=>{o.value=!o.value};return(e,l)=>{const n=s;return x(),b("div",se,[w("div",ae,[(x(!0),b(h,null,y(g(r),e=>(x(),b("div",{class:"item",key:e.addr},[w("div",null,[w("p",te,_(g(a)(e.balance,e.decimal))+" "+_(e.name),1),w("p",le,"~$"+_(g(t)(e.usd,6,0)),1)])]))),128))]),$(n,{onChange:u})])}}}),[["__scopeId","data-v-6d9d131f"]]),oe={class:"content1"},ce={class:"title px-20px"},ie={style:{"margin-left":"4px"}},re={class:"title2 px-20px"},ue={class:"border-title",style:{"max-width":"200px"}},de={class:"info"},pe={class:"text"},me={class:"text"},ve={class:"addr"},fe={class:"title-text",style:{color:"#07162d","font-weight":"normal"}},xe={class:"title2 px-20px","mt-4":""},be={class:"border-title",style:{"max-width":"200px"}},we={class:"info"},he={class:"text"},ye={class:"text"},_e={class:"addr"},ge={class:"title-text",style:{color:"#07162d","font-weight":"normal"}},$e={class:"ownership-border mx-10px","mb-4":""},Ce={class:"title2","mt-4":""},Pe={class:"info"},ke={class:"text"},Ae={class:"text",style:{"margin-bottom":"0"}},Be={class:"text2"},De={class:"text2"},He={class:"text2",style:{"margin-bottom":"24px"}},Ue={class:"addr"},Re={class:"title-text",style:{color:"#07162d","font-weight":"normal"}},Se={class:"items"},Ie={class:"item"},Oe={class:"item-number"},je={class:"item-value"},Fe={class:"item"},Ne={class:"item-number"},Ee={class:"item-value"},Te={key:0,class:"ownership","items-center":"",flex:"","justify-end":"",border:"","border-white":""},Ve={style:{width:"320px"}},Le={"mr-4":""},qe={class:"countDown"},Me={class:"number"},ze={class:"day"},Je={class:"number"},Qe={class:"day"},We={class:"number"},Ge={class:"day"},Ke={key:0},Xe="0x2170ed0880ac9a755fd29b2688956bd959f933f8",Ye=C(m({__name:"UconReserve1",props:{type:{}},setup(s){z();const a=N(),o="0x7083609fCE4d1d8Dc0C979AAb8c869Ea2C873402",d="0x2170ed0880ac9a755fd29b2688956bd959f933f8",m="0x0704Ca7F73749F23A57997df53c02a9caA7Fed9B",y="0xAd792EDF5c99dACD920DD1950adD3F6e57eb0e82",C=new i(r,d),S=E(),I=T();new p(o);const O=17594208e5-(new Date).getTime(),j=l({time:O,onFinish:()=>{setTimeout(()=>{},6e4)}}),M=P({cur:j.current});j.start();const Q=v(""),W=v(""),G=v([]),K=v([]);k(async()=>{!async function(){const e="0x0704Ca7F73749F23A57997df53c02a9caA7Fed9B",s=L,t=s.length,l=[],n=[];for(let a=0;a<t;a++){const{name:t,addr:l}=s[a],o=new i(r,l),c=await o.callData("balanceOf",[e]);n.push(c)}const o=await V.multicall(n);for(let i=0;i<t;i++){const{name:e,addr:t}=s[i],n=o[i][0],{price:r,decimal:u}=await a.getPrice(t),d=new c(n).times(r).dividedBy(new c(10).exponentiatedBy(u)).toString(10);"UCON"!=e&&l.push({name:e,addr:t,balance:n,price:r,usd:d,decimal:u})}G.value=l}(),async function(){const e="0x736D833387E50aA06F42c7361352758Ab8A9749a",s=L,t=s.length,l=[],n=[];for(let a=0;a<t;a++){const{name:t,addr:l}=s[a],o=new i(r,l),c=await o.callData("balanceOf",[e]);n.push(c)}const o=await V.multicall(n);for(let i=0;i<t;i++){const{name:e,addr:t}=s[i],n=o[i][0],{price:r,decimal:u}=await a.getPrice(t),d=new c(n).times(r).dividedBy(new c(10).exponentiatedBy(u)).toString(10);"UCON"!=e&&"SERO"!=e&&l.push({name:e,addr:t,balance:n,price:r,usd:d,decimal:u})}K.value=l}(),W.value=await C.call("balanceOf",[y])});const X=f(()=>G.value.reduce((e,s)=>e.plus(s.usd),new c(0)).toString(10)),Y=f(()=>K.value.reduce((e,s)=>e.plus(s.usd),new c(0)).toString(10)),Z=f(()=>new c(X.value).plus(ee.value).plus(Y.value).decimalPlaces(0).toString(10)),ee=f(()=>{const{price:e}=a.getPriceByAddr(o);return new c(Q.value||"0").dividedBy(new c(10).exponentiatedBy(18)).times(e).decimalPlaces(0).toString(10)}),se=f(()=>{const{price:e}=a.getPriceByAddr(d);return new c("0").dividedBy(new c(10).exponentiatedBy(18)).times(e).decimalPlaces(0).toString(10)}),ae=f(()=>new c(ee.value||"0").plus(new c(se.value||0)).decimalPlaces(0).toString(10)),te=f(()=>S.account),le=f(()=>I.userInfo);f(()=>{}),A(te,e=>{!async function(){try{const e=await u.call("getAccountDetail",[te.value,0,Xe]);await u.call("getAccountRecord",[le.value.id,Xe]);if(!e)return void(Ye.value=!1);const{totalInvestUSD:s,totalWithdrawUSD:a,needRecord:t}=e;if(1===new c(a).comparedTo(new c(s)))return void(Ye.value=!1);Ye.value=!0,Ze.value=!t}catch(e){}}()}),A(le,e=>{es.value="","0"!==e.id&&async function(){try{const e=await u.call("getAccountRecord",[le.value.id,Xe]);es.value=e.idx}catch(e){}}()});const Ye=v(!1),Ze=v(!1),es=v("");async function ss(){Ze.value||await u.execute("record",[Xe])}function as(e){q(0===e?m:y)}return(a,l)=>{const o=B("QuestionFilled"),c=J,i=F,r=ne,u=e;return x(),b(h,null,[l[8]||(l[8]=w("div",{class:"header-icon icon icon-v3-42"},null,-1)),w("div",oe,[w("div",ce,[l[3]||(l[3]=w("i",{class:"icon icon-chubei"},null,-1)),w("span",null,_(a.$t("Reserve.text4")),1),w("span",ie,"~$"+_(g(t)(Z.value,6,0)),1)]),w("div",re,[l[4]||(l[4]=w("i",{class:"icon icon-ucon w-25px h-25px"},null,-1)),w("span",ue,_(a.$t("Reserve.text5",{name:"UCON"})),1),$(i,{"popper-class":1===s.type?"popover-model":"popover-modelv2",placement:"top",width:"328px",trigger:"hover","propper-style":"{background: blue}"},{reference:D(()=>[$(c,{class:"icon question",color:"#16B364"},{default:D(()=>[$(o)]),_:1})]),default:D(()=>[w("div",de,[w("div",pe,_(a.$t("Reserve.text7")),1),w("p",me,_(a.$t("Reserve.text8")),1),w("p",ve,[w("h4",fe,_(a.$t("Dao.text9")),1),w("span",{onClick:l[0]||(l[0]=e=>as(0))},_(g(m).toLowerCase()),1)])])]),_:1},8,["popper-class"]),w("span",null,"~$"+_(g(t)(X.value,6,0)),1)]),$(r,{class:"px-20px",list:G.value},null,8,["list"]),w("div",xe,[l[5]||(l[5]=w("i",{class:"icon icon-sero w-25px h-25px","rounded-full":""},null,-1)),w("span",be,_(a.$t("Reserve.text5",{name:"SERO"})),1),$(i,{"popper-class":1===s.type?"popover-model":"popover-modelv2",placement:"top",width:"328px",trigger:"hover","propper-style":"{background: blue}"},{reference:D(()=>[$(c,{class:"icon question",color:"#16B364"},{default:D(()=>[$(o)]),_:1})]),default:D(()=>[w("div",we,[w("div",he,_(a.$t("Reserve.text19")),1),w("p",ye,_(a.$t("Reserve.text20")),1),w("p",_e,[w("h4",ge,_(a.$t("Dao.text9")),1),w("span",{onClick:l[1]||(l[1]=e=>as(0))},_(g("0x736D833387E50aA06F42c7361352758Ab8A9749a").toLowerCase()),1)])])]),_:1},8,["popper-class"]),w("span",null,"~$"+_(g(t)(Y.value,6,0)),1)]),$(r,{class:"px-20px",list:K.value},null,8,["list"]),w("div",$e,[w("div",Ce,[l[6]||(l[6]=w("i",{class:"icon icon-eth w-25px h-25px"},null,-1)),w("span",null,_(a.$t("Reserve.text6")),1),$(i,{"popper-class":1===s.type?"popover-model":"popover-modelv2",placement:"top",width:"328px",trigger:"hover","propper-style":"{background: blue}"},{reference:D(()=>[$(c,{class:"icon question",color:"#16B364"},{default:D(()=>[$(o)]),_:1})]),default:D(()=>[w("div",Pe,[w("div",ke,_(a.$t("Reserve.text10")),1),w("p",Ae,_(a.$t("Reserve.text11")),1),w("p",Be,_(a.$t("Reserve.text12")),1),w("p",De,_(a.$t("Reserve.text13")),1),w("p",He,_(a.$t("Reserve.text14")),1),w("p",Ue,[w("h4",Re,_(a.$t("Dao.text9")),1),w("span",{onClick:l[2]||(l[2]=e=>as(1))},_(g(y).toLowerCase()),1)])])]),_:1},8,["popper-class"]),w("span",null,"~$"+_(g(t)(ae.value,6,0)),1)]),w("div",Se,[w("div",Ie,[w("div",null,[w("p",Oe,_(g(n)("0",2))+" ETH",1),w("p",je,"~$"+_(g(t)("0",6,0)),1)])]),w("div",Fe,[w("div",null,[w("p",Ne,_(g(n)(Q.value,2))+" DOT",1),w("p",Ee,"~$"+_(g(t)(ee.value,6,0)),1)])])]),Ye.value?(x(),b("div",Te,[$(u,{borderColor:"transparent"},{text:D(()=>[w("div",Ve,[w("span",Le,_(a.$t("v3.uip36")),1)])]),default:D(()=>[l[7]||(l[7]=w("i",{class:"icon icon-v3-62"},null,-1))]),_:1}),w("div",qe,[w("span",Me,_(g(M).cur.days),1),w("span",ze,_(a.$t("Home.Day")),1),w("span",Je,_(g(M).cur.hours),1),w("span",Qe,_(a.$t("Home.Hour")),1),w("span",We,_(g(M).cur.minutes),1),w("span",Ge,_(a.$t("Home.Min")),1)]),w("span",{class:H(["ownership-btn",Ze.value?"":"ownership-active"]),onClick:ss},[U(_(a.$t("v3.uip36Btn"))+" ",1),"0"!=es.value?(x(),b("span",Ke,"("+_(es.value)+")",1)):R("",!0)],2)])):R("",!0)])]),l[9]||(l[9]=w("div",{class:"header-icon icon icon-v3-43"},null,-1))],64)}}}),[["__scopeId","data-v-c9d9ad10"]]),Ze={class:"tabs px-27px"},es=["to","onClick"],ss=C(m({__name:"Tabs",setup(e){const s=S(),a=I(),t=v(""),l=v([{name:"UpoolV1",path:"V1"},{name:"UpoolV2",path:"V2"},{name:"UpoolV3",path:"V3"}]);return k(()=>{s.name&&(t.value=s.name.toString())}),(e,t)=>(x(),b("div",Ze,[(x(!0),b(h,null,y(g(l),t=>(x(),b("div",{class:H(["tabs-item",{"tabs-active":g(s).path.includes(t.path)}]),key:t.name,to:t.path,onClick:e=>{return s=t.name,void a.push({name:s});var s}},_(e.$t("Home."+t.name)),11,es))),128))]))}}),[["__scopeId","data-v-7ff038e2"]]),as={class:"text-item"},ts={class:"text-title"},ls={class:"text-bonus"},ns={class:"text-bonus-ucon"},os={class:"text-item"},cs={class:"text-title"},is={class:"text-bonus-ucon"},rs=C(m({__name:"BonusPool",setup(e){const s=T(),a=f(()=>{const{avaiUCON:e,assignedUCON:a}=s.sysPoolInfo;return s.basePrice?c(e).times(c(s.basePrice)).decimalPlaces(0).toString(10):"0"}),t=f(()=>{const{assignedUCON:e}=s.sysPoolInfo;return s.basePrice?c(e).times(c(s.basePrice)).decimalPlaces(0).toString(10):"0"});return f(()=>new c(s.sysPoolInfo.avaiUCON).plus(new c(s.sysPoolInfo.assignedUCON)).toString(10)),(e,l)=>(x(),b(h,null,[w("div",as,[w("span",ts,_(e.$t("Home.BonusPot")),1),w("span",ls," $ "+_(g(o)(a.value)),1),w("span",ns,_(g(n)(g(s).sysPoolInfo.avaiUCON))+" UCON ",1)]),w("div",os,[w("span",cs,_(e.$t("Home.BonusDistributed")),1),w("span",null,"$ "+_(g(o)(t.value)),1),w("span",is,_(g(n)(g(s).sysPoolInfo.assignedUCON))+" UCON ",1)])],64))}}),[["__scopeId","data-v-f0f2184d"]]),us={class:"popup"},ds={class:"title"},ps={class:"content"},ms={class:"content-title"},vs={class:"input flex"},fs={class:"input-info"},xs={class:"number"},bs={class:"usd"},ws=C(m({__name:"HarvestDialog",emits:["click"],setup(e,{emit:s}){const{withdraw:a}=M(),t=T(),l=v(!1),i=f(()=>t.basePrice?c(t.sharePoolAccount.ai.reward).times(c(t.basePrice)).decimalPlaces(0).toString(10):"0");function r(){"0"!==t.sharePoolAccount.ai.reward&&(l.value=!0)}async function u(){await a(),l.value=!1}return(e,s)=>{const a=Q,c=W;return x(),b(h,null,[w("div",{class:H(["bonus-detail-btn",{disable:"0"===g(t).sharePoolAccount.ai.reward}]),onClick:r},_(e.$t("Home.Harvest")),3),$(c,{show:l.value,"onUpdate:show":s[1]||(s[1]=e=>l.value=e),position:"bottom",round:"","overlay-class":"popup",style:{padding:"0px"},teleport:"body"},{default:D(()=>[w("div",us,[w("h4",ds,[w("span",null,_(e.$t("Harvest.Title")),1),$(a,{name:"cross",onClick:s[0]||(s[0]=e=>l.value=!1)})]),w("div",ps,[w("h4",ms,[w("span",null,_(e.$t("Harvest.HarvestCurrent")),1)]),w("div",vs,[s[2]||(s[2]=w("i",{class:"icon icon-UCON"},null,-1)),w("div",fs,[w("p",xs,_(g(n)(g(t).sharePoolAccount.ai.reward))+" UCON ",1),w("p",bs,"~$ "+_(g(o)(i.value)),1)])]),$(G,{fee:g(t).systemInfo.withdrawFee},null,8,["fee"]),w("div",{class:"confirm",onClick:u},_(e.$t("Confirm")),1)])])]),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-0d4ed534"]]),hs={class:"bonus-detail"},ys={key:0,class:"bonus-detail-content"},_s={class:"flex"},gs={class:"bonus-detail-content-title2"},$s={class:"item"},Cs={class:"label"},Ps={class:"doller"},ks={class:"price"},As={class:"item"},Bs={class:"label"},Ds={class:"doller"},Hs={class:"price"},Us=C(m({__name:"BonusDetail",setup(e){const s=T(),a=v(!0),t=f(()=>s.basePrice?c(s.sharePoolAccount.ai.totalReward).times(c(s.basePrice)).decimalPlaces(0).toString(10):"0"),l=f(()=>s.basePrice?c(s.sharePoolAccount.ai.reward).times(c(s.basePrice)).decimalPlaces(0).toString(10):"0");k(()=>{s.account});const i=f(()=>{let e=[];return s.stakeList.forEach(s=>{let{level:a}=s;e.push(parseInt(a))}),e=e.sort(),e});return(e,c)=>{const r=Q;return x(),b("div",hs,[w("h4",{class:"bonus-detail-title",onClick:c[0]||(c[0]=e=>a.value=!a.value)},[U(_(e.$t("Home.BonusDetails"))+" ",1),a.value?(x(),O(r,{key:1,class:"icon",name:"arrow-up"})):(x(),O(r,{key:0,class:"icon",name:"arrow-down"}))]),$(j,null,{default:D(()=>[a.value?(x(),b("div",ys,[w("div",_s,[w("div",null,[w("h4",gs,[w("span",null,_(e.$t("Home.UMedalRankU3")),1),(x(!0),b(h,null,y(i.value,e=>(x(),b("i",{class:H(["icon","icon-u"+(e+1)])},null,2))),256))]),w("div",$s,[w("span",Cs,_(e.$t("Home.TotalBonusesHarvestd")),1),w("span",Ps,"$"+_(g(o)(t.value)),1),w("span",ks,_(g(n)(g(s).sharePoolAccount.ai.totalReward))+" UCON ",1)]),w("div",As,[w("span",Bs,_(e.$t("Home.RecentBonus")),1),w("span",Ds,"$"+_(g(o)(l.value)),1),w("span",Hs,_(g(n)(g(s).sharePoolAccount.ai.reward))+" UCON ",1)])])]),$(ws)])):R("",!0)]),_:1})])}}}),[["__scopeId","data-v-175043f6"]]),Rs={class:"tokens"},Ss=["onClick"],Is={class:"token-info"},Os={class:"flex"},js={class:"name"},Fs={class:"usd"},Ns=C(m({__name:"TokenList",setup(e){const s=Z||ee,a=N();new Y(s,"0x5aD19a8F5c41c60c156EA0b918FcAbf0aF9D2Dc6");const t=function(e,s){const a=[];for(let t=0;t<e.length;t+=s)a.push(e.slice(t,t+s));return a}(L,2);return k(async()=>{for(let s=0;s<L.length;s++)try{const{price:e}=await a.getPrice(L[s].addr),t=new c(e).div(new c("1000000")).decimalPlaces(3).toString(10);L[s].price=t}catch(e){}}),(e,s)=>{const a=K,l=X;return x(),O(l,{vertical:"",touchable:!1,class:"swipe",autoplay:"5000","show-indicators":!1},{default:D(()=>[(x(!0),b(h,null,y(g(t),(e,s)=>(x(),O(a,{class:"red"},{default:D(()=>[w("div",Rs,[(x(!0),b(h,null,y(e,(e,s)=>(x(),b("div",{class:"token",onClick:s=>function(e){const s=`https://pancakeswap.finance/swap?outputCurrency=${e.addr}&inputCurrency=0x55d398326f99059fF775485246999027B3197955`;location.href=s}(e)},[w("i",{class:H(["icon","icon-"+e.name.toLocaleLowerCase()])},null,2),w("div",Is,[w("p",Os,[w("span",js,_(e.name),1)]),w("div",Fs,"$"+_(e.price||"0"),1)])],8,Ss))),256))])]),_:2},1024))),256))]),_:1})}}}),[["__scopeId","data-v-e107a9a2"]]),Es={class:"banner"},Ts={class:""},Vs={class:"pl-20px"},Ls={class:"box"},qs={class:"name"},Ms={class:"pool"},zs={class:"countDown"},Js={class:"number"},Qs={class:"day"},Ws={class:"number"},Gs={class:"day"},Ks={class:"number"},Xs={class:"day"},Ys={class:"text"},Zs={class:"px-24px"},ea=C(m({__name:"Banner",setup(e){const s=T();return(e,a)=>{const t=Ye;return x(),b("div",Es,[w("div",Ts,[w("div",Vs,[a[0]||(a[0]=w("div",{class:"bg"},null,-1)),w("div",Ls,[w("h4",qs,_(e.$t("Home.Round",{value:Number(g(s).sysPoolInfo.rewardShareTimes)+1})),1),w("h4",Ms,_(e.$t("Home.BonusPool")),1),w("div",zs,[w("span",Js,_(g(s).current.cur.days),1),w("span",Qs,_(e.$t("Home.Day")),1),w("span",Ws,_(g(s).current.cur.hours),1),w("span",Gs,_(e.$t("Home.Hour")),1),w("span",Ks,_(g(s).current.cur.minutes),1),w("span",Xs,_(e.$t("Home.Min")),1)]),w("p",Ys,_(e.$t("Home.Until")),1)]),$(rs),$(Us)]),$(t,{type:1}),w("div",Zs,[$(Ns)])]),$(ss)])}}}),[["__scopeId","data-v-b79273df"]]),sa=m({__name:"Home",setup:e=>(e,s)=>{const a=B("RouterView");return x(),b(h,null,[$(ea),$(a)],64)}});export{sa as default};
