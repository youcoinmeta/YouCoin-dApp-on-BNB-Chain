import{ai as e,M as t,f as a,L as o,G as n,r as l,l as i,k as s,as as r,aa as u,u as d,P as p,X as c,R as v,d as m,aw as f,ax as b,ay as y,az as g,o as h,c as x,x as w,F as I,n as C,J as S,b as z,h as k,w as E,ad as F,H as M,i as P,ao as $,t as B,e as N,S as j}from"./index.2cf58b4a.js";import{i as L,u as V,a as R,_,w as A}from"./event.a5ec15e7.js";import{i as O,V as T,E as H}from"./icon.671df3d5.js";import{k as W,i as K,m as U,j as G,v as D,$ as J,a4 as X,t as Y,u as Z,o as q}from"./contract.8624e4ef.js";import{m as Q}from"./typescript.bf83b9a7.js";import{b as ee,f as te,c as ae,d as oe,i as ne,e as le}from"./el-popper.0912e2ce.js";const ie="update:modelValue",se="change",re="input";let ue;const de={height:"0",visibility:"hidden",overflow:L()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},pe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],ce=e=>{const t=Number.parseFloat(e);return Number.isNaN(t)?e:t};function ve(e,t=1,a){var o,n;ue||(ue=document.createElement("textarea"),(null!=(o=e.parentNode)?o:document.body).appendChild(ue));const{paddingSize:l,borderSize:i,boxSizing:s,contextStyle:r}=function(e){const t=window.getComputedStyle(e),a=t.getPropertyValue("box-sizing"),o=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),n=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:pe.map(e=>[e,t.getPropertyValue(e)]),paddingSize:o,borderSize:n,boxSizing:a}}(e);r.forEach(([e,t])=>null==ue?void 0:ue.style.setProperty(e,t)),Object.entries(de).forEach(([e,t])=>null==ue?void 0:ue.style.setProperty(e,t,"important")),ue.value=e.value||e.placeholder||"";let u=ue.scrollHeight;const d={};"border-box"===s?u+=i:"content-box"===s&&(u-=l),ue.value="";const p=ue.scrollHeight-l;if(W(t)){let e=p*t;"border-box"===s&&(e=e+l+i),u=Math.max(e,u),d.minHeight=`${e}px`}if(W(a)){let e=p*a;"border-box"===s&&(e=e+l+i),u=Math.min(e,u)}return d.height=`${u}px`,null==(n=ue.parentNode)||n.removeChild(ue),ue=void 0,d}const me=K({id:{type:String,default:void 0},size:U,disabled:Boolean,modelValue:{type:G([String,Number,Object]),default:""},modelModifiers:{type:G(Object),default:()=>({})},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:G(String),default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:G([Boolean,Object]),default:!1},autocomplete:{type:G(String),default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,clearIcon:{type:O,default:e},showPassword:Boolean,showWordLimit:Boolean,wordLimitPosition:{type:String,values:["inside","outside"],default:"inside"},suffixIcon:{type:O},prefixIcon:{type:O},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:G([Object,Array,String]),default:()=>Q({})},autofocus:Boolean,rows:{type:Number,default:2},...ee(["ariaLabel"]),inputmode:{type:G(String),default:void 0},name:String}),fe={[ie]:e=>t(e),input:e=>t(e),change:e=>t(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},be=["class","style"],ye=/^on[A-Z]/,ge=()=>({form:n(te,void 0),formItem:n(ae,void 0)}),he=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:d})=>{n||(n=l(!1)),d||(d=l(!1));const p=o(),c=l();let v;const m=a(()=>{var a;return!!(!e.label&&!e.ariaLabel&&t&&t.inputIds&&(null==(a=t.inputIds)?void 0:a.length)<=1)});return i(()=>{v=s([r(e,"id"),n],([e,a])=>{const o=null!=e?e:a?void 0:oe().value;o!==c.value&&((null==t?void 0:t.removeInputId)&&!(()=>{let e=null==p?void 0:p.parent;for(;e;){if("ElFormItem"===e.type.name)return!1;if("ElLabelWrap"===e.type.name)return!0;e=e.parent}return!1})()&&(c.value&&t.removeInputId(c.value),(null==d?void 0:d.value)||a||!o||t.addInputId(o)),c.value=o)},{immediate:!0})}),u(()=>{v&&v(),(null==t?void 0:t.removeInputId)&&c.value&&t.removeInputId(c.value)}),{isLabeledByFormItem:m,inputId:c}},xe=e=>{const t=o();return a(()=>{var a,o;return null==(o=null==(a=null==t?void 0:t.proxy)?void 0:a.$props)?void 0:o[e]})},we=(e,t={})=>{const o=l(void 0),i=t.prop?o:xe("size"),s=t.global?o:X(),r=t.form?{size:void 0}:n(te,void 0),u=t.formItem?{size:void 0}:n(ae,void 0);return a(()=>i.value||d(e)||(null==u?void 0:u.size)||(null==r?void 0:r.size)||s.value||"")},Ie=e=>{const t=xe("disabled"),o=n(te,void 0);return a(()=>t.value||d(e)||(null==o?void 0:o.disabled)||!1)};const Ce="ElInput",Se=m({name:Ce,inheritAttrs:!1});const ze=A(_(m({...Se,props:me,emits:fe,setup(e,{expose:t,emit:n}){const u=e,m=f(),L=((e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,l=a(()=>((null==n?void 0:n.value)||[]).concat(be)),i=o();return i?a(()=>{var e;return J(Object.entries(null==(e=i.proxy)?void 0:e.$attrs).filter(([e])=>!(l.value.includes(e)||t&&ye.test(e))))}):(D("use-attrs","getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function"),a(()=>({})))})(),_=b(),A=a(()=>["textarea"===u.type?Q.b():Y.b(),Y.m(G.value),Y.is("disabled",X.value),Y.is("exceed",Ve.value),{[Y.b("group")]:_.prepend||_.append,[Y.m("prefix")]:_.prefix||u.prefixIcon,[Y.m("suffix")]:_.suffix||u.suffixIcon||u.clearable||u.showPassword,[Y.bm("suffix","password-clear")]:Be.value&&Ne.value,[Y.b("hidden")]:"hidden"===u.type},m.class]),O=a(()=>[Y.e("wrapper"),Y.is("focus",fe.value)]),{form:W,formItem:K}=ge(),{inputId:U}=he(u,{formItemContext:K}),G=we(),X=Ie(),Y=Z("input"),Q=Z("textarea"),ee=p(),te=p(),ae=l(!1),oe=l(!1),ue=l(),de=p(u.inputStyle),pe=a(()=>ee.value||te.value),{wrapperRef:me,isFocused:fe,handleFocus:xe,handleBlur:Se}=function(e,{disabled:t,beforeFocus:a,afterFocus:n,beforeBlur:i,afterBlur:r}={}){const u=o(),{emit:v}=u,m=p(),f=l(!1),b=e=>{const o=!!c(a)&&a(e);d(t)||f.value||o||(f.value=!0,v("focus",e),null==n||n())},y=e=>{var a;const o=!!c(i)&&i(e);d(t)||e.relatedTarget&&(null==(a=m.value)?void 0:a.contains(e.relatedTarget))||o||(f.value=!1,v("blur",e),null==r||r())};return s([m,()=>d(t)],([e,t])=>{e&&(t?e.removeAttribute("tabindex"):e.setAttribute("tabindex","-1"))}),V(m,"focus",b,!0),V(m,"blur",y,!0),V(m,"click",a=>{var o,n;d(t)||ne(a.target)||(null==(o=m.value)?void 0:o.contains(document.activeElement))&&m.value!==document.activeElement||null==(n=e.value)||n.focus()},!0),{isFocused:f,wrapperRef:m,handleFocus:b,handleBlur:y}}(pe,{disabled:X,afterBlur(){var e;u.validateEvent&&(null==(e=null==K?void 0:K.validate)||e.call(K,"blur").catch(e=>D(e)))}}),ze=a(()=>{var e;return null!=(e=null==W?void 0:W.statusIcon)&&e}),ke=a(()=>(null==K?void 0:K.validateState)||""),Ee=a(()=>ke.value&&T[ke.value]),Fe=a(()=>oe.value?y:g),Me=a(()=>[m.style]),Pe=a(()=>[u.inputStyle,de.value,{resize:u.resize}]),$e=a(()=>le(u.modelValue)?"":String(u.modelValue)),Be=a(()=>u.clearable&&!X.value&&!u.readonly&&!!$e.value&&(fe.value||ae.value)),Ne=a(()=>u.showPassword&&!X.value&&!!$e.value),je=a(()=>u.showWordLimit&&!!u.maxlength&&("text"===u.type||"textarea"===u.type)&&!X.value&&!u.readonly&&!u.showPassword),Le=a(()=>$e.value.length),Ve=a(()=>!!je.value&&Le.value>Number(u.maxlength)),Re=a(()=>!!_.suffix||!!u.suffixIcon||Be.value||u.showPassword||je.value||!!ke.value&&ze.value),_e=a(()=>!!Object.keys(u.modelModifiers).length),[Ae,Oe]=function(e){let t;return[function(){if(null==e.value)return;const{selectionStart:a,selectionEnd:o,value:n}=e.value;if(null==a||null==o)return;const l=n.slice(0,Math.max(0,a)),i=n.slice(Math.max(0,o));t={selectionStart:a,selectionEnd:o,value:n,beforeTxt:l,afterTxt:i}},function(){if(null==e.value||null==t)return;const{value:a}=e.value,{beforeTxt:o,afterTxt:n,selectionStart:l}=t;if(null==o||null==n||null==l)return;let i=a.length;if(a.endsWith(n))i=a.length-n.length;else if(a.startsWith(o))i=o.length;else{const e=o[l-1],t=a.indexOf(e,l-1);-1!==t&&(i=t+1)}e.value.setSelectionRange(i,i)}]}(ee);R(te,e=>{if(He(),!je.value||"both"!==u.resize)return;const t=e[0],{width:a}=t.contentRect;ue.value={right:`calc(100% - ${a+15+6}px)`}});const Te=()=>{const{type:e,autosize:t}=u;if(q&&"textarea"===e&&te.value)if(t){const e=j(t)?t.minRows:void 0,a=j(t)?t.maxRows:void 0,o=ve(te.value,e,a);de.value={overflowY:"hidden",...o},v(()=>{te.value.offsetHeight,de.value=o})}else de.value={minHeight:ve(te.value).minHeight}},He=(e=>{let t=!1;return()=>{var a;if(t||!u.autosize)return;null===(null==(a=te.value)?void 0:a.offsetParent)||(setTimeout(e),t=!0)}})(Te),We=()=>{const e=pe.value,t=u.formatter?u.formatter($e.value):$e.value;e&&e.value!==t&&(e.value=t)},Ke=e=>{const{trim:t,number:a}=u.modelModifiers;return t&&(e=e.trim()),a&&(e=`${ce(e)}`),u.formatter&&u.parser&&(e=u.parser(e)),e},Ue=async e=>{if(De.value)return;const{lazy:t}=u.modelModifiers;let{value:a}=e.target;t?n(re,a):(a=Ke(a),String(a)!==$e.value?(Ae(),n(ie,a),n(re,a),await v(),(u.formatter&&u.parser||!_e.value)&&We(),Oe()):u.formatter&&We())},Ge=async e=>{let{value:t}=e.target;t=Ke(t),u.modelModifiers.lazy&&n(ie,t),n(se,t),await v(),We()},{isComposing:De,handleCompositionStart:Je,handleCompositionUpdate:Xe,handleCompositionEnd:Ye}=function({afterComposition:e,emit:t}){const a=l(!1),o=e=>{var o;null==t||t("compositionupdate",e);const n=null==(o=e.target)?void 0:o.value,l=n[n.length-1]||"";a.value=!(e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e))(l)},n=o=>{null==t||t("compositionend",o),a.value&&(a.value=!1,v(()=>e(o)))};return{isComposing:a,handleComposition:e=>{"compositionend"===e.type?n(e):o(e)},handleCompositionStart:e=>{null==t||t("compositionstart",e),a.value=!0},handleCompositionUpdate:o,handleCompositionEnd:n}}({emit:n,afterComposition:Ue}),Ze=()=>{oe.value=!oe.value},qe=e=>{ae.value=!1,n("mouseleave",e)},Qe=e=>{ae.value=!0,n("mouseenter",e)},et=e=>{n("keydown",e)},tt=()=>{n(ie,""),n(se,""),n("clear"),n(re,"")};return s(()=>u.modelValue,()=>{var e;v(()=>Te()),u.validateEvent&&(null==(e=null==K?void 0:K.validate)||e.call(K,"change").catch(e=>D(e)))}),s($e,e=>{if(!pe.value)return;const{trim:t,number:a}=u.modelModifiers,o=pe.value.value,n=!a&&"number"!==u.type||/^0\d/.test(o)?o:`${ce(o)}`;n!==e&&(document.activeElement===pe.value&&"range"!==pe.value.type&&t&&n.trim()===e||We())}),s(()=>u.type,async()=>{await v(),We(),Te()}),i(()=>{!u.formatter&&u.parser&&D(Ce,"If you set the parser, you also need to set the formatter."),We(),v(Te)}),t({input:ee,textarea:te,ref:pe,textareaStyle:Pe,autosize:r(u,"autosize"),isComposing:De,focus:()=>{var e;return null==(e=pe.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=pe.value)?void 0:e.blur()},select:()=>{var e;null==(e=pe.value)||e.select()},clear:tt,resizeTextarea:Te}),(e,t)=>(h(),x("div",{class:C([d(A),{[d(Y).bm("group","append")]:e.$slots.append,[d(Y).bm("group","prepend")]:e.$slots.prepend}]),style:N(d(Me)),onMouseenter:Qe,onMouseleave:qe},[w(" input "),"textarea"!==e.type?(h(),x(I,{key:0},[w(" prepend slot "),e.$slots.prepend?(h(),x("div",{key:0,class:C(d(Y).be("group","prepend"))},[S(e.$slots,"prepend")],2)):w("v-if",!0),z("div",{ref_key:"wrapperRef",ref:me,class:C(d(O))},[w(" prefix slot "),e.$slots.prefix||e.prefixIcon?(h(),x("span",{key:0,class:C(d(Y).e("prefix"))},[z("span",{class:C(d(Y).e("prefix-inner"))},[S(e.$slots,"prefix"),e.prefixIcon?(h(),k(d(H),{key:0,class:C(d(Y).e("icon"))},{default:E(()=>[(h(),k(F(e.prefixIcon)))]),_:1},8,["class"])):w("v-if",!0)],2)],2)):w("v-if",!0),z("input",M({id:d(U),ref_key:"input",ref:ee,class:d(Y).e("inner")},d(L),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?oe.value?"text":"password":e.type,disabled:d(X),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,inputmode:e.inputmode,onCompositionstart:d(Je),onCompositionupdate:d(Xe),onCompositionend:d(Ye),onInput:Ue,onChange:Ge,onKeydown:et}),null,16,["id","name","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","inputmode","onCompositionstart","onCompositionupdate","onCompositionend"]),w(" suffix slot "),d(Re)?(h(),x("span",{key:1,class:C(d(Y).e("suffix"))},[z("span",{class:C(d(Y).e("suffix-inner"))},[d(Be)&&d(Ne)&&d(je)?w("v-if",!0):(h(),x(I,{key:0},[S(e.$slots,"suffix"),e.suffixIcon?(h(),k(d(H),{key:0,class:C(d(Y).e("icon"))},{default:E(()=>[(h(),k(F(e.suffixIcon)))]),_:1},8,["class"])):w("v-if",!0)],64)),d(Be)?(h(),k(d(H),{key:1,class:C([d(Y).e("icon"),d(Y).e("clear")]),onMousedown:P(d($),["prevent"]),onClick:tt},{default:E(()=>[(h(),k(F(e.clearIcon)))]),_:1},8,["class","onMousedown"])):w("v-if",!0),d(Ne)?(h(),k(d(H),{key:2,class:C([d(Y).e("icon"),d(Y).e("password")]),onClick:Ze,onMousedown:P(d($),["prevent"]),onMouseup:P(d($),["prevent"])},{default:E(()=>[(h(),k(F(d(Fe))))]),_:1},8,["class","onMousedown","onMouseup"])):w("v-if",!0),d(je)?(h(),x("span",{key:3,class:C([d(Y).e("count"),d(Y).is("outside","outside"===e.wordLimitPosition)])},[z("span",{class:C(d(Y).e("count-inner"))},B(d(Le))+" / "+B(e.maxlength),3)],2)):w("v-if",!0),d(ke)&&d(Ee)&&d(ze)?(h(),k(d(H),{key:4,class:C([d(Y).e("icon"),d(Y).e("validateIcon"),d(Y).is("loading","validating"===d(ke))])},{default:E(()=>[(h(),k(F(d(Ee))))]),_:1},8,["class"])):w("v-if",!0)],2)],2)):w("v-if",!0)],2),w(" append slot "),e.$slots.append?(h(),x("div",{key:1,class:C(d(Y).be("group","append"))},[S(e.$slots,"append")],2)):w("v-if",!0)],64)):(h(),x(I,{key:1},[w(" textarea "),z("textarea",M({id:d(U),ref_key:"textarea",ref:te,class:[d(Q).e("inner"),d(Y).is("focus",d(fe))]},d(L),{name:e.name,minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:d(X),readonly:e.readonly,autocomplete:e.autocomplete,style:d(Pe),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:d(Je),onCompositionupdate:d(Xe),onCompositionend:d(Ye),onInput:Ue,onFocus:d(xe),onBlur:d(Se),onChange:Ge,onKeydown:et}),null,16,["id","name","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),d(je)?(h(),x("span",{key:0,style:N(ue.value),class:C([d(Y).e("count"),d(Y).is("outside","outside"===e.wordLimitPosition)])},B(d(Le))+" / "+B(e.maxlength),7)):w("v-if",!0)],64))],38))}}),[["__file","input.vue"]]));export{se as C,ze as E,re as I,ie as U,we as a,he as b,Ie as c,ge as u};
