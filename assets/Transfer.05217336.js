import{I as e}from"./index.6aada37c.js";import{P as a}from"./index.849b75f5.js";import{_ as s}from"./OldUconSwapNewUcon.84f23a4d.js";import{c as n,B as l,C as t,_ as c}from"./index.ae69eab0.js";import{d as o,c as d,o as i,a as r,e as u,t as f,u as v,p,f as m,_ as w,W as b,r as x,b as T,F as _,j as h,g as $,w as g}from"./index.955b867e.js";import{F as k}from"./index.eda4f55a.js";const A=e=>(p("data-v-8da5c642"),e=e(),m(),e),C={class:"token"},j=A((()=>u("i",{class:"icon icon-UCON"},null,-1))),B={class:"token-info"},F={class:"title"},I={class:"text"},D={class:"address"},U=A((()=>u("i",{class:"icon icon-explore"},null,-1))),y=w(o({__name:"TokenInfo",props:{address:null,title:null},setup(e){const a=e,s=d((()=>a.address.slice(0,10)+"..."+a.address.slice(-10)));return(a,n)=>(i(),r("div",C,[j,u("div",B,[u("p",F,f(e.title),1),u("p",I,f(a.$t("Transfer.TokenName")),1),u("div",D,[u("span",null,f(v(s)),1),U])])]))}}),[["__scopeId","data-v-8da5c642"]]),E={class:"input"},O={class:"input-left"},W={class:"balance"},N=w(o({__name:"Input",props:{balance:null},emits:["change","max"],setup(e,{emit:a}){const s=e,t=new b,{utils:c}=t,o=x("");function d(e){if(""===e)return void a("change","");let n=c.toWei(e);1!==l(n).comparedTo(l(s.balance))?a("change",e):o.value=c.fromWei(s.balance)}function p(){o.value=c.fromWei(s.balance)}return(a,s)=>{const l=k;return i(),r(_,null,[u("div",E,[u("div",{class:"max",onClick:p},f(a.$t("Max")),1),u("div",O,[T(l,{"model-value":o.value,"onUpdate:model-value":s[0]||(s[0]=e=>o.value=e),"onUpdate:modelValue":d,"input-align":"right"},null,8,["model-value"])])]),u("div",W,f(a.$t("Transfer.Balance"))+": "+f(v(n)(e.balance)),1)],64)}}}),[["__scopeId","data-v-64738194"]]),M={class:"text"},P={class:"text"},S={class:"text"};const V=w({},[["render",function(e,a){return i(),r(_,null,[u("p",M,f(e.$t("Transfer.Text1")),1),u("p",P,f(e.$t("Transfer.Text2")),1),u("p",S,f(e.$t("Transfer.Text3")),1)],64)}],["__scopeId","data-v-151d74ce"]]),q={class:"title"},z={class:"text"},G={class:"content"},H=(e=>(p("data-v-ee3ac878"),e=e(),m(),e))((()=>u("i",{class:"down icon icon-downcirclegreen"},null,-1))),J={class:"input"},K={class:"balance"},L=w(o({__name:"Transfer",setup(l){const o=new b,{utils:d}=o,r=c,p=new t(s,"0x9d45fb381BB4Ae75Da4D3231Cd99b50E9F95Ae45"),m=x("0x96f75b57ba0cf514f932d24e076b6cb52e8fe583"),w=x("0x1F88E9956c8f8F64c8D5fEF5eD8A818E2237112c"),_=x("0x9d45fb381BB4Ae75Da4D3231Cd99b50E9F95Ae45"),k=new t(r,m.value),A=new t(r,w.value),C=x("0"),j=x(""),B=x(""),F=x(""),I=x(!0);function D(e){F.value=e}async function U(){const e=window.ethereum.selectedAddress||window.ethereum.address,a=await k.call("allowance",[e,_.value]);C.value=a}async function E(){if("0"!==C.value){if(""===F.value)return;const e=d.toWei(F.value);p.execute("burn",[e])}else await k.execute("approve",[_.value,"10000000000000000000000000000"]),U()}return h((async()=>{U(),async function(){const e=window.ethereum.selectedAddress||window.ethereum.address;j.value=await k.call("balanceOf",[e]),B.value=await A.call("balanceOf",[e])}()})),(s,l)=>{const t=e,c=a;return i(),$(c,{show:I.value,"onUpdate:show":l[0]||(l[0]=e=>I.value=e),position:"bottom",round:"",style:{padding:"0px"}},{default:g((()=>[u("h4",q,[u("span",z,f(s.$t("Transfer.Title")),1),T(t,{name:"close"})]),u("div",G,[T(y,{address:m.value,title:s.$t("Transfer.TokenOld")},null,8,["address","title"]),T(N,{balance:j.value,onChange:D},null,8,["balance"]),H,T(y,{address:w.value,title:s.$t("Transfer.TokenNew")},null,8,["address","title"]),u("div",J,f(F.value),1),u("div",K,f(s.$t("Transfer.Balance"))+": "+f(v(n)(B.value)),1),T(V),u("div",{class:"confirm",onClick:E},f("0"!==C.value?s.$t("Confirm"):s.$t("Approve")),1)])])),_:1},8,["show"])}}}),[["__scopeId","data-v-ee3ac878"]]);export{L as default};
