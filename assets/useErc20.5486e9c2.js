import{B as l,C as b,_ as d}from"./index.02b1c43b.js";import{W as C,r as u,c as f,g as y}from"./index.9248fa4c.js";import{u as A}from"./system.0ec7dd7e.js";const _=d,g=new C,{utils:D}=g;function E(o){const a=u(null),s=u("0"),i=u(""),p=A(),c=f(()=>p.account),v=f(()=>!(new l(s.value).comparedTo(new l(D.toWei("1")))===1));y(c,async e=>{e&&(n(e),r(e))});async function m(){o&&(a.value=new b(_,o),r(c.value),n(c.value))}async function r(e){e=e||window.ethereum.selectedAddress||window.ethereum.address;const t=await a.value.call("balanceOf",[e]);return i.value=t,t}async function n(e){if(o&&e)try{const t=await a.value.call("allowance",[e,"0xA949696cfDf479d224DF4f95F0C3C2bD7230ccbf"]);s.value=t}catch(t){console.log(t)}}async function w(){await a.value.execute("approve",["0xA949696cfDf479d224DF4f95F0C3C2bD7230ccbf","10000000000000000000000000"]),n(c.value)}return m(),{isEnable:v,balance:i,approved:s,getBalance:r,getApproved:n,approve:w}}export{E as u};
